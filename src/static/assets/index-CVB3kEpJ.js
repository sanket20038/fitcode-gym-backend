function k2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in t)){const f=Object.getOwnPropertyDescriptor(r,l);f&&Object.defineProperty(t,l,f.get?f:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const f of l)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&r(p)}).observe(document,{childList:!0,subtree:!0});function n(l){const f={};return l.integrity&&(f.integrity=l.integrity),l.referrerPolicy&&(f.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?f.credentials="include":l.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(l){if(l.ep)return;l.ep=!0;const f=n(l);fetch(l.href,f)}})();var Ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function m1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o0={exports:{}},mc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function DA(){if(Kp)return mc;Kp=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,f){var p=null;if(f!==void 0&&(p=""+f),l.key!==void 0&&(p=""+l.key),"key"in l){f={};for(var v in l)v!=="key"&&(f[v]=l[v])}else f=l;return l=f.ref,{$$typeof:t,type:r,key:p,ref:l!==void 0?l:null,props:f}}return mc.Fragment=e,mc.jsx=n,mc.jsxs=n,mc}var Zp;function OA(){return Zp||(Zp=1,o0.exports=DA()),o0.exports}var M=OA(),s0={exports:{}},ft={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function LA(){if(Qp)return ft;Qp=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),p=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),_=Symbol.iterator;function I(j){return j===null||typeof j!="object"?null:(j=_&&j[_]||j["@@iterator"],typeof j=="function"?j:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,D={};function F(j,xe,Ee){this.props=j,this.context=xe,this.refs=D,this.updater=Ee||O}F.prototype.isReactComponent={},F.prototype.setState=function(j,xe){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,xe,"setState")},F.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function G(){}G.prototype=F.prototype;function q(j,xe,Ee){this.props=j,this.context=xe,this.refs=D,this.updater=Ee||O}var H=q.prototype=new G;H.constructor=q,P(H,F.prototype),H.isPureReactComponent=!0;var K=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},oe=Object.prototype.hasOwnProperty;function Z(j,xe,Ee,Se,Oe,tt){return Ee=tt.ref,{$$typeof:t,type:j,key:xe,ref:Ee!==void 0?Ee:null,props:tt}}function ae(j,xe){return Z(j.type,xe,void 0,void 0,void 0,j.props)}function ee(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function Me(j){var xe={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Ee){return xe[Ee]})}var Re=/\/+/g;function Te(j,xe){return typeof j=="object"&&j!==null&&j.key!=null?Me(""+j.key):xe.toString(36)}function Be(){}function qe(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(Be,Be):(j.status="pending",j.then(function(xe){j.status==="pending"&&(j.status="fulfilled",j.value=xe)},function(xe){j.status==="pending"&&(j.status="rejected",j.reason=xe)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function re(j,xe,Ee,Se,Oe){var tt=typeof j;(tt==="undefined"||tt==="boolean")&&(j=null);var be=!1;if(j===null)be=!0;else switch(tt){case"bigint":case"string":case"number":be=!0;break;case"object":switch(j.$$typeof){case t:case e:be=!0;break;case T:return be=j._init,re(be(j._payload),xe,Ee,Se,Oe)}}if(be)return Oe=Oe(j),be=Se===""?"."+Te(j,0):Se,K(Oe)?(Ee="",be!=null&&(Ee=be.replace(Re,"$&/")+"/"),re(Oe,xe,Ee,"",function(Ct){return Ct})):Oe!=null&&(ee(Oe)&&(Oe=ae(Oe,Ee+(Oe.key==null||j&&j.key===Oe.key?"":(""+Oe.key).replace(Re,"$&/")+"/")+be)),xe.push(Oe)),1;be=0;var Pe=Se===""?".":Se+":";if(K(j))for(var ke=0;ke<j.length;ke++)Se=j[ke],tt=Pe+Te(Se,ke),be+=re(Se,xe,Ee,tt,Oe);else if(ke=I(j),typeof ke=="function")for(j=ke.call(j),ke=0;!(Se=j.next()).done;)Se=Se.value,tt=Pe+Te(Se,ke++),be+=re(Se,xe,Ee,tt,Oe);else if(tt==="object"){if(typeof j.then=="function")return re(qe(j),xe,Ee,Se,Oe);throw xe=String(j),Error("Objects are not valid as a React child (found: "+(xe==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":xe)+"). If you meant to render a collection of children, use an array instead.")}return be}function ne(j,xe,Ee){if(j==null)return j;var Se=[],Oe=0;return re(j,Se,"","",function(tt){return xe.call(Ee,tt,Oe++)}),Se}function he(j){if(j._status===-1){var xe=j._result;xe=xe(),xe.then(function(Ee){(j._status===0||j._status===-1)&&(j._status=1,j._result=Ee)},function(Ee){(j._status===0||j._status===-1)&&(j._status=2,j._result=Ee)}),j._status===-1&&(j._status=0,j._result=xe)}if(j._status===1)return j._result.default;throw j._result}var ie=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var xe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(xe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function De(){}return ft.Children={map:ne,forEach:function(j,xe,Ee){ne(j,function(){xe.apply(this,arguments)},Ee)},count:function(j){var xe=0;return ne(j,function(){xe++}),xe},toArray:function(j){return ne(j,function(xe){return xe})||[]},only:function(j){if(!ee(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},ft.Component=F,ft.Fragment=n,ft.Profiler=l,ft.PureComponent=q,ft.StrictMode=r,ft.Suspense=w,ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,ft.__COMPILER_RUNTIME={__proto__:null,c:function(j){return W.H.useMemoCache(j)}},ft.cache=function(j){return function(){return j.apply(null,arguments)}},ft.cloneElement=function(j,xe,Ee){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var Se=P({},j.props),Oe=j.key,tt=void 0;if(xe!=null)for(be in xe.ref!==void 0&&(tt=void 0),xe.key!==void 0&&(Oe=""+xe.key),xe)!oe.call(xe,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&xe.ref===void 0||(Se[be]=xe[be]);var be=arguments.length-2;if(be===1)Se.children=Ee;else if(1<be){for(var Pe=Array(be),ke=0;ke<be;ke++)Pe[ke]=arguments[ke+2];Se.children=Pe}return Z(j.type,Oe,void 0,void 0,tt,Se)},ft.createContext=function(j){return j={$$typeof:p,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:f,_context:j},j},ft.createElement=function(j,xe,Ee){var Se,Oe={},tt=null;if(xe!=null)for(Se in xe.key!==void 0&&(tt=""+xe.key),xe)oe.call(xe,Se)&&Se!=="key"&&Se!=="__self"&&Se!=="__source"&&(Oe[Se]=xe[Se]);var be=arguments.length-2;if(be===1)Oe.children=Ee;else if(1<be){for(var Pe=Array(be),ke=0;ke<be;ke++)Pe[ke]=arguments[ke+2];Oe.children=Pe}if(j&&j.defaultProps)for(Se in be=j.defaultProps,be)Oe[Se]===void 0&&(Oe[Se]=be[Se]);return Z(j,tt,void 0,void 0,null,Oe)},ft.createRef=function(){return{current:null}},ft.forwardRef=function(j){return{$$typeof:v,render:j}},ft.isValidElement=ee,ft.lazy=function(j){return{$$typeof:T,_payload:{_status:-1,_result:j},_init:he}},ft.memo=function(j,xe){return{$$typeof:y,type:j,compare:xe===void 0?null:xe}},ft.startTransition=function(j){var xe=W.T,Ee={};W.T=Ee;try{var Se=j(),Oe=W.S;Oe!==null&&Oe(Ee,Se),typeof Se=="object"&&Se!==null&&typeof Se.then=="function"&&Se.then(De,ie)}catch(tt){ie(tt)}finally{W.T=xe}},ft.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},ft.use=function(j){return W.H.use(j)},ft.useActionState=function(j,xe,Ee){return W.H.useActionState(j,xe,Ee)},ft.useCallback=function(j,xe){return W.H.useCallback(j,xe)},ft.useContext=function(j){return W.H.useContext(j)},ft.useDebugValue=function(){},ft.useDeferredValue=function(j,xe){return W.H.useDeferredValue(j,xe)},ft.useEffect=function(j,xe,Ee){var Se=W.H;if(typeof Ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Se.useEffect(j,xe)},ft.useId=function(){return W.H.useId()},ft.useImperativeHandle=function(j,xe,Ee){return W.H.useImperativeHandle(j,xe,Ee)},ft.useInsertionEffect=function(j,xe){return W.H.useInsertionEffect(j,xe)},ft.useLayoutEffect=function(j,xe){return W.H.useLayoutEffect(j,xe)},ft.useMemo=function(j,xe){return W.H.useMemo(j,xe)},ft.useOptimistic=function(j,xe){return W.H.useOptimistic(j,xe)},ft.useReducer=function(j,xe,Ee){return W.H.useReducer(j,xe,Ee)},ft.useRef=function(j){return W.H.useRef(j)},ft.useState=function(j){return W.H.useState(j)},ft.useSyncExternalStore=function(j,xe,Ee){return W.H.useSyncExternalStore(j,xe,Ee)},ft.useTransition=function(){return W.H.useTransition()},ft.version="19.1.0",ft}var Jp;function p1(){return Jp||(Jp=1,s0.exports=LA()),s0.exports}var B=p1();const ns=m1(B),U2=k2({__proto__:null,default:ns},[B]);var a0={exports:{}},pc={},l0={exports:{}},c0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function PA(){return $p||($p=1,function(t){function e(ne,he){var ie=ne.length;ne.push(he);e:for(;0<ie;){var De=ie-1>>>1,j=ne[De];if(0<l(j,he))ne[De]=he,ne[ie]=j,ie=De;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var he=ne[0],ie=ne.pop();if(ie!==he){ne[0]=ie;e:for(var De=0,j=ne.length,xe=j>>>1;De<xe;){var Ee=2*(De+1)-1,Se=ne[Ee],Oe=Ee+1,tt=ne[Oe];if(0>l(Se,ie))Oe<j&&0>l(tt,Se)?(ne[De]=tt,ne[Oe]=ie,De=Oe):(ne[De]=Se,ne[Ee]=ie,De=Ee);else if(Oe<j&&0>l(tt,ie))ne[De]=tt,ne[Oe]=ie,De=Oe;else break e}}return he}function l(ne,he){var ie=ne.sortIndex-he.sortIndex;return ie!==0?ie:ne.id-he.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;t.unstable_now=function(){return f.now()}}else{var p=Date,v=p.now();t.unstable_now=function(){return p.now()-v}}var w=[],y=[],T=1,_=null,I=3,O=!1,P=!1,D=!1,F=!1,G=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function K(ne){for(var he=n(y);he!==null;){if(he.callback===null)r(y);else if(he.startTime<=ne)r(y),he.sortIndex=he.expirationTime,e(w,he);else break;he=n(y)}}function W(ne){if(D=!1,K(ne),!P)if(n(w)!==null)P=!0,oe||(oe=!0,Te());else{var he=n(y);he!==null&&re(W,he.startTime-ne)}}var oe=!1,Z=-1,ae=5,ee=-1;function Me(){return F?!0:!(t.unstable_now()-ee<ae)}function Re(){if(F=!1,oe){var ne=t.unstable_now();ee=ne;var he=!0;try{e:{P=!1,D&&(D=!1,q(Z),Z=-1),O=!0;var ie=I;try{t:{for(K(ne),_=n(w);_!==null&&!(_.expirationTime>ne&&Me());){var De=_.callback;if(typeof De=="function"){_.callback=null,I=_.priorityLevel;var j=De(_.expirationTime<=ne);if(ne=t.unstable_now(),typeof j=="function"){_.callback=j,K(ne),he=!0;break t}_===n(w)&&r(w),K(ne)}else r(w);_=n(w)}if(_!==null)he=!0;else{var xe=n(y);xe!==null&&re(W,xe.startTime-ne),he=!1}}break e}finally{_=null,I=ie,O=!1}he=void 0}}finally{he?Te():oe=!1}}}var Te;if(typeof H=="function")Te=function(){H(Re)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,qe=Be.port2;Be.port1.onmessage=Re,Te=function(){qe.postMessage(null)}}else Te=function(){G(Re,0)};function re(ne,he){Z=G(function(){ne(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_next=function(ne){switch(I){case 1:case 2:case 3:var he=3;break;default:he=I}var ie=I;I=he;try{return ne()}finally{I=ie}},t.unstable_requestPaint=function(){F=!0},t.unstable_runWithPriority=function(ne,he){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ie=I;I=ne;try{return he()}finally{I=ie}},t.unstable_scheduleCallback=function(ne,he,ie){var De=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?De+ie:De):ie=De,ne){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=ie+j,ne={id:T++,callback:he,priorityLevel:ne,startTime:ie,expirationTime:j,sortIndex:-1},ie>De?(ne.sortIndex=ie,e(y,ne),n(w)===null&&ne===n(y)&&(D?(q(Z),Z=-1):D=!0,re(W,ie-De))):(ne.sortIndex=j,e(w,ne),P||O||(P=!0,oe||(oe=!0,Te()))),ne},t.unstable_shouldYield=Me,t.unstable_wrapCallback=function(ne){var he=I;return function(){var ie=I;I=he;try{return ne.apply(this,arguments)}finally{I=ie}}}}(c0)),c0}var ex;function BA(){return ex||(ex=1,l0.exports=PA()),l0.exports}var u0={exports:{}},ci={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tx;function kA(){if(tx)return ci;tx=1;var t=p1();function e(w){var y="https://react.dev/errors/"+w;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+w+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function f(w,y,T){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:_==null?null:""+_,children:w,containerInfo:y,implementation:T}}var p=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(w,y){if(w==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ci.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ci.createPortal=function(w,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return f(w,y,null,T)},ci.flushSync=function(w){var y=p.T,T=r.p;try{if(p.T=null,r.p=2,w)return w()}finally{p.T=y,r.p=T,r.d.f()}},ci.preconnect=function(w,y){typeof w=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(w,y))},ci.prefetchDNS=function(w){typeof w=="string"&&r.d.D(w)},ci.preinit=function(w,y){if(typeof w=="string"&&y&&typeof y.as=="string"){var T=y.as,_=v(T,y.crossOrigin),I=typeof y.integrity=="string"?y.integrity:void 0,O=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(w,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:_,integrity:I,fetchPriority:O}):T==="script"&&r.d.X(w,{crossOrigin:_,integrity:I,fetchPriority:O,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ci.preinitModule=function(w,y){if(typeof w=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=v(y.as,y.crossOrigin);r.d.M(w,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(w)},ci.preload=function(w,y){if(typeof w=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,_=v(T,y.crossOrigin);r.d.L(w,T,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ci.preloadModule=function(w,y){if(typeof w=="string")if(y){var T=v(y.as,y.crossOrigin);r.d.m(w,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(w)},ci.requestFormReset=function(w){r.d.r(w)},ci.unstable_batchedUpdates=function(w,y){return w(y)},ci.useFormState=function(w,y,T){return p.H.useFormState(w,y,T)},ci.useFormStatus=function(){return p.H.useHostTransitionStatus()},ci.version="19.1.0",ci}var nx;function F2(){if(nx)return u0.exports;nx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),u0.exports=kA(),u0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ix;function UA(){if(ix)return pc;ix=1;var t=BA(),e=p1(),n=F2();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function f(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function p(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function v(i){if(f(i)!==i)throw Error(r(188))}function w(i){var s=i.alternate;if(!s){if(s=f(i),s===null)throw Error(r(188));return s!==i?null:i}for(var u=i,x=s;;){var A=u.return;if(A===null)break;var b=A.alternate;if(b===null){if(x=A.return,x!==null){u=x;continue}break}if(A.child===b.child){for(b=A.child;b;){if(b===u)return v(A),i;if(b===x)return v(A),s;b=b.sibling}throw Error(r(188))}if(u.return!==x.return)u=A,x=b;else{for(var L=!1,z=A.child;z;){if(z===u){L=!0,u=A,x=b;break}if(z===x){L=!0,x=A,u=b;break}z=z.sibling}if(!L){for(z=b.child;z;){if(z===u){L=!0,u=b,x=A;break}if(z===x){L=!0,x=b,u=A;break}z=z.sibling}if(!L)throw Error(r(189))}}if(u.alternate!==x)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:s}function y(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=y(i),s!==null)return s;i=i.sibling}return null}var T=Object.assign,_=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),H=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),Me=Symbol.for("react.memo_cache_sentinel"),Re=Symbol.iterator;function Te(i){return i===null||typeof i!="object"?null:(i=Re&&i[Re]||i["@@iterator"],typeof i=="function"?i:null)}var Be=Symbol.for("react.client.reference");function qe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Be?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case F:return"Profiler";case D:return"StrictMode";case W:return"Suspense";case oe:return"SuspenseList";case ee:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case O:return"Portal";case H:return(i.displayName||"Context")+".Provider";case q:return(i._context.displayName||"Context")+".Consumer";case K:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Z:return s=i.displayName||null,s!==null?s:qe(i.type)||"Memo";case ae:s=i._payload,i=i._init;try{return qe(i(s))}catch{}}return null}var re=Array.isArray,ne=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},De=[],j=-1;function xe(i){return{current:i}}function Ee(i){0>j||(i.current=De[j],De[j]=null,j--)}function Se(i,s){j++,De[j]=i.current,i.current=s}var Oe=xe(null),tt=xe(null),be=xe(null),Pe=xe(null);function ke(i,s){switch(Se(be,s),Se(tt,i),Se(Oe,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Ap(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Ap(s),i=Tp(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Ee(Oe),Se(Oe,i)}function Ct(){Ee(Oe),Ee(tt),Ee(be)}function lt(i){i.memoizedState!==null&&Se(Pe,i);var s=Oe.current,u=Tp(s,i.type);s!==u&&(Se(tt,i),Se(Oe,u))}function Qe(i){tt.current===i&&(Ee(Oe),Ee(tt)),Pe.current===i&&(Ee(Pe),uc._currentValue=ie)}var st=Object.prototype.hasOwnProperty,et=t.unstable_scheduleCallback,wn=t.unstable_cancelCallback,Gn=t.unstable_shouldYield,Mi=t.unstable_requestPaint,At=t.unstable_now,Rt=t.unstable_getCurrentPriorityLevel,ct=t.unstable_ImmediatePriority,gs=t.unstable_UserBlockingPriority,Ve=t.unstable_NormalPriority,$s=t.unstable_LowPriority,Cl=t.unstable_IdlePriority,rr=t.log,vl=t.unstable_setDisableYieldValue,Zn=null,ni=null;function Qn(i){if(typeof rr=="function"&&vl(i),ni&&typeof ni.setStrictMode=="function")try{ni.setStrictMode(Zn,i)}catch{}}var Pt=Math.clz32?Math.clz32:ud,zc=Math.log,ea=Math.LN2;function ud(i){return i>>>=0,i===0?32:31-(zc(i)/ea|0)|0}var nn=256,Le=4194304;function Kt(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function bt(i,s,u){var x=i.pendingLanes;if(x===0)return 0;var A=0,b=i.suspendedLanes,L=i.pingedLanes;i=i.warmLanes;var z=x&134217727;return z!==0?(x=z&~b,x!==0?A=Kt(x):(L&=z,L!==0?A=Kt(L):u||(u=z&~i,u!==0&&(A=Kt(u))))):(z=x&~b,z!==0?A=Kt(z):L!==0?A=Kt(L):u||(u=x&~i,u!==0&&(A=Kt(u)))),A===0?0:s!==0&&s!==A&&(s&b)===0&&(b=A&-A,u=s&-s,b>=u||b===32&&(u&4194048)!==0)?s:A}function Yt(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function ms(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ta(){var i=nn;return nn<<=1,(nn&4194048)===0&&(nn=256),i}function El(){var i=Le;return Le<<=1,(Le&62914560)===0&&(Le=4194304),i}function Et(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function Ii(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Hc(i,s,u,x,A,b){var L=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var z=i.entanglements,Q=i.expirationTimes,fe=i.hiddenUpdates;for(u=L&~u;0<u;){var Ce=31-Pt(u),we=1<<Ce;z[Ce]=0,Q[Ce]=-1;var de=fe[Ce];if(de!==null)for(fe[Ce]=null,Ce=0;Ce<de.length;Ce++){var me=de[Ce];me!==null&&(me.lane&=-536870913)}u&=~we}x!==0&&wl(i,x,0),b!==0&&A===0&&i.tag!==0&&(i.suspendedLanes|=b&~(L&~s))}function wl(i,s,u){i.pendingLanes|=s,i.suspendedLanes&=~s;var x=31-Pt(s);i.entangledLanes|=s,i.entanglements[x]=i.entanglements[x]|1073741824|u&4194090}function yi(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var x=31-Pt(u),A=1<<x;A&s|i[x]&s&&(i[x]|=s),u&=~A}}function ps(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function In(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Yr(){var i=he.p;return i!==0?i:(i=window.event,i===void 0?32:Gp(i.type))}function na(i,s){var u=he.p;try{return he.p=i,s()}finally{he.p=u}}var Ln=Math.random().toString(36).slice(2),qn="__reactFiber$"+Ln,mn="__reactProps$"+Ln,Er="__reactContainer$"+Ln,Yn="__reactEvents$"+Ln,Xr="__reactListeners$"+Ln,Ci="__reactHandles$"+Ln,Ue="__reactResources$"+Ln,ji="__reactMarker$"+Ln;function xs(i){delete i[qn],delete i[mn],delete i[Yn],delete i[Xr],delete i[Ci]}function An(i){var s=i[qn];if(s)return s;for(var u=i.parentNode;u;){if(s=u[Er]||u[qn]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=Np(i);i!==null;){if(u=i[qn])return u;i=Np(i)}return s}i=u,u=i.parentNode}return null}function Ri(i){if(i=i[qn]||i[Er]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function wr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function or(i){var s=i[Ue];return s||(s=i[Ue]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Bt(i){i[ji]=!0}var Gc=new Set,qc={};function Xn(i,s){pn(i,s),pn(i+"Capture",s)}function pn(i,s){for(qc[i]=s,i=0;i<s.length;i++)Gc.add(s[i])}var $t=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Al={},sr={};function Tl(i){return st.call(sr,i)?!0:st.call(Al,i)?!1:$t.test(i)?sr[i]=!0:(Al[i]=!0,!1)}function Ae(i,s,u){if(Tl(s))if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var x=s.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+u)}}function ia(i,s,u){if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+u)}}function _t(i,s,u,x){if(x===null)i.removeAttribute(u);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(s,u,""+x)}}var Ar,Yc;function pt(i){if(Ar===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);Ar=s&&s[1]||"",Yc=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ar+i+Yc}var wt=!1;function dt(i,s){if(!i||wt)return"";wt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(s){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(me){var de=me}Reflect.construct(i,[],we)}else{try{we.call()}catch(me){de=me}i.call(we.prototype)}}else{try{throw Error()}catch(me){de=me}(we=i())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(me){if(me&&de&&typeof me.stack=="string")return[me.stack,de.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=x.DetermineComponentFrameRoot(),L=b[0],z=b[1];if(L&&z){var Q=L.split(`
`),fe=z.split(`
`);for(A=x=0;x<Q.length&&!Q[x].includes("DetermineComponentFrameRoot");)x++;for(;A<fe.length&&!fe[A].includes("DetermineComponentFrameRoot");)A++;if(x===Q.length||A===fe.length)for(x=Q.length-1,A=fe.length-1;1<=x&&0<=A&&Q[x]!==fe[A];)A--;for(;1<=x&&0<=A;x--,A--)if(Q[x]!==fe[A]){if(x!==1||A!==1)do if(x--,A--,0>A||Q[x]!==fe[A]){var Ce=`
`+Q[x].replace(" at new "," at ");return i.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",i.displayName)),Ce}while(1<=x&&0<=A);break}}}finally{wt=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?pt(u):""}function Sl(i){switch(i.tag){case 26:case 27:case 5:return pt(i.type);case 16:return pt("Lazy");case 13:return pt("Suspense");case 19:return pt("SuspenseList");case 0:case 15:return dt(i.type,!1);case 11:return dt(i.type.render,!1);case 1:return dt(i.type,!0);case 31:return pt("Activity");default:return""}}function ra(i){try{var s="";do s+=Sl(i),i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function ii(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function xn(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Tr(i){var s=xn(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),x=""+i[s];if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var A=u.get,b=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return A.call(this)},set:function(L){x=""+L,b.call(this,L)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return x},setValue:function(L){x=""+L},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function oa(i){i._valueTracker||(i._valueTracker=Tr(i))}function ln(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),x="";return i&&(x=xn(i)?i.checked?"true":"false":i.value),i=x,i!==u?(s.setValue(i),!0):!1}function Di(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var fd=/[\n"\\]/g;function Pn(i){return i.replace(fd,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Dt(i,s,u,x,A,b,L,z){i.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?i.type=L:i.removeAttribute("type"),s!=null?L==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+ii(s)):i.value!==""+ii(s)&&(i.value=""+ii(s)):L!=="submit"&&L!=="reset"||i.removeAttribute("value"),s!=null?ce(i,L,ii(s)):u!=null?ce(i,L,ii(u)):x!=null&&i.removeAttribute("value"),A==null&&b!=null&&(i.defaultChecked=!!b),A!=null&&(i.checked=A&&typeof A!="function"&&typeof A!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?i.name=""+ii(z):i.removeAttribute("name")}function Bn(i,s,u,x,A,b,L,z){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),s!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||s!=null))return;u=u!=null?""+ii(u):"",s=s!=null?""+ii(s):u,z||s===i.value||(i.value=s),i.defaultValue=s}x=x??A,x=typeof x!="function"&&typeof x!="symbol"&&!!x,i.checked=z?i.checked:!!x,i.defaultChecked=!!x,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(i.name=L)}function ce(i,s,u){s==="number"&&Di(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Y(i,s,u,x){if(i=i.options,s){s={};for(var A=0;A<u.length;A++)s["$"+u[A]]=!0;for(u=0;u<i.length;u++)A=s.hasOwnProperty("$"+i[u].value),i[u].selected!==A&&(i[u].selected=A),A&&x&&(i[u].defaultSelected=!0)}else{for(u=""+ii(u),s=null,A=0;A<i.length;A++){if(i[A].value===u){i[A].selected=!0,x&&(i[A].defaultSelected=!0);return}s!==null||i[A].disabled||(s=i[A])}s!==null&&(s.selected=!0)}}function Ye(i,s,u){if(s!=null&&(s=""+ii(s),s!==i.value&&(i.value=s),u==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=u!=null?""+ii(u):""}function Tn(i,s,u,x){if(s==null){if(x!=null){if(u!=null)throw Error(r(92));if(re(x)){if(1<x.length)throw Error(r(93));x=x[0]}u=x}u==null&&(u=""),s=u}u=ii(s),i.defaultValue=u,x=i.textContent,x===u&&x!==""&&x!==null&&(i.value=x)}function kn(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var dd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sa(i,s,u){var x=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?x?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":x?i.setProperty(s,u):typeof u!="number"||u===0||dd.has(s)?s==="float"?i.cssFloat=u:i[s]=(""+u).trim():i[s]=u+"px"}function hi(i,s,u){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,u!=null){for(var x in u)!u.hasOwnProperty(x)||s!=null&&s.hasOwnProperty(x)||(x.indexOf("--")===0?i.setProperty(x,""):x==="float"?i.cssFloat="":i[x]="");for(var A in s)x=s[A],s.hasOwnProperty(A)&&u[A]!==x&&sa(i,A,x)}else for(var b in s)s.hasOwnProperty(b)&&sa(i,b,s[b])}function We(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(i){return Xc.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var ys=null;function wo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Sr=null,Ao=null;function Sn(i){var s=Ri(i);if(s&&(i=s.stateNode)){var u=i[mn]||null;e:switch(i=s.stateNode,s.type){case"input":if(Dt(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Pn(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var x=u[s];if(x!==i&&x.form===i.form){var A=x[mn]||null;if(!A)throw Error(r(90));Dt(x,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(s=0;s<u.length;s++)x=u[s],x.form===i.form&&ln(x)}break e;case"textarea":Ye(i,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&Y(i,!!u.multiple,s,!1)}}}var Wr=!1;function ar(i,s,u){if(Wr)return i(s,u);Wr=!0;try{var x=i(s);return x}finally{if(Wr=!1,(Sr!==null||Ao!==null)&&(Ru(),Sr&&(s=Sr,i=Ao,Ao=Sr=null,Sn(s),i)))for(s=0;s<i.length;s++)Sn(i[s])}}function Ke(i,s){var u=i.stateNode;if(u===null)return null;var x=u[mn]||null;if(x===null)return null;u=x[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(i=i.type,x=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!x;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,s,typeof u));return u}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rt=!1;if(lr)try{var dn={};Object.defineProperty(dn,"passive",{get:function(){rt=!0}}),window.addEventListener("test",dn,dn),window.removeEventListener("test",dn,dn)}catch{rt=!1}var br=null,Cs=null,vs=null;function _r(){if(vs)return vs;var i,s=Cs,u=s.length,x,A="value"in br?br.value:br.textContent,b=A.length;for(i=0;i<u&&s[i]===A[i];i++);var L=u-i;for(x=1;x<=L&&s[u-x]===A[b-x];x++);return vs=A.slice(i,1<x?1-x:void 0)}function la(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Nr(){return!0}function To(){return!1}function Rn(i){function s(u,x,A,b,L){this._reactName=u,this._targetInst=A,this.type=x,this.nativeEvent=b,this.target=L,this.currentTarget=null;for(var z in i)i.hasOwnProperty(z)&&(u=i[z],this[z]=u?u(b):b[z]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Nr:To,this.isPropagationStopped=To,this}return T(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Nr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Nr)},persist:function(){},isPersistent:Nr}),s}var Mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ir=Rn(Mr),cr=T({},Mr,{view:0,detail:0}),ri=Rn(cr),ca,ua,So,fa=T({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==So&&(So&&i.type==="mousemove"?(ca=i.screenX-So.screenX,ua=i.screenY-So.screenY):ua=ca=0,So=i),ca)},movementY:function(i){return"movementY"in i?i.movementY:ua}}),Wc=Rn(fa),hd=T({},fa,{dataTransfer:0}),Ot=Rn(hd),jc=T({},cr,{relatedTarget:0}),bo=Rn(jc),Rr=T({},Mr,{animationName:0,elapsedTime:0,pseudoElement:0}),gd=Rn(Rr),pe=T({},Mr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ut=Rn(pe),Un=T({},Mr,{data:0}),Es=Rn(Un),Kc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},md={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xd(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=pd[i])?!!s[i]:!1}function ws(){return xd}var bn=T({},cr,{key:function(i){if(i.key){var s=Kc[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=la(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?md[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(i){return i.type==="keypress"?la(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?la(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),bl=Rn(bn),cn=T({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),As=Rn(cn),jr=T({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),kt=Rn(jr),Ze=T({},Mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),yd=Rn(Ze),Zt=T({},fa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Kr=Rn(Zt),_o=T({},Mr,{newState:0,oldState:0}),Cd=Rn(_o),Ki=[9,13,27,32],Ts=lr&&"CompositionEvent"in window,No=null;lr&&"documentMode"in document&&(No=document.documentMode);var _l=lr&&"TextEvent"in window&&!No,Nl=lr&&(!Ts||No&&8<No&&11>=No),Ml=" ",Zc=!1;function Zr(i,s){switch(i){case"keyup":return Ki.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function da(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Mo=!1;function Ss(i,s){switch(i){case"compositionend":return da(s);case"keypress":return s.which!==32?null:(Zc=!0,Ml);case"textInput":return i=s.data,i===Ml&&Zc?null:i;default:return null}}function vd(i,s){if(Mo)return i==="compositionend"||!Ts&&Zr(i,s)?(i=_r(),vs=Cs=br=null,Mo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Nl&&s.locale!=="ko"?null:s.data;default:return null}}var Dr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bs(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Dr[i.type]:s==="textarea"}function gi(i,s,u,x){Sr?Ao?Ao.push(x):Ao=[x]:Sr=x,s=ku(s,"onChange"),0<s.length&&(u=new Ir("onChange","change",null,u,x),i.push({event:u,listeners:s}))}var Io=null,oi=null;function Ed(i){yp(i,0)}function Ro(i){var s=wr(i);if(ln(s))return i}function Qc(i,s){if(i==="change")return s}var Il=!1;if(lr){var vi;if(lr){var Rl="oninput"in document;if(!Rl){var ha=document.createElement("div");ha.setAttribute("oninput","return;"),Rl=typeof ha.oninput=="function"}vi=Rl}else vi=!1;Il=vi&&(!document.documentMode||9<document.documentMode)}function Do(){Io&&(Io.detachEvent("onpropertychange",vt),oi=Io=null)}function vt(i){if(i.propertyName==="value"&&Ro(oi)){var s=[];gi(s,oi,i,wo(i)),ar(Ed,s)}}function ga(i,s,u){i==="focusin"?(Do(),Io=s,oi=u,Io.attachEvent("onpropertychange",vt)):i==="focusout"&&Do()}function k(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ro(oi)}function o(i,s){if(i==="click")return Ro(s)}function a(i,s){if(i==="input"||i==="change")return Ro(s)}function c(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var d=typeof Object.is=="function"?Object.is:c;function h(i,s){if(d(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),x=Object.keys(s);if(u.length!==x.length)return!1;for(x=0;x<u.length;x++){var A=u[x];if(!st.call(s,A)||!d(i[A],s[A]))return!1}return!0}function C(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function E(i,s){var u=C(i);i=0;for(var x;u;){if(u.nodeType===3){if(x=i+u.textContent.length,i<=s&&x>=s)return{node:u,offset:s-i};i=x}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=C(u)}}function S(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?S(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function N(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Di(i.document);s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=Di(i.document)}return s}function R(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var U=lr&&"documentMode"in document&&11>=document.documentMode,V=null,X=null,J=null,$=!1;function le(i,s,u){var x=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;$||V==null||V!==Di(x)||(x=V,"selectionStart"in x&&R(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),J&&h(J,x)||(J=x,x=ku(X,"onSelect"),0<x.length&&(s=new Ir("onSelect","select",null,s,u),i.push({event:s,listeners:x}),s.target=V)))}function ge(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var Ne={animationend:ge("Animation","AnimationEnd"),animationiteration:ge("Animation","AnimationIteration"),animationstart:ge("Animation","AnimationStart"),transitionrun:ge("Transition","TransitionRun"),transitionstart:ge("Transition","TransitionStart"),transitioncancel:ge("Transition","TransitionCancel"),transitionend:ge("Transition","TransitionEnd")},Ie={},_e={};lr&&(_e=document.createElement("div").style,"AnimationEvent"in window||(delete Ne.animationend.animation,delete Ne.animationiteration.animation,delete Ne.animationstart.animation),"TransitionEvent"in window||delete Ne.transitionend.transition);function ot(i){if(Ie[i])return Ie[i];if(!Ne[i])return i;var s=Ne[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in _e)return Ie[i]=s[u];return i}var it=ot("animationend"),Jn=ot("animationiteration"),Ei=ot("animationstart"),si=ot("transitionrun"),Ut=ot("transitionstart"),Fn=ot("transitioncancel"),ai=ot("transitionend"),Qr=new Map,Or="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Or.push("scrollEnd");function Oi(i,s){Qr.set(i,s),Xn(s,[i])}var Jc=new WeakMap;function Zi(i,s){if(typeof i=="object"&&i!==null){var u=Jc.get(i);return u!==void 0?u:(s={value:i,source:s,stack:ra(s)},Jc.set(i,s),s)}return{value:i,source:s,stack:ra(s)}}var Qi=[],ma=0,wd=0;function $c(){for(var i=ma,s=wd=ma=0;s<i;){var u=Qi[s];Qi[s++]=null;var x=Qi[s];Qi[s++]=null;var A=Qi[s];Qi[s++]=null;var b=Qi[s];if(Qi[s++]=null,x!==null&&A!==null){var L=x.pending;L===null?A.next=A:(A.next=L.next,L.next=A),x.pending=A}b!==0&&ng(u,A,b)}}function eu(i,s,u,x){Qi[ma++]=i,Qi[ma++]=s,Qi[ma++]=u,Qi[ma++]=x,wd|=x,i.lanes|=x,i=i.alternate,i!==null&&(i.lanes|=x)}function Ad(i,s,u,x){return eu(i,s,u,x),tu(i)}function pa(i,s){return eu(i,null,null,s),tu(i)}function ng(i,s,u){i.lanes|=u;var x=i.alternate;x!==null&&(x.lanes|=u);for(var A=!1,b=i.return;b!==null;)b.childLanes|=u,x=b.alternate,x!==null&&(x.childLanes|=u),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(A=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,A&&s!==null&&(A=31-Pt(u),i=b.hiddenUpdates,x=i[A],x===null?i[A]=[s]:x.push(s),s.lane=u|536870912),b):null}function tu(i){if(50<nc)throw nc=0,Mh=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var xa={};function xw(i,s,u,x){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Li(i,s,u,x){return new xw(i,s,u,x)}function Td(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Jr(i,s){var u=i.alternate;return u===null?(u=Li(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function ig(i,s){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,s=u.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function nu(i,s,u,x,A,b){var L=0;if(x=i,typeof i=="function")Td(i)&&(L=1);else if(typeof i=="string")L=CA(i,u,Oe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case ee:return i=Li(31,u,s,A),i.elementType=ee,i.lanes=b,i;case P:return _s(u.children,A,b,s);case D:L=8,A|=24;break;case F:return i=Li(12,u,s,A|2),i.elementType=F,i.lanes=b,i;case W:return i=Li(13,u,s,A),i.elementType=W,i.lanes=b,i;case oe:return i=Li(19,u,s,A),i.elementType=oe,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case G:case H:L=10;break e;case q:L=9;break e;case K:L=11;break e;case Z:L=14;break e;case ae:L=16,x=null;break e}L=29,u=Error(r(130,i===null?"null":typeof i,"")),x=null}return s=Li(L,u,s,A),s.elementType=i,s.type=x,s.lanes=b,s}function _s(i,s,u,x){return i=Li(7,i,x,s),i.lanes=u,i}function Sd(i,s,u){return i=Li(6,i,null,s),i.lanes=u,i}function bd(i,s,u){return s=Li(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var ya=[],Ca=0,iu=null,ru=0,Ji=[],$i=0,Ns=null,$r=1,eo="";function Ms(i,s){ya[Ca++]=ru,ya[Ca++]=iu,iu=i,ru=s}function rg(i,s,u){Ji[$i++]=$r,Ji[$i++]=eo,Ji[$i++]=Ns,Ns=i;var x=$r;i=eo;var A=32-Pt(x)-1;x&=~(1<<A),u+=1;var b=32-Pt(s)+A;if(30<b){var L=A-A%5;b=(x&(1<<L)-1).toString(32),x>>=L,A-=L,$r=1<<32-Pt(s)+A|u<<A|x,eo=b+i}else $r=1<<b|u<<A|x,eo=i}function _d(i){i.return!==null&&(Ms(i,1),rg(i,1,0))}function Nd(i){for(;i===iu;)iu=ya[--Ca],ya[Ca]=null,ru=ya[--Ca],ya[Ca]=null;for(;i===Ns;)Ns=Ji[--$i],Ji[$i]=null,eo=Ji[--$i],Ji[$i]=null,$r=Ji[--$i],Ji[$i]=null}var mi=null,yn=null,It=!1,Is=null,Lr=!1,Md=Error(r(519));function Rs(i){var s=Error(r(418,""));throw Ll(Zi(s,i)),Md}function og(i){var s=i.stateNode,u=i.type,x=i.memoizedProps;switch(s[qn]=i,s[mn]=x,u){case"dialog":yt("cancel",s),yt("close",s);break;case"iframe":case"object":case"embed":yt("load",s);break;case"video":case"audio":for(u=0;u<rc.length;u++)yt(rc[u],s);break;case"source":yt("error",s);break;case"img":case"image":case"link":yt("error",s),yt("load",s);break;case"details":yt("toggle",s);break;case"input":yt("invalid",s),Bn(s,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0),oa(s);break;case"select":yt("invalid",s);break;case"textarea":yt("invalid",s),Tn(s,x.value,x.defaultValue,x.children),oa(s)}u=x.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||x.suppressHydrationWarning===!0||wp(s.textContent,u)?(x.popover!=null&&(yt("beforetoggle",s),yt("toggle",s)),x.onScroll!=null&&yt("scroll",s),x.onScrollEnd!=null&&yt("scrollend",s),x.onClick!=null&&(s.onclick=Uu),s=!0):s=!1,s||Rs(i)}function sg(i){for(mi=i.return;mi;)switch(mi.tag){case 5:case 13:Lr=!1;return;case 27:case 3:Lr=!0;return;default:mi=mi.return}}function Dl(i){if(i!==mi)return!1;if(!It)return sg(i),It=!0,!1;var s=i.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Yh(i.type,i.memoizedProps)),u=!u),u&&yn&&Rs(i),sg(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(s===0){yn=fr(i.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++;i=i.nextSibling}yn=null}}else s===27?(s=yn,jo(i.type)?(i=Kh,Kh=null,yn=i):yn=s):yn=mi?fr(i.stateNode.nextSibling):null;return!0}function Ol(){yn=mi=null,It=!1}function ag(){var i=Is;return i!==null&&(Ti===null?Ti=i:Ti.push.apply(Ti,i),Is=null),i}function Ll(i){Is===null?Is=[i]:Is.push(i)}var Id=xe(null),Ds=null,to=null;function Oo(i,s,u){Se(Id,s._currentValue),s._currentValue=u}function no(i){i._currentValue=Id.current,Ee(Id)}function Rd(i,s,u){for(;i!==null;){var x=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,x!==null&&(x.childLanes|=s)):x!==null&&(x.childLanes&s)!==s&&(x.childLanes|=s),i===u)break;i=i.return}}function Dd(i,s,u,x){var A=i.child;for(A!==null&&(A.return=i);A!==null;){var b=A.dependencies;if(b!==null){var L=A.child;b=b.firstContext;e:for(;b!==null;){var z=b;b=A;for(var Q=0;Q<s.length;Q++)if(z.context===s[Q]){b.lanes|=u,z=b.alternate,z!==null&&(z.lanes|=u),Rd(b.return,u,i),x||(L=null);break e}b=z.next}}else if(A.tag===18){if(L=A.return,L===null)throw Error(r(341));L.lanes|=u,b=L.alternate,b!==null&&(b.lanes|=u),Rd(L,u,i),L=null}else L=A.child;if(L!==null)L.return=A;else for(L=A;L!==null;){if(L===i){L=null;break}if(A=L.sibling,A!==null){A.return=L.return,L=A;break}L=L.return}A=L}}function Pl(i,s,u,x){i=null;for(var A=s,b=!1;A!==null;){if(!b){if((A.flags&524288)!==0)b=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var L=A.alternate;if(L===null)throw Error(r(387));if(L=L.memoizedProps,L!==null){var z=A.type;d(A.pendingProps.value,L.value)||(i!==null?i.push(z):i=[z])}}else if(A===Pe.current){if(L=A.alternate,L===null)throw Error(r(387));L.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(i!==null?i.push(uc):i=[uc])}A=A.return}i!==null&&Dd(s,i,u,x),s.flags|=262144}function ou(i){for(i=i.firstContext;i!==null;){if(!d(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Os(i){Ds=i,to=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function li(i){return lg(Ds,i)}function su(i,s){return Ds===null&&Os(i),lg(i,s)}function lg(i,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},to===null){if(i===null)throw Error(r(308));to=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else to=to.next=s;return u}var yw=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(u,x){i.push(x)}};this.abort=function(){s.aborted=!0,i.forEach(function(u){return u()})}},Cw=t.unstable_scheduleCallback,vw=t.unstable_NormalPriority,Vn={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Od(){return{controller:new yw,data:new Map,refCount:0}}function Bl(i){i.refCount--,i.refCount===0&&Cw(vw,function(){i.controller.abort()})}var kl=null,Ld=0,va=0,Ea=null;function Ew(i,s){if(kl===null){var u=kl=[];Ld=0,va=Bh(),Ea={status:"pending",value:void 0,then:function(x){u.push(x)}}}return Ld++,s.then(cg,cg),s}function cg(){if(--Ld===0&&kl!==null){Ea!==null&&(Ea.status="fulfilled");var i=kl;kl=null,va=0,Ea=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function ww(i,s){var u=[],x={status:"pending",value:null,reason:null,then:function(A){u.push(A)}};return i.then(function(){x.status="fulfilled",x.value=s;for(var A=0;A<u.length;A++)(0,u[A])(s)},function(A){for(x.status="rejected",x.reason=A,A=0;A<u.length;A++)(0,u[A])(void 0)}),x}var ug=ne.S;ne.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Ew(i,s),ug!==null&&ug(i,s)};var Ls=xe(null);function Pd(){var i=Ls.current;return i!==null?i:en.pooledCache}function au(i,s){s===null?Se(Ls,Ls.current):Se(Ls,s.pool)}function fg(){var i=Pd();return i===null?null:{parent:Vn._currentValue,pool:i}}var Ul=Error(r(460)),dg=Error(r(474)),lu=Error(r(542)),Bd={then:function(){}};function hg(i){return i=i.status,i==="fulfilled"||i==="rejected"}function cu(){}function gg(i,s,u){switch(u=i[u],u===void 0?i.push(s):u!==s&&(s.then(cu,cu),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,pg(i),i;default:if(typeof s.status=="string")s.then(cu,cu);else{if(i=en,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(x){if(s.status==="pending"){var A=s;A.status="fulfilled",A.value=x}},function(x){if(s.status==="pending"){var A=s;A.status="rejected",A.reason=x}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,pg(i),i}throw Fl=s,Ul}}var Fl=null;function mg(){if(Fl===null)throw Error(r(459));var i=Fl;return Fl=null,i}function pg(i){if(i===Ul||i===lu)throw Error(r(483))}var Lo=!1;function kd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ud(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Po(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Bo(i,s,u){var x=i.updateQueue;if(x===null)return null;if(x=x.shared,(Ft&2)!==0){var A=x.pending;return A===null?s.next=s:(s.next=A.next,A.next=s),x.pending=s,s=tu(i),ng(i,null,u),s}return eu(i,x,s,u),tu(i)}function Vl(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var x=s.lanes;x&=i.pendingLanes,u|=x,s.lanes=u,yi(i,u)}}function Fd(i,s){var u=i.updateQueue,x=i.alternate;if(x!==null&&(x=x.updateQueue,u===x)){var A=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var L={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?A=b=L:b=b.next=L,u=u.next}while(u!==null);b===null?A=b=s:b=b.next=s}else A=b=s;u={baseState:x.baseState,firstBaseUpdate:A,lastBaseUpdate:b,shared:x.shared,callbacks:x.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}var Vd=!1;function zl(){if(Vd){var i=Ea;if(i!==null)throw i}}function Hl(i,s,u,x){Vd=!1;var A=i.updateQueue;Lo=!1;var b=A.firstBaseUpdate,L=A.lastBaseUpdate,z=A.shared.pending;if(z!==null){A.shared.pending=null;var Q=z,fe=Q.next;Q.next=null,L===null?b=fe:L.next=fe,L=Q;var Ce=i.alternate;Ce!==null&&(Ce=Ce.updateQueue,z=Ce.lastBaseUpdate,z!==L&&(z===null?Ce.firstBaseUpdate=fe:z.next=fe,Ce.lastBaseUpdate=Q))}if(b!==null){var we=A.baseState;L=0,Ce=fe=Q=null,z=b;do{var de=z.lane&-536870913,me=de!==z.lane;if(me?(Tt&de)===de:(x&de)===de){de!==0&&de===va&&(Vd=!0),Ce!==null&&(Ce=Ce.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var nt=i,Je=z;de=s;var jt=u;switch(Je.tag){case 1:if(nt=Je.payload,typeof nt=="function"){we=nt.call(jt,we,de);break e}we=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=Je.payload,de=typeof nt=="function"?nt.call(jt,we,de):nt,de==null)break e;we=T({},we,de);break e;case 2:Lo=!0}}de=z.callback,de!==null&&(i.flags|=64,me&&(i.flags|=8192),me=A.callbacks,me===null?A.callbacks=[de]:me.push(de))}else me={lane:de,tag:z.tag,payload:z.payload,callback:z.callback,next:null},Ce===null?(fe=Ce=me,Q=we):Ce=Ce.next=me,L|=de;if(z=z.next,z===null){if(z=A.shared.pending,z===null)break;me=z,z=me.next,me.next=null,A.lastBaseUpdate=me,A.shared.pending=null}}while(!0);Ce===null&&(Q=we),A.baseState=Q,A.firstBaseUpdate=fe,A.lastBaseUpdate=Ce,b===null&&(A.shared.lanes=0),qo|=L,i.lanes=L,i.memoizedState=we}}function xg(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function yg(i,s){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)xg(u[i],s)}var wa=xe(null),uu=xe(0);function Cg(i,s){i=co,Se(uu,i),Se(wa,s),co=i|s.baseLanes}function zd(){Se(uu,co),Se(wa,wa.current)}function Hd(){co=uu.current,Ee(wa),Ee(uu)}var ko=0,ht=null,Xt=null,Dn=null,fu=!1,Aa=!1,Ps=!1,du=0,Gl=0,Ta=null,Aw=0;function _n(){throw Error(r(321))}function Gd(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!d(i[u],s[u]))return!1;return!0}function qd(i,s,u,x,A,b){return ko=b,ht=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ne.H=i===null||i.memoizedState===null?nm:im,Ps=!1,b=u(x,A),Ps=!1,Aa&&(b=Eg(s,u,x,A)),vg(i),b}function vg(i){ne.H=yu;var s=Xt!==null&&Xt.next!==null;if(ko=0,Dn=Xt=ht=null,fu=!1,Gl=0,Ta=null,s)throw Error(r(300));i===null||Wn||(i=i.dependencies,i!==null&&ou(i)&&(Wn=!0))}function Eg(i,s,u,x){ht=i;var A=0;do{if(Aa&&(Ta=null),Gl=0,Aa=!1,25<=A)throw Error(r(301));if(A+=1,Dn=Xt=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}ne.H=Iw,b=s(u,x)}while(Aa);return b}function Tw(){var i=ne.H,s=i.useState()[0];return s=typeof s.then=="function"?ql(s):s,i=i.useState()[0],(Xt!==null?Xt.memoizedState:null)!==i&&(ht.flags|=1024),s}function Yd(){var i=du!==0;return du=0,i}function Xd(i,s,u){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~u}function Wd(i){if(fu){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}fu=!1}ko=0,Dn=Xt=ht=null,Aa=!1,Gl=du=0,Ta=null}function wi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?ht.memoizedState=Dn=i:Dn=Dn.next=i,Dn}function On(){if(Xt===null){var i=ht.alternate;i=i!==null?i.memoizedState:null}else i=Xt.next;var s=Dn===null?ht.memoizedState:Dn.next;if(s!==null)Dn=s,Xt=i;else{if(i===null)throw ht.alternate===null?Error(r(467)):Error(r(310));Xt=i,i={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Dn===null?ht.memoizedState=Dn=i:Dn=Dn.next=i}return Dn}function jd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ql(i){var s=Gl;return Gl+=1,Ta===null&&(Ta=[]),i=gg(Ta,i,s),s=ht,(Dn===null?s.memoizedState:Dn.next)===null&&(s=s.alternate,ne.H=s===null||s.memoizedState===null?nm:im),i}function hu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ql(i);if(i.$$typeof===H)return li(i)}throw Error(r(438,String(i)))}function Kd(i){var s=null,u=ht.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var x=ht.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(s={data:x.data.map(function(A){return A.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=jd(),ht.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(i),x=0;x<i;x++)u[x]=Me;return s.index++,u}function io(i,s){return typeof s=="function"?s(i):s}function gu(i){var s=On();return Zd(s,Xt,i)}function Zd(i,s,u){var x=i.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=u;var A=i.baseQueue,b=x.pending;if(b!==null){if(A!==null){var L=A.next;A.next=b.next,b.next=L}s.baseQueue=A=b,x.pending=null}if(b=i.baseState,A===null)i.memoizedState=b;else{s=A.next;var z=L=null,Q=null,fe=s,Ce=!1;do{var we=fe.lane&-536870913;if(we!==fe.lane?(Tt&we)===we:(ko&we)===we){var de=fe.revertLane;if(de===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),we===va&&(Ce=!0);else if((ko&de)===de){fe=fe.next,de===va&&(Ce=!0);continue}else we={lane:0,revertLane:fe.revertLane,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},Q===null?(z=Q=we,L=b):Q=Q.next=we,ht.lanes|=de,qo|=de;we=fe.action,Ps&&u(b,we),b=fe.hasEagerState?fe.eagerState:u(b,we)}else de={lane:we,revertLane:fe.revertLane,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},Q===null?(z=Q=de,L=b):Q=Q.next=de,ht.lanes|=we,qo|=we;fe=fe.next}while(fe!==null&&fe!==s);if(Q===null?L=b:Q.next=z,!d(b,i.memoizedState)&&(Wn=!0,Ce&&(u=Ea,u!==null)))throw u;i.memoizedState=b,i.baseState=L,i.baseQueue=Q,x.lastRenderedState=b}return A===null&&(x.lanes=0),[i.memoizedState,x.dispatch]}function Qd(i){var s=On(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var x=u.dispatch,A=u.pending,b=s.memoizedState;if(A!==null){u.pending=null;var L=A=A.next;do b=i(b,L.action),L=L.next;while(L!==A);d(b,s.memoizedState)||(Wn=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),u.lastRenderedState=b}return[b,x]}function wg(i,s,u){var x=ht,A=On(),b=It;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=s();var L=!d((Xt||A).memoizedState,u);L&&(A.memoizedState=u,Wn=!0),A=A.queue;var z=Sg.bind(null,x,A,i);if(Yl(2048,8,z,[i]),A.getSnapshot!==s||L||Dn!==null&&Dn.memoizedState.tag&1){if(x.flags|=2048,Sa(9,mu(),Tg.bind(null,x,A,u,s),null),en===null)throw Error(r(349));b||(ko&124)!==0||Ag(x,s,u)}return u}function Ag(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=ht.updateQueue,s===null?(s=jd(),ht.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function Tg(i,s,u,x){s.value=u,s.getSnapshot=x,bg(s)&&_g(i)}function Sg(i,s,u){return u(function(){bg(s)&&_g(i)})}function bg(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!d(i,u)}catch{return!0}}function _g(i){var s=pa(i,2);s!==null&&Fi(s,i,2)}function Jd(i){var s=wi();if(typeof i=="function"){var u=i;if(i=u(),Ps){Qn(!0);try{u()}finally{Qn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:io,lastRenderedState:i},s}function Ng(i,s,u,x){return i.baseState=u,Zd(i,Xt,typeof x=="function"?x:io)}function Sw(i,s,u,x,A){if(xu(i))throw Error(r(485));if(i=s.action,i!==null){var b={payload:A,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){b.listeners.push(L)}};ne.T!==null?u(!0):b.isTransition=!1,x(b),u=s.pending,u===null?(b.next=s.pending=b,Mg(s,b)):(b.next=u.next,s.pending=u.next=b)}}function Mg(i,s){var u=s.action,x=s.payload,A=i.state;if(s.isTransition){var b=ne.T,L={};ne.T=L;try{var z=u(A,x),Q=ne.S;Q!==null&&Q(L,z),Ig(i,s,z)}catch(fe){$d(i,s,fe)}finally{ne.T=b}}else try{b=u(A,x),Ig(i,s,b)}catch(fe){$d(i,s,fe)}}function Ig(i,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(x){Rg(i,s,x)},function(x){return $d(i,s,x)}):Rg(i,s,u)}function Rg(i,s,u){s.status="fulfilled",s.value=u,Dg(s),i.state=u,s=i.pending,s!==null&&(u=s.next,u===s?i.pending=null:(u=u.next,s.next=u,Mg(i,u)))}function $d(i,s,u){var x=i.pending;if(i.pending=null,x!==null){x=x.next;do s.status="rejected",s.reason=u,Dg(s),s=s.next;while(s!==x)}i.action=null}function Dg(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Og(i,s){return s}function Lg(i,s){if(It){var u=en.formState;if(u!==null){e:{var x=ht;if(It){if(yn){t:{for(var A=yn,b=Lr;A.nodeType!==8;){if(!b){A=null;break t}if(A=fr(A.nextSibling),A===null){A=null;break t}}b=A.data,A=b==="F!"||b==="F"?A:null}if(A){yn=fr(A.nextSibling),x=A.data==="F!";break e}}Rs(x)}x=!1}x&&(s=u[0])}}return u=wi(),u.memoizedState=u.baseState=s,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Og,lastRenderedState:s},u.queue=x,u=$g.bind(null,ht,x),x.dispatch=u,x=Jd(!1),b=rh.bind(null,ht,!1,x.queue),x=wi(),A={state:s,dispatch:null,action:i,pending:null},x.queue=A,u=Sw.bind(null,ht,A,b,u),A.dispatch=u,x.memoizedState=i,[s,u,!1]}function Pg(i){var s=On();return Bg(s,Xt,i)}function Bg(i,s,u){if(s=Zd(i,s,Og)[0],i=gu(io)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var x=ql(s)}catch(L){throw L===Ul?lu:L}else x=s;s=On();var A=s.queue,b=A.dispatch;return u!==s.memoizedState&&(ht.flags|=2048,Sa(9,mu(),bw.bind(null,A,u),null)),[x,b,i]}function bw(i,s){i.action=s}function kg(i){var s=On(),u=Xt;if(u!==null)return Bg(s,u,i);On(),s=s.memoizedState,u=On();var x=u.queue.dispatch;return u.memoizedState=i,[s,x,!1]}function Sa(i,s,u,x){return i={tag:i,create:u,deps:x,inst:s,next:null},s=ht.updateQueue,s===null&&(s=jd(),ht.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=i.next=i:(x=u.next,u.next=i,i.next=x,s.lastEffect=i),i}function mu(){return{destroy:void 0,resource:void 0}}function Ug(){return On().memoizedState}function pu(i,s,u,x){var A=wi();x=x===void 0?null:x,ht.flags|=i,A.memoizedState=Sa(1|s,mu(),u,x)}function Yl(i,s,u,x){var A=On();x=x===void 0?null:x;var b=A.memoizedState.inst;Xt!==null&&x!==null&&Gd(x,Xt.memoizedState.deps)?A.memoizedState=Sa(s,b,u,x):(ht.flags|=i,A.memoizedState=Sa(1|s,b,u,x))}function Fg(i,s){pu(8390656,8,i,s)}function Vg(i,s){Yl(2048,8,i,s)}function zg(i,s){return Yl(4,2,i,s)}function Hg(i,s){return Yl(4,4,i,s)}function Gg(i,s){if(typeof s=="function"){i=i();var u=s(i);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function qg(i,s,u){u=u!=null?u.concat([i]):null,Yl(4,4,Gg.bind(null,s,i),u)}function eh(){}function Yg(i,s){var u=On();s=s===void 0?null:s;var x=u.memoizedState;return s!==null&&Gd(s,x[1])?x[0]:(u.memoizedState=[i,s],i)}function Xg(i,s){var u=On();s=s===void 0?null:s;var x=u.memoizedState;if(s!==null&&Gd(s,x[1]))return x[0];if(x=i(),Ps){Qn(!0);try{i()}finally{Qn(!1)}}return u.memoizedState=[x,s],x}function th(i,s,u){return u===void 0||(ko&1073741824)!==0?i.memoizedState=s:(i.memoizedState=u,i=Km(),ht.lanes|=i,qo|=i,u)}function Wg(i,s,u,x){return d(u,s)?u:wa.current!==null?(i=th(i,u,x),d(i,s)||(Wn=!0),i):(ko&42)===0?(Wn=!0,i.memoizedState=u):(i=Km(),ht.lanes|=i,qo|=i,s)}function jg(i,s,u,x,A){var b=he.p;he.p=b!==0&&8>b?b:8;var L=ne.T,z={};ne.T=z,rh(i,!1,s,u);try{var Q=A(),fe=ne.S;if(fe!==null&&fe(z,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var Ce=ww(Q,x);Xl(i,s,Ce,Ui(i))}else Xl(i,s,x,Ui(i))}catch(we){Xl(i,s,{then:function(){},status:"rejected",reason:we},Ui())}finally{he.p=b,ne.T=L}}function _w(){}function nh(i,s,u,x){if(i.tag!==5)throw Error(r(476));var A=Kg(i).queue;jg(i,A,s,ie,u===null?_w:function(){return Zg(i),u(x)})}function Kg(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:io,lastRenderedState:ie},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:io,lastRenderedState:u},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Zg(i){var s=Kg(i).next.queue;Xl(i,s,{},Ui())}function ih(){return li(uc)}function Qg(){return On().memoizedState}function Jg(){return On().memoizedState}function Nw(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var u=Ui();i=Po(u);var x=Bo(s,i,u);x!==null&&(Fi(x,s,u),Vl(x,s,u)),s={cache:Od()},i.payload=s;return}s=s.return}}function Mw(i,s,u){var x=Ui();u={lane:x,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},xu(i)?em(s,u):(u=Ad(i,s,u,x),u!==null&&(Fi(u,i,x),tm(u,s,x)))}function $g(i,s,u){var x=Ui();Xl(i,s,u,x)}function Xl(i,s,u,x){var A={lane:x,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(xu(i))em(s,A);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var L=s.lastRenderedState,z=b(L,u);if(A.hasEagerState=!0,A.eagerState=z,d(z,L))return eu(i,s,A,0),en===null&&$c(),!1}catch{}finally{}if(u=Ad(i,s,A,x),u!==null)return Fi(u,i,x),tm(u,s,x),!0}return!1}function rh(i,s,u,x){if(x={lane:2,revertLane:Bh(),action:x,hasEagerState:!1,eagerState:null,next:null},xu(i)){if(s)throw Error(r(479))}else s=Ad(i,u,x,2),s!==null&&Fi(s,i,2)}function xu(i){var s=i.alternate;return i===ht||s!==null&&s===ht}function em(i,s){Aa=fu=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function tm(i,s,u){if((u&4194048)!==0){var x=s.lanes;x&=i.pendingLanes,u|=x,s.lanes=u,yi(i,u)}}var yu={readContext:li,use:hu,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useLayoutEffect:_n,useInsertionEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useSyncExternalStore:_n,useId:_n,useHostTransitionStatus:_n,useFormState:_n,useActionState:_n,useOptimistic:_n,useMemoCache:_n,useCacheRefresh:_n},nm={readContext:li,use:hu,useCallback:function(i,s){return wi().memoizedState=[i,s===void 0?null:s],i},useContext:li,useEffect:Fg,useImperativeHandle:function(i,s,u){u=u!=null?u.concat([i]):null,pu(4194308,4,Gg.bind(null,s,i),u)},useLayoutEffect:function(i,s){return pu(4194308,4,i,s)},useInsertionEffect:function(i,s){pu(4,2,i,s)},useMemo:function(i,s){var u=wi();s=s===void 0?null:s;var x=i();if(Ps){Qn(!0);try{i()}finally{Qn(!1)}}return u.memoizedState=[x,s],x},useReducer:function(i,s,u){var x=wi();if(u!==void 0){var A=u(s);if(Ps){Qn(!0);try{u(s)}finally{Qn(!1)}}}else A=s;return x.memoizedState=x.baseState=A,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:A},x.queue=i,i=i.dispatch=Mw.bind(null,ht,i),[x.memoizedState,i]},useRef:function(i){var s=wi();return i={current:i},s.memoizedState=i},useState:function(i){i=Jd(i);var s=i.queue,u=$g.bind(null,ht,s);return s.dispatch=u,[i.memoizedState,u]},useDebugValue:eh,useDeferredValue:function(i,s){var u=wi();return th(u,i,s)},useTransition:function(){var i=Jd(!1);return i=jg.bind(null,ht,i.queue,!0,!1),wi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,u){var x=ht,A=wi();if(It){if(u===void 0)throw Error(r(407));u=u()}else{if(u=s(),en===null)throw Error(r(349));(Tt&124)!==0||Ag(x,s,u)}A.memoizedState=u;var b={value:u,getSnapshot:s};return A.queue=b,Fg(Sg.bind(null,x,b,i),[i]),x.flags|=2048,Sa(9,mu(),Tg.bind(null,x,b,u,s),null),u},useId:function(){var i=wi(),s=en.identifierPrefix;if(It){var u=eo,x=$r;u=(x&~(1<<32-Pt(x)-1)).toString(32)+u,s="«"+s+"R"+u,u=du++,0<u&&(s+="H"+u.toString(32)),s+="»"}else u=Aw++,s="«"+s+"r"+u.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:ih,useFormState:Lg,useActionState:Lg,useOptimistic:function(i){var s=wi();s.memoizedState=s.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=rh.bind(null,ht,!0,u),u.dispatch=s,[i,s]},useMemoCache:Kd,useCacheRefresh:function(){return wi().memoizedState=Nw.bind(null,ht)}},im={readContext:li,use:hu,useCallback:Yg,useContext:li,useEffect:Vg,useImperativeHandle:qg,useInsertionEffect:zg,useLayoutEffect:Hg,useMemo:Xg,useReducer:gu,useRef:Ug,useState:function(){return gu(io)},useDebugValue:eh,useDeferredValue:function(i,s){var u=On();return Wg(u,Xt.memoizedState,i,s)},useTransition:function(){var i=gu(io)[0],s=On().memoizedState;return[typeof i=="boolean"?i:ql(i),s]},useSyncExternalStore:wg,useId:Qg,useHostTransitionStatus:ih,useFormState:Pg,useActionState:Pg,useOptimistic:function(i,s){var u=On();return Ng(u,Xt,i,s)},useMemoCache:Kd,useCacheRefresh:Jg},Iw={readContext:li,use:hu,useCallback:Yg,useContext:li,useEffect:Vg,useImperativeHandle:qg,useInsertionEffect:zg,useLayoutEffect:Hg,useMemo:Xg,useReducer:Qd,useRef:Ug,useState:function(){return Qd(io)},useDebugValue:eh,useDeferredValue:function(i,s){var u=On();return Xt===null?th(u,i,s):Wg(u,Xt.memoizedState,i,s)},useTransition:function(){var i=Qd(io)[0],s=On().memoizedState;return[typeof i=="boolean"?i:ql(i),s]},useSyncExternalStore:wg,useId:Qg,useHostTransitionStatus:ih,useFormState:kg,useActionState:kg,useOptimistic:function(i,s){var u=On();return Xt!==null?Ng(u,Xt,i,s):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Kd,useCacheRefresh:Jg},ba=null,Wl=0;function Cu(i){var s=Wl;return Wl+=1,ba===null&&(ba=[]),gg(ba,i,s)}function jl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function vu(i,s){throw s.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function rm(i){var s=i._init;return s(i._payload)}function om(i){function s(se,te){if(i){var ue=se.deletions;ue===null?(se.deletions=[te],se.flags|=16):ue.push(te)}}function u(se,te){if(!i)return null;for(;te!==null;)s(se,te),te=te.sibling;return null}function x(se){for(var te=new Map;se!==null;)se.key!==null?te.set(se.key,se):te.set(se.index,se),se=se.sibling;return te}function A(se,te){return se=Jr(se,te),se.index=0,se.sibling=null,se}function b(se,te,ue){return se.index=ue,i?(ue=se.alternate,ue!==null?(ue=ue.index,ue<te?(se.flags|=67108866,te):ue):(se.flags|=67108866,te)):(se.flags|=1048576,te)}function L(se){return i&&se.alternate===null&&(se.flags|=67108866),se}function z(se,te,ue,ve){return te===null||te.tag!==6?(te=Sd(ue,se.mode,ve),te.return=se,te):(te=A(te,ue),te.return=se,te)}function Q(se,te,ue,ve){var ze=ue.type;return ze===P?Ce(se,te,ue.props.children,ve,ue.key):te!==null&&(te.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===ae&&rm(ze)===te.type)?(te=A(te,ue.props),jl(te,ue),te.return=se,te):(te=nu(ue.type,ue.key,ue.props,null,se.mode,ve),jl(te,ue),te.return=se,te)}function fe(se,te,ue,ve){return te===null||te.tag!==4||te.stateNode.containerInfo!==ue.containerInfo||te.stateNode.implementation!==ue.implementation?(te=bd(ue,se.mode,ve),te.return=se,te):(te=A(te,ue.children||[]),te.return=se,te)}function Ce(se,te,ue,ve,ze){return te===null||te.tag!==7?(te=_s(ue,se.mode,ve,ze),te.return=se,te):(te=A(te,ue),te.return=se,te)}function we(se,te,ue){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return te=Sd(""+te,se.mode,ue),te.return=se,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case I:return ue=nu(te.type,te.key,te.props,null,se.mode,ue),jl(ue,te),ue.return=se,ue;case O:return te=bd(te,se.mode,ue),te.return=se,te;case ae:var ve=te._init;return te=ve(te._payload),we(se,te,ue)}if(re(te)||Te(te))return te=_s(te,se.mode,ue,null),te.return=se,te;if(typeof te.then=="function")return we(se,Cu(te),ue);if(te.$$typeof===H)return we(se,su(se,te),ue);vu(se,te)}return null}function de(se,te,ue,ve){var ze=te!==null?te.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return ze!==null?null:z(se,te,""+ue,ve);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case I:return ue.key===ze?Q(se,te,ue,ve):null;case O:return ue.key===ze?fe(se,te,ue,ve):null;case ae:return ze=ue._init,ue=ze(ue._payload),de(se,te,ue,ve)}if(re(ue)||Te(ue))return ze!==null?null:Ce(se,te,ue,ve,null);if(typeof ue.then=="function")return de(se,te,Cu(ue),ve);if(ue.$$typeof===H)return de(se,te,su(se,ue),ve);vu(se,ue)}return null}function me(se,te,ue,ve,ze){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return se=se.get(ue)||null,z(te,se,""+ve,ze);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case I:return se=se.get(ve.key===null?ue:ve.key)||null,Q(te,se,ve,ze);case O:return se=se.get(ve.key===null?ue:ve.key)||null,fe(te,se,ve,ze);case ae:var mt=ve._init;return ve=mt(ve._payload),me(se,te,ue,ve,ze)}if(re(ve)||Te(ve))return se=se.get(ue)||null,Ce(te,se,ve,ze,null);if(typeof ve.then=="function")return me(se,te,ue,Cu(ve),ze);if(ve.$$typeof===H)return me(se,te,ue,su(te,ve),ze);vu(te,ve)}return null}function nt(se,te,ue,ve){for(var ze=null,mt=null,je=te,$e=te=0,Kn=null;je!==null&&$e<ue.length;$e++){je.index>$e?(Kn=je,je=null):Kn=je.sibling;var Nt=de(se,je,ue[$e],ve);if(Nt===null){je===null&&(je=Kn);break}i&&je&&Nt.alternate===null&&s(se,je),te=b(Nt,te,$e),mt===null?ze=Nt:mt.sibling=Nt,mt=Nt,je=Kn}if($e===ue.length)return u(se,je),It&&Ms(se,$e),ze;if(je===null){for(;$e<ue.length;$e++)je=we(se,ue[$e],ve),je!==null&&(te=b(je,te,$e),mt===null?ze=je:mt.sibling=je,mt=je);return It&&Ms(se,$e),ze}for(je=x(je);$e<ue.length;$e++)Kn=me(je,se,$e,ue[$e],ve),Kn!==null&&(i&&Kn.alternate!==null&&je.delete(Kn.key===null?$e:Kn.key),te=b(Kn,te,$e),mt===null?ze=Kn:mt.sibling=Kn,mt=Kn);return i&&je.forEach(function($o){return s(se,$o)}),It&&Ms(se,$e),ze}function Je(se,te,ue,ve){if(ue==null)throw Error(r(151));for(var ze=null,mt=null,je=te,$e=te=0,Kn=null,Nt=ue.next();je!==null&&!Nt.done;$e++,Nt=ue.next()){je.index>$e?(Kn=je,je=null):Kn=je.sibling;var $o=de(se,je,Nt.value,ve);if($o===null){je===null&&(je=Kn);break}i&&je&&$o.alternate===null&&s(se,je),te=b($o,te,$e),mt===null?ze=$o:mt.sibling=$o,mt=$o,je=Kn}if(Nt.done)return u(se,je),It&&Ms(se,$e),ze;if(je===null){for(;!Nt.done;$e++,Nt=ue.next())Nt=we(se,Nt.value,ve),Nt!==null&&(te=b(Nt,te,$e),mt===null?ze=Nt:mt.sibling=Nt,mt=Nt);return It&&Ms(se,$e),ze}for(je=x(je);!Nt.done;$e++,Nt=ue.next())Nt=me(je,se,$e,Nt.value,ve),Nt!==null&&(i&&Nt.alternate!==null&&je.delete(Nt.key===null?$e:Nt.key),te=b(Nt,te,$e),mt===null?ze=Nt:mt.sibling=Nt,mt=Nt);return i&&je.forEach(function(RA){return s(se,RA)}),It&&Ms(se,$e),ze}function jt(se,te,ue,ve){if(typeof ue=="object"&&ue!==null&&ue.type===P&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case I:e:{for(var ze=ue.key;te!==null;){if(te.key===ze){if(ze=ue.type,ze===P){if(te.tag===7){u(se,te.sibling),ve=A(te,ue.props.children),ve.return=se,se=ve;break e}}else if(te.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===ae&&rm(ze)===te.type){u(se,te.sibling),ve=A(te,ue.props),jl(ve,ue),ve.return=se,se=ve;break e}u(se,te);break}else s(se,te);te=te.sibling}ue.type===P?(ve=_s(ue.props.children,se.mode,ve,ue.key),ve.return=se,se=ve):(ve=nu(ue.type,ue.key,ue.props,null,se.mode,ve),jl(ve,ue),ve.return=se,se=ve)}return L(se);case O:e:{for(ze=ue.key;te!==null;){if(te.key===ze)if(te.tag===4&&te.stateNode.containerInfo===ue.containerInfo&&te.stateNode.implementation===ue.implementation){u(se,te.sibling),ve=A(te,ue.children||[]),ve.return=se,se=ve;break e}else{u(se,te);break}else s(se,te);te=te.sibling}ve=bd(ue,se.mode,ve),ve.return=se,se=ve}return L(se);case ae:return ze=ue._init,ue=ze(ue._payload),jt(se,te,ue,ve)}if(re(ue))return nt(se,te,ue,ve);if(Te(ue)){if(ze=Te(ue),typeof ze!="function")throw Error(r(150));return ue=ze.call(ue),Je(se,te,ue,ve)}if(typeof ue.then=="function")return jt(se,te,Cu(ue),ve);if(ue.$$typeof===H)return jt(se,te,su(se,ue),ve);vu(se,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint"?(ue=""+ue,te!==null&&te.tag===6?(u(se,te.sibling),ve=A(te,ue),ve.return=se,se=ve):(u(se,te),ve=Sd(ue,se.mode,ve),ve.return=se,se=ve),L(se)):u(se,te)}return function(se,te,ue,ve){try{Wl=0;var ze=jt(se,te,ue,ve);return ba=null,ze}catch(je){if(je===Ul||je===lu)throw je;var mt=Li(29,je,null,se.mode);return mt.lanes=ve,mt.return=se,mt}finally{}}}var _a=om(!0),sm=om(!1),er=xe(null),Pr=null;function Uo(i){var s=i.alternate;Se(zn,zn.current&1),Se(er,i),Pr===null&&(s===null||wa.current!==null||s.memoizedState!==null)&&(Pr=i)}function am(i){if(i.tag===22){if(Se(zn,zn.current),Se(er,i),Pr===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Pr=i)}}else Fo()}function Fo(){Se(zn,zn.current),Se(er,er.current)}function ro(i){Ee(er),Pr===i&&(Pr=null),Ee(zn)}var zn=xe(0);function Eu(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||jh(u)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function oh(i,s,u,x){s=i.memoizedState,u=u(x,s),u=u==null?s:T({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var sh={enqueueSetState:function(i,s,u){i=i._reactInternals;var x=Ui(),A=Po(x);A.payload=s,u!=null&&(A.callback=u),s=Bo(i,A,x),s!==null&&(Fi(s,i,x),Vl(s,i,x))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var x=Ui(),A=Po(x);A.tag=1,A.payload=s,u!=null&&(A.callback=u),s=Bo(i,A,x),s!==null&&(Fi(s,i,x),Vl(s,i,x))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=Ui(),x=Po(u);x.tag=2,s!=null&&(x.callback=s),s=Bo(i,x,u),s!==null&&(Fi(s,i,u),Vl(s,i,u))}};function lm(i,s,u,x,A,b,L){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(x,b,L):s.prototype&&s.prototype.isPureReactComponent?!h(u,x)||!h(A,b):!0}function cm(i,s,u,x){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,x),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,x),s.state!==i&&sh.enqueueReplaceState(s,s.state,null)}function Bs(i,s){var u=s;if("ref"in s){u={};for(var x in s)x!=="ref"&&(u[x]=s[x])}if(i=i.defaultProps){u===s&&(u=T({},u));for(var A in i)u[A]===void 0&&(u[A]=i[A])}return u}var wu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function um(i){wu(i)}function fm(i){console.error(i)}function dm(i){wu(i)}function Au(i,s){try{var u=i.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(x){setTimeout(function(){throw x})}}function hm(i,s,u){try{var x=i.onCaughtError;x(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function ah(i,s,u){return u=Po(u),u.tag=3,u.payload={element:null},u.callback=function(){Au(i,s)},u}function gm(i){return i=Po(i),i.tag=3,i}function mm(i,s,u,x){var A=u.type.getDerivedStateFromError;if(typeof A=="function"){var b=x.value;i.payload=function(){return A(b)},i.callback=function(){hm(s,u,x)}}var L=u.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(i.callback=function(){hm(s,u,x),typeof A!="function"&&(Yo===null?Yo=new Set([this]):Yo.add(this));var z=x.stack;this.componentDidCatch(x.value,{componentStack:z!==null?z:""})})}function Rw(i,s,u,x,A){if(u.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(s=u.alternate,s!==null&&Pl(s,u,A,!0),u=er.current,u!==null){switch(u.tag){case 13:return Pr===null?Rh():u.alternate===null&&Cn===0&&(Cn=3),u.flags&=-257,u.flags|=65536,u.lanes=A,x===Bd?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([x]):s.add(x),Oh(i,x,A)),!1;case 22:return u.flags|=65536,x===Bd?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([x])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([x]):u.add(x)),Oh(i,x,A)),!1}throw Error(r(435,u.tag))}return Oh(i,x,A),Rh(),!1}if(It)return s=er.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=A,x!==Md&&(i=Error(r(422),{cause:x}),Ll(Zi(i,u)))):(x!==Md&&(s=Error(r(423),{cause:x}),Ll(Zi(s,u))),i=i.current.alternate,i.flags|=65536,A&=-A,i.lanes|=A,x=Zi(x,u),A=ah(i.stateNode,x,A),Fd(i,A),Cn!==4&&(Cn=2)),!1;var b=Error(r(520),{cause:x});if(b=Zi(b,u),tc===null?tc=[b]:tc.push(b),Cn!==4&&(Cn=2),s===null)return!0;x=Zi(x,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,i=A&-A,u.lanes|=i,i=ah(u.stateNode,x,i),Fd(u,i),!1;case 1:if(s=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Yo===null||!Yo.has(b))))return u.flags|=65536,A&=-A,u.lanes|=A,A=gm(A),mm(A,i,u,x),Fd(u,A),!1}u=u.return}while(u!==null);return!1}var pm=Error(r(461)),Wn=!1;function $n(i,s,u,x){s.child=i===null?sm(s,null,u,x):_a(s,i.child,u,x)}function xm(i,s,u,x,A){u=u.render;var b=s.ref;if("ref"in x){var L={};for(var z in x)z!=="ref"&&(L[z]=x[z])}else L=x;return Os(s),x=qd(i,s,u,L,b,A),z=Yd(),i!==null&&!Wn?(Xd(i,s,A),oo(i,s,A)):(It&&z&&_d(s),s.flags|=1,$n(i,s,x,A),s.child)}function ym(i,s,u,x,A){if(i===null){var b=u.type;return typeof b=="function"&&!Td(b)&&b.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=b,Cm(i,s,b,x,A)):(i=nu(u.type,null,x,s,s.mode,A),i.ref=s.ref,i.return=s,s.child=i)}if(b=i.child,!mh(i,A)){var L=b.memoizedProps;if(u=u.compare,u=u!==null?u:h,u(L,x)&&i.ref===s.ref)return oo(i,s,A)}return s.flags|=1,i=Jr(b,x),i.ref=s.ref,i.return=s,s.child=i}function Cm(i,s,u,x,A){if(i!==null){var b=i.memoizedProps;if(h(b,x)&&i.ref===s.ref)if(Wn=!1,s.pendingProps=x=b,mh(i,A))(i.flags&131072)!==0&&(Wn=!0);else return s.lanes=i.lanes,oo(i,s,A)}return lh(i,s,u,x,A)}function vm(i,s,u){var x=s.pendingProps,A=x.children,b=i!==null?i.memoizedState:null;if(x.mode==="hidden"){if((s.flags&128)!==0){if(x=b!==null?b.baseLanes|u:u,i!==null){for(A=s.child=i.child,b=0;A!==null;)b=b|A.lanes|A.childLanes,A=A.sibling;s.childLanes=b&~x}else s.childLanes=0,s.child=null;return Em(i,s,x,u)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&au(s,b!==null?b.cachePool:null),b!==null?Cg(s,b):zd(),am(s);else return s.lanes=s.childLanes=536870912,Em(i,s,b!==null?b.baseLanes|u:u,u)}else b!==null?(au(s,b.cachePool),Cg(s,b),Fo(),s.memoizedState=null):(i!==null&&au(s,null),zd(),Fo());return $n(i,s,A,u),s.child}function Em(i,s,u,x){var A=Pd();return A=A===null?null:{parent:Vn._currentValue,pool:A},s.memoizedState={baseLanes:u,cachePool:A},i!==null&&au(s,null),zd(),am(s),i!==null&&Pl(i,s,x,!0),null}function Tu(i,s){var u=s.ref;if(u===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(s.flags|=4194816)}}function lh(i,s,u,x,A){return Os(s),u=qd(i,s,u,x,void 0,A),x=Yd(),i!==null&&!Wn?(Xd(i,s,A),oo(i,s,A)):(It&&x&&_d(s),s.flags|=1,$n(i,s,u,A),s.child)}function wm(i,s,u,x,A,b){return Os(s),s.updateQueue=null,u=Eg(s,x,u,A),vg(i),x=Yd(),i!==null&&!Wn?(Xd(i,s,b),oo(i,s,b)):(It&&x&&_d(s),s.flags|=1,$n(i,s,u,b),s.child)}function Am(i,s,u,x,A){if(Os(s),s.stateNode===null){var b=xa,L=u.contextType;typeof L=="object"&&L!==null&&(b=li(L)),b=new u(x,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=sh,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=x,b.state=s.memoizedState,b.refs={},kd(s),L=u.contextType,b.context=typeof L=="object"&&L!==null?li(L):xa,b.state=s.memoizedState,L=u.getDerivedStateFromProps,typeof L=="function"&&(oh(s,u,L,x),b.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(L=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),L!==b.state&&sh.enqueueReplaceState(b,b.state,null),Hl(s,x,b,A),zl(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),x=!0}else if(i===null){b=s.stateNode;var z=s.memoizedProps,Q=Bs(u,z);b.props=Q;var fe=b.context,Ce=u.contextType;L=xa,typeof Ce=="object"&&Ce!==null&&(L=li(Ce));var we=u.getDerivedStateFromProps;Ce=typeof we=="function"||typeof b.getSnapshotBeforeUpdate=="function",z=s.pendingProps!==z,Ce||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(z||fe!==L)&&cm(s,b,x,L),Lo=!1;var de=s.memoizedState;b.state=de,Hl(s,x,b,A),zl(),fe=s.memoizedState,z||de!==fe||Lo?(typeof we=="function"&&(oh(s,u,we,x),fe=s.memoizedState),(Q=Lo||lm(s,u,Q,x,de,fe,L))?(Ce||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=x,s.memoizedState=fe),b.props=x,b.state=fe,b.context=L,x=Q):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),x=!1)}else{b=s.stateNode,Ud(i,s),L=s.memoizedProps,Ce=Bs(u,L),b.props=Ce,we=s.pendingProps,de=b.context,fe=u.contextType,Q=xa,typeof fe=="object"&&fe!==null&&(Q=li(fe)),z=u.getDerivedStateFromProps,(fe=typeof z=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(L!==we||de!==Q)&&cm(s,b,x,Q),Lo=!1,de=s.memoizedState,b.state=de,Hl(s,x,b,A),zl();var me=s.memoizedState;L!==we||de!==me||Lo||i!==null&&i.dependencies!==null&&ou(i.dependencies)?(typeof z=="function"&&(oh(s,u,z,x),me=s.memoizedState),(Ce=Lo||lm(s,u,Ce,x,de,me,Q)||i!==null&&i.dependencies!==null&&ou(i.dependencies))?(fe||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(x,me,Q),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(x,me,Q)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||L===i.memoizedProps&&de===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&de===i.memoizedState||(s.flags|=1024),s.memoizedProps=x,s.memoizedState=me),b.props=x,b.state=me,b.context=Q,x=Ce):(typeof b.componentDidUpdate!="function"||L===i.memoizedProps&&de===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&de===i.memoizedState||(s.flags|=1024),x=!1)}return b=x,Tu(i,s),x=(s.flags&128)!==0,b||x?(b=s.stateNode,u=x&&typeof u.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,i!==null&&x?(s.child=_a(s,i.child,null,A),s.child=_a(s,null,u,A)):$n(i,s,u,A),s.memoizedState=b.state,i=s.child):i=oo(i,s,A),i}function Tm(i,s,u,x){return Ol(),s.flags|=256,$n(i,s,u,x),s.child}var ch={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uh(i){return{baseLanes:i,cachePool:fg()}}function fh(i,s,u){return i=i!==null?i.childLanes&~u:0,s&&(i|=tr),i}function Sm(i,s,u){var x=s.pendingProps,A=!1,b=(s.flags&128)!==0,L;if((L=b)||(L=i!==null&&i.memoizedState===null?!1:(zn.current&2)!==0),L&&(A=!0,s.flags&=-129),L=(s.flags&32)!==0,s.flags&=-33,i===null){if(It){if(A?Uo(s):Fo(),It){var z=yn,Q;if(Q=z){e:{for(Q=z,z=Lr;Q.nodeType!==8;){if(!z){z=null;break e}if(Q=fr(Q.nextSibling),Q===null){z=null;break e}}z=Q}z!==null?(s.memoizedState={dehydrated:z,treeContext:Ns!==null?{id:$r,overflow:eo}:null,retryLane:536870912,hydrationErrors:null},Q=Li(18,null,null,0),Q.stateNode=z,Q.return=s,s.child=Q,mi=s,yn=null,Q=!0):Q=!1}Q||Rs(s)}if(z=s.memoizedState,z!==null&&(z=z.dehydrated,z!==null))return jh(z)?s.lanes=32:s.lanes=536870912,null;ro(s)}return z=x.children,x=x.fallback,A?(Fo(),A=s.mode,z=Su({mode:"hidden",children:z},A),x=_s(x,A,u,null),z.return=s,x.return=s,z.sibling=x,s.child=z,A=s.child,A.memoizedState=uh(u),A.childLanes=fh(i,L,u),s.memoizedState=ch,x):(Uo(s),dh(s,z))}if(Q=i.memoizedState,Q!==null&&(z=Q.dehydrated,z!==null)){if(b)s.flags&256?(Uo(s),s.flags&=-257,s=hh(i,s,u)):s.memoizedState!==null?(Fo(),s.child=i.child,s.flags|=128,s=null):(Fo(),A=x.fallback,z=s.mode,x=Su({mode:"visible",children:x.children},z),A=_s(A,z,u,null),A.flags|=2,x.return=s,A.return=s,x.sibling=A,s.child=x,_a(s,i.child,null,u),x=s.child,x.memoizedState=uh(u),x.childLanes=fh(i,L,u),s.memoizedState=ch,s=A);else if(Uo(s),jh(z)){if(L=z.nextSibling&&z.nextSibling.dataset,L)var fe=L.dgst;L=fe,x=Error(r(419)),x.stack="",x.digest=L,Ll({value:x,source:null,stack:null}),s=hh(i,s,u)}else if(Wn||Pl(i,s,u,!1),L=(u&i.childLanes)!==0,Wn||L){if(L=en,L!==null&&(x=u&-u,x=(x&42)!==0?1:ps(x),x=(x&(L.suspendedLanes|u))!==0?0:x,x!==0&&x!==Q.retryLane))throw Q.retryLane=x,pa(i,x),Fi(L,i,x),pm;z.data==="$?"||Rh(),s=hh(i,s,u)}else z.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=Q.treeContext,yn=fr(z.nextSibling),mi=s,It=!0,Is=null,Lr=!1,i!==null&&(Ji[$i++]=$r,Ji[$i++]=eo,Ji[$i++]=Ns,$r=i.id,eo=i.overflow,Ns=s),s=dh(s,x.children),s.flags|=4096);return s}return A?(Fo(),A=x.fallback,z=s.mode,Q=i.child,fe=Q.sibling,x=Jr(Q,{mode:"hidden",children:x.children}),x.subtreeFlags=Q.subtreeFlags&65011712,fe!==null?A=Jr(fe,A):(A=_s(A,z,u,null),A.flags|=2),A.return=s,x.return=s,x.sibling=A,s.child=x,x=A,A=s.child,z=i.child.memoizedState,z===null?z=uh(u):(Q=z.cachePool,Q!==null?(fe=Vn._currentValue,Q=Q.parent!==fe?{parent:fe,pool:fe}:Q):Q=fg(),z={baseLanes:z.baseLanes|u,cachePool:Q}),A.memoizedState=z,A.childLanes=fh(i,L,u),s.memoizedState=ch,x):(Uo(s),u=i.child,i=u.sibling,u=Jr(u,{mode:"visible",children:x.children}),u.return=s,u.sibling=null,i!==null&&(L=s.deletions,L===null?(s.deletions=[i],s.flags|=16):L.push(i)),s.child=u,s.memoizedState=null,u)}function dh(i,s){return s=Su({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Su(i,s){return i=Li(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function hh(i,s,u){return _a(s,i.child,null,u),i=dh(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function bm(i,s,u){i.lanes|=s;var x=i.alternate;x!==null&&(x.lanes|=s),Rd(i.return,s,u)}function gh(i,s,u,x,A){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:x,tail:u,tailMode:A}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=x,b.tail=u,b.tailMode=A)}function _m(i,s,u){var x=s.pendingProps,A=x.revealOrder,b=x.tail;if($n(i,s,x.children,u),x=zn.current,(x&2)!==0)x=x&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&bm(i,u,s);else if(i.tag===19)bm(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}x&=1}switch(Se(zn,x),A){case"forwards":for(u=s.child,A=null;u!==null;)i=u.alternate,i!==null&&Eu(i)===null&&(A=u),u=u.sibling;u=A,u===null?(A=s.child,s.child=null):(A=u.sibling,u.sibling=null),gh(s,!1,A,u,b);break;case"backwards":for(u=null,A=s.child,s.child=null;A!==null;){if(i=A.alternate,i!==null&&Eu(i)===null){s.child=A;break}i=A.sibling,A.sibling=u,u=A,A=i}gh(s,!0,u,null,b);break;case"together":gh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function oo(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),qo|=s.lanes,(u&s.childLanes)===0)if(i!==null){if(Pl(i,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,u=Jr(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=Jr(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function mh(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&ou(i)))}function Dw(i,s,u){switch(s.tag){case 3:ke(s,s.stateNode.containerInfo),Oo(s,Vn,i.memoizedState.cache),Ol();break;case 27:case 5:lt(s);break;case 4:ke(s,s.stateNode.containerInfo);break;case 10:Oo(s,s.type,s.memoizedProps.value);break;case 13:var x=s.memoizedState;if(x!==null)return x.dehydrated!==null?(Uo(s),s.flags|=128,null):(u&s.child.childLanes)!==0?Sm(i,s,u):(Uo(s),i=oo(i,s,u),i!==null?i.sibling:null);Uo(s);break;case 19:var A=(i.flags&128)!==0;if(x=(u&s.childLanes)!==0,x||(Pl(i,s,u,!1),x=(u&s.childLanes)!==0),A){if(x)return _m(i,s,u);s.flags|=128}if(A=s.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),Se(zn,zn.current),x)break;return null;case 22:case 23:return s.lanes=0,vm(i,s,u);case 24:Oo(s,Vn,i.memoizedState.cache)}return oo(i,s,u)}function Nm(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps)Wn=!0;else{if(!mh(i,u)&&(s.flags&128)===0)return Wn=!1,Dw(i,s,u);Wn=(i.flags&131072)!==0}else Wn=!1,It&&(s.flags&1048576)!==0&&rg(s,ru,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var x=s.elementType,A=x._init;if(x=A(x._payload),s.type=x,typeof x=="function")Td(x)?(i=Bs(x,i),s.tag=1,s=Am(null,s,x,i,u)):(s.tag=0,s=lh(null,s,x,i,u));else{if(x!=null){if(A=x.$$typeof,A===K){s.tag=11,s=xm(null,s,x,i,u);break e}else if(A===Z){s.tag=14,s=ym(null,s,x,i,u);break e}}throw s=qe(x)||x,Error(r(306,s,""))}}return s;case 0:return lh(i,s,s.type,s.pendingProps,u);case 1:return x=s.type,A=Bs(x,s.pendingProps),Am(i,s,x,A,u);case 3:e:{if(ke(s,s.stateNode.containerInfo),i===null)throw Error(r(387));x=s.pendingProps;var b=s.memoizedState;A=b.element,Ud(i,s),Hl(s,x,null,u);var L=s.memoizedState;if(x=L.cache,Oo(s,Vn,x),x!==b.cache&&Dd(s,[Vn],u,!0),zl(),x=L.element,b.isDehydrated)if(b={element:x,isDehydrated:!1,cache:L.cache},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){s=Tm(i,s,x,u);break e}else if(x!==A){A=Zi(Error(r(424)),s),Ll(A),s=Tm(i,s,x,u);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(yn=fr(i.firstChild),mi=s,It=!0,Is=null,Lr=!0,u=sm(s,null,x,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Ol(),x===A){s=oo(i,s,u);break e}$n(i,s,x,u)}s=s.child}return s;case 26:return Tu(i,s),i===null?(u=Dp(s.type,null,s.pendingProps,null))?s.memoizedState=u:It||(u=s.type,i=s.pendingProps,x=Fu(be.current).createElement(u),x[qn]=s,x[mn]=i,ti(x,u,i),Bt(x),s.stateNode=x):s.memoizedState=Dp(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return lt(s),i===null&&It&&(x=s.stateNode=Mp(s.type,s.pendingProps,be.current),mi=s,Lr=!0,A=yn,jo(s.type)?(Kh=A,yn=fr(x.firstChild)):yn=A),$n(i,s,s.pendingProps.children,u),Tu(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&It&&((A=x=yn)&&(x=sA(x,s.type,s.pendingProps,Lr),x!==null?(s.stateNode=x,mi=s,yn=fr(x.firstChild),Lr=!1,A=!0):A=!1),A||Rs(s)),lt(s),A=s.type,b=s.pendingProps,L=i!==null?i.memoizedProps:null,x=b.children,Yh(A,b)?x=null:L!==null&&Yh(A,L)&&(s.flags|=32),s.memoizedState!==null&&(A=qd(i,s,Tw,null,null,u),uc._currentValue=A),Tu(i,s),$n(i,s,x,u),s.child;case 6:return i===null&&It&&((i=u=yn)&&(u=aA(u,s.pendingProps,Lr),u!==null?(s.stateNode=u,mi=s,yn=null,i=!0):i=!1),i||Rs(s)),null;case 13:return Sm(i,s,u);case 4:return ke(s,s.stateNode.containerInfo),x=s.pendingProps,i===null?s.child=_a(s,null,x,u):$n(i,s,x,u),s.child;case 11:return xm(i,s,s.type,s.pendingProps,u);case 7:return $n(i,s,s.pendingProps,u),s.child;case 8:return $n(i,s,s.pendingProps.children,u),s.child;case 12:return $n(i,s,s.pendingProps.children,u),s.child;case 10:return x=s.pendingProps,Oo(s,s.type,x.value),$n(i,s,x.children,u),s.child;case 9:return A=s.type._context,x=s.pendingProps.children,Os(s),A=li(A),x=x(A),s.flags|=1,$n(i,s,x,u),s.child;case 14:return ym(i,s,s.type,s.pendingProps,u);case 15:return Cm(i,s,s.type,s.pendingProps,u);case 19:return _m(i,s,u);case 31:return x=s.pendingProps,u=s.mode,x={mode:x.mode,children:x.children},i===null?(u=Su(x,u),u.ref=s.ref,s.child=u,u.return=s,s=u):(u=Jr(i.child,x),u.ref=s.ref,s.child=u,u.return=s,s=u),s;case 22:return vm(i,s,u);case 24:return Os(s),x=li(Vn),i===null?(A=Pd(),A===null&&(A=en,b=Od(),A.pooledCache=b,b.refCount++,b!==null&&(A.pooledCacheLanes|=u),A=b),s.memoizedState={parent:x,cache:A},kd(s),Oo(s,Vn,A)):((i.lanes&u)!==0&&(Ud(i,s),Hl(s,null,null,u),zl()),A=i.memoizedState,b=s.memoizedState,A.parent!==x?(A={parent:x,cache:x},s.memoizedState=A,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=A),Oo(s,Vn,x)):(x=b.cache,Oo(s,Vn,x),x!==A.cache&&Dd(s,[Vn],u,!0))),$n(i,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function so(i){i.flags|=4}function Mm(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!kp(s)){if(s=er.current,s!==null&&((Tt&4194048)===Tt?Pr!==null:(Tt&62914560)!==Tt&&(Tt&536870912)===0||s!==Pr))throw Fl=Bd,dg;i.flags|=8192}}function bu(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?El():536870912,i.lanes|=s,Ra|=s)}function Kl(i,s){if(!It)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var x=null;u!==null;)u.alternate!==null&&(x=u),u=u.sibling;x===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:x.sibling=null}}function hn(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,x=0;if(s)for(var A=i.child;A!==null;)u|=A.lanes|A.childLanes,x|=A.subtreeFlags&65011712,x|=A.flags&65011712,A.return=i,A=A.sibling;else for(A=i.child;A!==null;)u|=A.lanes|A.childLanes,x|=A.subtreeFlags,x|=A.flags,A.return=i,A=A.sibling;return i.subtreeFlags|=x,i.childLanes=u,s}function Ow(i,s,u){var x=s.pendingProps;switch(Nd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(s),null;case 1:return hn(s),null;case 3:return u=s.stateNode,x=null,i!==null&&(x=i.memoizedState.cache),s.memoizedState.cache!==x&&(s.flags|=2048),no(Vn),Ct(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(Dl(s)?so(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ag())),hn(s),null;case 26:return u=s.memoizedState,i===null?(so(s),u!==null?(hn(s),Mm(s,u)):(hn(s),s.flags&=-16777217)):u?u!==i.memoizedState?(so(s),hn(s),Mm(s,u)):(hn(s),s.flags&=-16777217):(i.memoizedProps!==x&&so(s),hn(s),s.flags&=-16777217),null;case 27:Qe(s),u=be.current;var A=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==x&&so(s);else{if(!x){if(s.stateNode===null)throw Error(r(166));return hn(s),null}i=Oe.current,Dl(s)?og(s):(i=Mp(A,x,u),s.stateNode=i,so(s))}return hn(s),null;case 5:if(Qe(s),u=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==x&&so(s);else{if(!x){if(s.stateNode===null)throw Error(r(166));return hn(s),null}if(i=Oe.current,Dl(s))og(s);else{switch(A=Fu(be.current),i){case 1:i=A.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=A.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=A.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=A.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=A.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof x.is=="string"?A.createElement("select",{is:x.is}):A.createElement("select"),x.multiple?i.multiple=!0:x.size&&(i.size=x.size);break;default:i=typeof x.is=="string"?A.createElement(u,{is:x.is}):A.createElement(u)}}i[qn]=s,i[mn]=x;e:for(A=s.child;A!==null;){if(A.tag===5||A.tag===6)i.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===s)break e;for(;A.sibling===null;){if(A.return===null||A.return===s)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}s.stateNode=i;e:switch(ti(i,u,x),u){case"button":case"input":case"select":case"textarea":i=!!x.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&so(s)}}return hn(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==x&&so(s);else{if(typeof x!="string"&&s.stateNode===null)throw Error(r(166));if(i=be.current,Dl(s)){if(i=s.stateNode,u=s.memoizedProps,x=null,A=mi,A!==null)switch(A.tag){case 27:case 5:x=A.memoizedProps}i[qn]=s,i=!!(i.nodeValue===u||x!==null&&x.suppressHydrationWarning===!0||wp(i.nodeValue,u)),i||Rs(s)}else i=Fu(i).createTextNode(x),i[qn]=s,s.stateNode=i}return hn(s),null;case 13:if(x=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(A=Dl(s),x!==null&&x.dehydrated!==null){if(i===null){if(!A)throw Error(r(318));if(A=s.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[qn]=s}else Ol(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;hn(s),A=!1}else A=ag(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=A),A=!0;if(!A)return s.flags&256?(ro(s),s):(ro(s),null)}if(ro(s),(s.flags&128)!==0)return s.lanes=u,s;if(u=x!==null,i=i!==null&&i.memoizedState!==null,u){x=s.child,A=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(A=x.alternate.memoizedState.cachePool.pool);var b=null;x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(b=x.memoizedState.cachePool.pool),b!==A&&(x.flags|=2048)}return u!==i&&u&&(s.child.flags|=8192),bu(s,s.updateQueue),hn(s),null;case 4:return Ct(),i===null&&Vh(s.stateNode.containerInfo),hn(s),null;case 10:return no(s.type),hn(s),null;case 19:if(Ee(zn),A=s.memoizedState,A===null)return hn(s),null;if(x=(s.flags&128)!==0,b=A.rendering,b===null)if(x)Kl(A,!1);else{if(Cn!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(b=Eu(i),b!==null){for(s.flags|=128,Kl(A,!1),i=b.updateQueue,s.updateQueue=i,bu(s,i),s.subtreeFlags=0,i=u,u=s.child;u!==null;)ig(u,i),u=u.sibling;return Se(zn,zn.current&1|2),s.child}i=i.sibling}A.tail!==null&&At()>Mu&&(s.flags|=128,x=!0,Kl(A,!1),s.lanes=4194304)}else{if(!x)if(i=Eu(b),i!==null){if(s.flags|=128,x=!0,i=i.updateQueue,s.updateQueue=i,bu(s,i),Kl(A,!0),A.tail===null&&A.tailMode==="hidden"&&!b.alternate&&!It)return hn(s),null}else 2*At()-A.renderingStartTime>Mu&&u!==536870912&&(s.flags|=128,x=!0,Kl(A,!1),s.lanes=4194304);A.isBackwards?(b.sibling=s.child,s.child=b):(i=A.last,i!==null?i.sibling=b:s.child=b,A.last=b)}return A.tail!==null?(s=A.tail,A.rendering=s,A.tail=s.sibling,A.renderingStartTime=At(),s.sibling=null,i=zn.current,Se(zn,x?i&1|2:i&1),s):(hn(s),null);case 22:case 23:return ro(s),Hd(),x=s.memoizedState!==null,i!==null?i.memoizedState!==null!==x&&(s.flags|=8192):x&&(s.flags|=8192),x?(u&536870912)!==0&&(s.flags&128)===0&&(hn(s),s.subtreeFlags&6&&(s.flags|=8192)):hn(s),u=s.updateQueue,u!==null&&bu(s,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),x=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(x=s.memoizedState.cachePool.pool),x!==u&&(s.flags|=2048),i!==null&&Ee(Ls),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),no(Vn),hn(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Lw(i,s){switch(Nd(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return no(Vn),Ct(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Qe(s),null;case 13:if(ro(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ol()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Ee(zn),null;case 4:return Ct(),null;case 10:return no(s.type),null;case 22:case 23:return ro(s),Hd(),i!==null&&Ee(Ls),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return no(Vn),null;case 25:return null;default:return null}}function Im(i,s){switch(Nd(s),s.tag){case 3:no(Vn),Ct();break;case 26:case 27:case 5:Qe(s);break;case 4:Ct();break;case 13:ro(s);break;case 19:Ee(zn);break;case 10:no(s.type);break;case 22:case 23:ro(s),Hd(),i!==null&&Ee(Ls);break;case 24:no(Vn)}}function Zl(i,s){try{var u=s.updateQueue,x=u!==null?u.lastEffect:null;if(x!==null){var A=x.next;u=A;do{if((u.tag&i)===i){x=void 0;var b=u.create,L=u.inst;x=b(),L.destroy=x}u=u.next}while(u!==A)}}catch(z){Qt(s,s.return,z)}}function Vo(i,s,u){try{var x=s.updateQueue,A=x!==null?x.lastEffect:null;if(A!==null){var b=A.next;x=b;do{if((x.tag&i)===i){var L=x.inst,z=L.destroy;if(z!==void 0){L.destroy=void 0,A=s;var Q=u,fe=z;try{fe()}catch(Ce){Qt(A,Q,Ce)}}}x=x.next}while(x!==b)}}catch(Ce){Qt(s,s.return,Ce)}}function Rm(i){var s=i.updateQueue;if(s!==null){var u=i.stateNode;try{yg(s,u)}catch(x){Qt(i,i.return,x)}}}function Dm(i,s,u){u.props=Bs(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(x){Qt(i,s,x)}}function Ql(i,s){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var x=i.stateNode;break;case 30:x=i.stateNode;break;default:x=i.stateNode}typeof u=="function"?i.refCleanup=u(x):u.current=x}}catch(A){Qt(i,s,A)}}function Br(i,s){var u=i.ref,x=i.refCleanup;if(u!==null)if(typeof x=="function")try{x()}catch(A){Qt(i,s,A)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(A){Qt(i,s,A)}else u.current=null}function Om(i){var s=i.type,u=i.memoizedProps,x=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&x.focus();break e;case"img":u.src?x.src=u.src:u.srcSet&&(x.srcset=u.srcSet)}}catch(A){Qt(i,i.return,A)}}function ph(i,s,u){try{var x=i.stateNode;tA(x,i.type,u,s),x[mn]=s}catch(A){Qt(i,i.return,A)}}function Lm(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&jo(i.type)||i.tag===4}function xh(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Lm(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&jo(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function yh(i,s,u){var x=i.tag;if(x===5||x===6)i=i.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(i),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Uu));else if(x!==4&&(x===27&&jo(i.type)&&(u=i.stateNode,s=null),i=i.child,i!==null))for(yh(i,s,u),i=i.sibling;i!==null;)yh(i,s,u),i=i.sibling}function _u(i,s,u){var x=i.tag;if(x===5||x===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(x!==4&&(x===27&&jo(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(_u(i,s,u),i=i.sibling;i!==null;)_u(i,s,u),i=i.sibling}function Pm(i){var s=i.stateNode,u=i.memoizedProps;try{for(var x=i.type,A=s.attributes;A.length;)s.removeAttributeNode(A[0]);ti(s,x,u),s[qn]=i,s[mn]=u}catch(b){Qt(i,i.return,b)}}var ao=!1,Nn=!1,Ch=!1,Bm=typeof WeakSet=="function"?WeakSet:Set,jn=null;function Pw(i,s){if(i=i.containerInfo,Gh=Yu,i=N(i),R(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var x=u.getSelection&&u.getSelection();if(x&&x.rangeCount!==0){u=x.anchorNode;var A=x.anchorOffset,b=x.focusNode;x=x.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var L=0,z=-1,Q=-1,fe=0,Ce=0,we=i,de=null;t:for(;;){for(var me;we!==u||A!==0&&we.nodeType!==3||(z=L+A),we!==b||x!==0&&we.nodeType!==3||(Q=L+x),we.nodeType===3&&(L+=we.nodeValue.length),(me=we.firstChild)!==null;)de=we,we=me;for(;;){if(we===i)break t;if(de===u&&++fe===A&&(z=L),de===b&&++Ce===x&&(Q=L),(me=we.nextSibling)!==null)break;we=de,de=we.parentNode}we=me}u=z===-1||Q===-1?null:{start:z,end:Q}}else u=null}u=u||{start:0,end:0}}else u=null;for(qh={focusedElem:i,selectionRange:u},Yu=!1,jn=s;jn!==null;)if(s=jn,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,jn=i;else for(;jn!==null;){switch(s=jn,b=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,u=s,A=b.memoizedProps,b=b.memoizedState,x=u.stateNode;try{var nt=Bs(u.type,A,u.elementType===u.type);i=x.getSnapshotBeforeUpdate(nt,b),x.__reactInternalSnapshotBeforeUpdate=i}catch(Je){Qt(u,u.return,Je)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,u=i.nodeType,u===9)Wh(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Wh(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,jn=i;break}jn=s.return}}function km(i,s,u){var x=u.flags;switch(u.tag){case 0:case 11:case 15:zo(i,u),x&4&&Zl(5,u);break;case 1:if(zo(i,u),x&4)if(i=u.stateNode,s===null)try{i.componentDidMount()}catch(L){Qt(u,u.return,L)}else{var A=Bs(u.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(A,s,i.__reactInternalSnapshotBeforeUpdate)}catch(L){Qt(u,u.return,L)}}x&64&&Rm(u),x&512&&Ql(u,u.return);break;case 3:if(zo(i,u),x&64&&(i=u.updateQueue,i!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{yg(i,s)}catch(L){Qt(u,u.return,L)}}break;case 27:s===null&&x&4&&Pm(u);case 26:case 5:zo(i,u),s===null&&x&4&&Om(u),x&512&&Ql(u,u.return);break;case 12:zo(i,u);break;case 13:zo(i,u),x&4&&Vm(i,u),x&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=qw.bind(null,u),lA(i,u))));break;case 22:if(x=u.memoizedState!==null||ao,!x){s=s!==null&&s.memoizedState!==null||Nn,A=ao;var b=Nn;ao=x,(Nn=s)&&!b?Ho(i,u,(u.subtreeFlags&8772)!==0):zo(i,u),ao=A,Nn=b}break;case 30:break;default:zo(i,u)}}function Um(i){var s=i.alternate;s!==null&&(i.alternate=null,Um(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&xs(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var un=null,Ai=!1;function lo(i,s,u){for(u=u.child;u!==null;)Fm(i,s,u),u=u.sibling}function Fm(i,s,u){if(ni&&typeof ni.onCommitFiberUnmount=="function")try{ni.onCommitFiberUnmount(Zn,u)}catch{}switch(u.tag){case 26:Nn||Br(u,s),lo(i,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Nn||Br(u,s);var x=un,A=Ai;jo(u.type)&&(un=u.stateNode,Ai=!1),lo(i,s,u),sc(u.stateNode),un=x,Ai=A;break;case 5:Nn||Br(u,s);case 6:if(x=un,A=Ai,un=null,lo(i,s,u),un=x,Ai=A,un!==null)if(Ai)try{(un.nodeType===9?un.body:un.nodeName==="HTML"?un.ownerDocument.body:un).removeChild(u.stateNode)}catch(b){Qt(u,s,b)}else try{un.removeChild(u.stateNode)}catch(b){Qt(u,s,b)}break;case 18:un!==null&&(Ai?(i=un,_p(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),gc(i)):_p(un,u.stateNode));break;case 4:x=un,A=Ai,un=u.stateNode.containerInfo,Ai=!0,lo(i,s,u),un=x,Ai=A;break;case 0:case 11:case 14:case 15:Nn||Vo(2,u,s),Nn||Vo(4,u,s),lo(i,s,u);break;case 1:Nn||(Br(u,s),x=u.stateNode,typeof x.componentWillUnmount=="function"&&Dm(u,s,x)),lo(i,s,u);break;case 21:lo(i,s,u);break;case 22:Nn=(x=Nn)||u.memoizedState!==null,lo(i,s,u),Nn=x;break;default:lo(i,s,u)}}function Vm(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{gc(i)}catch(u){Qt(s,s.return,u)}}function Bw(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Bm),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Bm),s;default:throw Error(r(435,i.tag))}}function vh(i,s){var u=Bw(i);s.forEach(function(x){var A=Yw.bind(null,i,x);u.has(x)||(u.add(x),x.then(A,A))})}function Pi(i,s){var u=s.deletions;if(u!==null)for(var x=0;x<u.length;x++){var A=u[x],b=i,L=s,z=L;e:for(;z!==null;){switch(z.tag){case 27:if(jo(z.type)){un=z.stateNode,Ai=!1;break e}break;case 5:un=z.stateNode,Ai=!1;break e;case 3:case 4:un=z.stateNode.containerInfo,Ai=!0;break e}z=z.return}if(un===null)throw Error(r(160));Fm(b,L,A),un=null,Ai=!1,b=A.alternate,b!==null&&(b.return=null),A.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)zm(s,i),s=s.sibling}var ur=null;function zm(i,s){var u=i.alternate,x=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Pi(s,i),Bi(i),x&4&&(Vo(3,i,i.return),Zl(3,i),Vo(5,i,i.return));break;case 1:Pi(s,i),Bi(i),x&512&&(Nn||u===null||Br(u,u.return)),x&64&&ao&&(i=i.updateQueue,i!==null&&(x=i.callbacks,x!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?x:u.concat(x))));break;case 26:var A=ur;if(Pi(s,i),Bi(i),x&512&&(Nn||u===null||Br(u,u.return)),x&4){var b=u!==null?u.memoizedState:null;if(x=i.memoizedState,u===null)if(x===null)if(i.stateNode===null){e:{x=i.type,u=i.memoizedProps,A=A.ownerDocument||A;t:switch(x){case"title":b=A.getElementsByTagName("title")[0],(!b||b[ji]||b[qn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=A.createElement(x),A.head.insertBefore(b,A.querySelector("head > title"))),ti(b,x,u),b[qn]=i,Bt(b),x=b;break e;case"link":var L=Pp("link","href",A).get(x+(u.href||""));if(L){for(var z=0;z<L.length;z++)if(b=L[z],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){L.splice(z,1);break t}}b=A.createElement(x),ti(b,x,u),A.head.appendChild(b);break;case"meta":if(L=Pp("meta","content",A).get(x+(u.content||""))){for(z=0;z<L.length;z++)if(b=L[z],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){L.splice(z,1);break t}}b=A.createElement(x),ti(b,x,u),A.head.appendChild(b);break;default:throw Error(r(468,x))}b[qn]=i,Bt(b),x=b}i.stateNode=x}else Bp(A,i.type,i.stateNode);else i.stateNode=Lp(A,x,i.memoizedProps);else b!==x?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,x===null?Bp(A,i.type,i.stateNode):Lp(A,x,i.memoizedProps)):x===null&&i.stateNode!==null&&ph(i,i.memoizedProps,u.memoizedProps)}break;case 27:Pi(s,i),Bi(i),x&512&&(Nn||u===null||Br(u,u.return)),u!==null&&x&4&&ph(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Pi(s,i),Bi(i),x&512&&(Nn||u===null||Br(u,u.return)),i.flags&32){A=i.stateNode;try{kn(A,"")}catch(me){Qt(i,i.return,me)}}x&4&&i.stateNode!=null&&(A=i.memoizedProps,ph(i,A,u!==null?u.memoizedProps:A)),x&1024&&(Ch=!0);break;case 6:if(Pi(s,i),Bi(i),x&4){if(i.stateNode===null)throw Error(r(162));x=i.memoizedProps,u=i.stateNode;try{u.nodeValue=x}catch(me){Qt(i,i.return,me)}}break;case 3:if(Hu=null,A=ur,ur=Vu(s.containerInfo),Pi(s,i),ur=A,Bi(i),x&4&&u!==null&&u.memoizedState.isDehydrated)try{gc(s.containerInfo)}catch(me){Qt(i,i.return,me)}Ch&&(Ch=!1,Hm(i));break;case 4:x=ur,ur=Vu(i.stateNode.containerInfo),Pi(s,i),Bi(i),ur=x;break;case 12:Pi(s,i),Bi(i);break;case 13:Pi(s,i),Bi(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(bh=At()),x&4&&(x=i.updateQueue,x!==null&&(i.updateQueue=null,vh(i,x)));break;case 22:A=i.memoizedState!==null;var Q=u!==null&&u.memoizedState!==null,fe=ao,Ce=Nn;if(ao=fe||A,Nn=Ce||Q,Pi(s,i),Nn=Ce,ao=fe,Bi(i),x&8192)e:for(s=i.stateNode,s._visibility=A?s._visibility&-2:s._visibility|1,A&&(u===null||Q||ao||Nn||ks(i)),u=null,s=i;;){if(s.tag===5||s.tag===26){if(u===null){Q=u=s;try{if(b=Q.stateNode,A)L=b.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{z=Q.stateNode;var we=Q.memoizedProps.style,de=we!=null&&we.hasOwnProperty("display")?we.display:null;z.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(me){Qt(Q,Q.return,me)}}}else if(s.tag===6){if(u===null){Q=s;try{Q.stateNode.nodeValue=A?"":Q.memoizedProps}catch(me){Qt(Q,Q.return,me)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}x&4&&(x=i.updateQueue,x!==null&&(u=x.retryQueue,u!==null&&(x.retryQueue=null,vh(i,u))));break;case 19:Pi(s,i),Bi(i),x&4&&(x=i.updateQueue,x!==null&&(i.updateQueue=null,vh(i,x)));break;case 30:break;case 21:break;default:Pi(s,i),Bi(i)}}function Bi(i){var s=i.flags;if(s&2){try{for(var u,x=i.return;x!==null;){if(Lm(x)){u=x;break}x=x.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var A=u.stateNode,b=xh(i);_u(i,b,A);break;case 5:var L=u.stateNode;u.flags&32&&(kn(L,""),u.flags&=-33);var z=xh(i);_u(i,z,L);break;case 3:case 4:var Q=u.stateNode.containerInfo,fe=xh(i);yh(i,fe,Q);break;default:throw Error(r(161))}}catch(Ce){Qt(i,i.return,Ce)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Hm(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Hm(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function zo(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)km(i,s.alternate,s),s=s.sibling}function ks(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Vo(4,s,s.return),ks(s);break;case 1:Br(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&Dm(s,s.return,u),ks(s);break;case 27:sc(s.stateNode);case 26:case 5:Br(s,s.return),ks(s);break;case 22:s.memoizedState===null&&ks(s);break;case 30:ks(s);break;default:ks(s)}i=i.sibling}}function Ho(i,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var x=s.alternate,A=i,b=s,L=b.flags;switch(b.tag){case 0:case 11:case 15:Ho(A,b,u),Zl(4,b);break;case 1:if(Ho(A,b,u),x=b,A=x.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(fe){Qt(x,x.return,fe)}if(x=b,A=x.updateQueue,A!==null){var z=x.stateNode;try{var Q=A.shared.hiddenCallbacks;if(Q!==null)for(A.shared.hiddenCallbacks=null,A=0;A<Q.length;A++)xg(Q[A],z)}catch(fe){Qt(x,x.return,fe)}}u&&L&64&&Rm(b),Ql(b,b.return);break;case 27:Pm(b);case 26:case 5:Ho(A,b,u),u&&x===null&&L&4&&Om(b),Ql(b,b.return);break;case 12:Ho(A,b,u);break;case 13:Ho(A,b,u),u&&L&4&&Vm(A,b);break;case 22:b.memoizedState===null&&Ho(A,b,u),Ql(b,b.return);break;case 30:break;default:Ho(A,b,u)}s=s.sibling}}function Eh(i,s){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&Bl(u))}function wh(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Bl(i))}function kr(i,s,u,x){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Gm(i,s,u,x),s=s.sibling}function Gm(i,s,u,x){var A=s.flags;switch(s.tag){case 0:case 11:case 15:kr(i,s,u,x),A&2048&&Zl(9,s);break;case 1:kr(i,s,u,x);break;case 3:kr(i,s,u,x),A&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Bl(i)));break;case 12:if(A&2048){kr(i,s,u,x),i=s.stateNode;try{var b=s.memoizedProps,L=b.id,z=b.onPostCommit;typeof z=="function"&&z(L,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Q){Qt(s,s.return,Q)}}else kr(i,s,u,x);break;case 13:kr(i,s,u,x);break;case 23:break;case 22:b=s.stateNode,L=s.alternate,s.memoizedState!==null?b._visibility&2?kr(i,s,u,x):Jl(i,s):b._visibility&2?kr(i,s,u,x):(b._visibility|=2,Na(i,s,u,x,(s.subtreeFlags&10256)!==0)),A&2048&&Eh(L,s);break;case 24:kr(i,s,u,x),A&2048&&wh(s.alternate,s);break;default:kr(i,s,u,x)}}function Na(i,s,u,x,A){for(A=A&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var b=i,L=s,z=u,Q=x,fe=L.flags;switch(L.tag){case 0:case 11:case 15:Na(b,L,z,Q,A),Zl(8,L);break;case 23:break;case 22:var Ce=L.stateNode;L.memoizedState!==null?Ce._visibility&2?Na(b,L,z,Q,A):Jl(b,L):(Ce._visibility|=2,Na(b,L,z,Q,A)),A&&fe&2048&&Eh(L.alternate,L);break;case 24:Na(b,L,z,Q,A),A&&fe&2048&&wh(L.alternate,L);break;default:Na(b,L,z,Q,A)}s=s.sibling}}function Jl(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=i,x=s,A=x.flags;switch(x.tag){case 22:Jl(u,x),A&2048&&Eh(x.alternate,x);break;case 24:Jl(u,x),A&2048&&wh(x.alternate,x);break;default:Jl(u,x)}s=s.sibling}}var $l=8192;function Ma(i){if(i.subtreeFlags&$l)for(i=i.child;i!==null;)qm(i),i=i.sibling}function qm(i){switch(i.tag){case 26:Ma(i),i.flags&$l&&i.memoizedState!==null&&EA(ur,i.memoizedState,i.memoizedProps);break;case 5:Ma(i);break;case 3:case 4:var s=ur;ur=Vu(i.stateNode.containerInfo),Ma(i),ur=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=$l,$l=16777216,Ma(i),$l=s):Ma(i));break;default:Ma(i)}}function Ym(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function ec(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var x=s[u];jn=x,Wm(x,i)}Ym(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Xm(i),i=i.sibling}function Xm(i){switch(i.tag){case 0:case 11:case 15:ec(i),i.flags&2048&&Vo(9,i,i.return);break;case 3:ec(i);break;case 12:ec(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Nu(i)):ec(i);break;default:ec(i)}}function Nu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var x=s[u];jn=x,Wm(x,i)}Ym(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Vo(8,s,s.return),Nu(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,Nu(s));break;default:Nu(s)}i=i.sibling}}function Wm(i,s){for(;jn!==null;){var u=jn;switch(u.tag){case 0:case 11:case 15:Vo(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var x=u.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:Bl(u.memoizedState.cache)}if(x=u.child,x!==null)x.return=u,jn=x;else e:for(u=i;jn!==null;){x=jn;var A=x.sibling,b=x.return;if(Um(x),x===u){jn=null;break e}if(A!==null){A.return=b,jn=A;break e}jn=b}}}var kw={getCacheForType:function(i){var s=li(Vn),u=s.data.get(i);return u===void 0&&(u=i(),s.data.set(i,u)),u}},Uw=typeof WeakMap=="function"?WeakMap:Map,Ft=0,en=null,xt=null,Tt=0,Vt=0,ki=null,Go=!1,Ia=!1,Ah=!1,co=0,Cn=0,qo=0,Us=0,Th=0,tr=0,Ra=0,tc=null,Ti=null,Sh=!1,bh=0,Mu=1/0,Iu=null,Yo=null,ei=0,Xo=null,Da=null,Oa=0,_h=0,Nh=null,jm=null,nc=0,Mh=null;function Ui(){if((Ft&2)!==0&&Tt!==0)return Tt&-Tt;if(ne.T!==null){var i=va;return i!==0?i:Bh()}return Yr()}function Km(){tr===0&&(tr=(Tt&536870912)===0||It?ta():536870912);var i=er.current;return i!==null&&(i.flags|=32),tr}function Fi(i,s,u){(i===en&&(Vt===2||Vt===9)||i.cancelPendingCommit!==null)&&(La(i,0),Wo(i,Tt,tr,!1)),Ii(i,u),((Ft&2)===0||i!==en)&&(i===en&&((Ft&2)===0&&(Us|=u),Cn===4&&Wo(i,Tt,tr,!1)),Ur(i))}function Zm(i,s,u){if((Ft&6)!==0)throw Error(r(327));var x=!u&&(s&124)===0&&(s&i.expiredLanes)===0||Yt(i,s),A=x?zw(i,s):Dh(i,s,!0),b=x;do{if(A===0){Ia&&!x&&Wo(i,s,0,!1);break}else{if(u=i.current.alternate,b&&!Fw(u)){A=Dh(i,s,!1),b=!1;continue}if(A===2){if(b=s,i.errorRecoveryDisabledLanes&b)var L=0;else L=i.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){s=L;e:{var z=i;A=tc;var Q=z.current.memoizedState.isDehydrated;if(Q&&(La(z,L).flags|=256),L=Dh(z,L,!1),L!==2){if(Ah&&!Q){z.errorRecoveryDisabledLanes|=b,Us|=b,A=4;break e}b=Ti,Ti=A,b!==null&&(Ti===null?Ti=b:Ti.push.apply(Ti,b))}A=L}if(b=!1,A!==2)continue}}if(A===1){La(i,0),Wo(i,s,0,!0);break}e:{switch(x=i,b=A,b){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Wo(x,s,tr,!Go);break e;case 2:Ti=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(A=bh+300-At(),10<A)){if(Wo(x,s,tr,!Go),bt(x,0,!0)!==0)break e;x.timeoutHandle=Sp(Qm.bind(null,x,u,Ti,Iu,Sh,s,tr,Us,Ra,Go,b,2,-0,0),A);break e}Qm(x,u,Ti,Iu,Sh,s,tr,Us,Ra,Go,b,0,-0,0)}}break}while(!0);Ur(i)}function Qm(i,s,u,x,A,b,L,z,Q,fe,Ce,we,de,me){if(i.timeoutHandle=-1,we=s.subtreeFlags,(we&8192||(we&16785408)===16785408)&&(cc={stylesheets:null,count:0,unsuspend:vA},qm(s),we=wA(),we!==null)){i.cancelPendingCommit=we(rp.bind(null,i,s,b,u,x,A,L,z,Q,Ce,1,de,me)),Wo(i,b,L,!fe);return}rp(i,s,b,u,x,A,L,z,Q)}function Fw(i){for(var s=i;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var x=0;x<u.length;x++){var A=u[x],b=A.getSnapshot;A=A.value;try{if(!d(b(),A))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Wo(i,s,u,x){s&=~Th,s&=~Us,i.suspendedLanes|=s,i.pingedLanes&=~s,x&&(i.warmLanes|=s),x=i.expirationTimes;for(var A=s;0<A;){var b=31-Pt(A),L=1<<b;x[b]=-1,A&=~L}u!==0&&wl(i,u,s)}function Ru(){return(Ft&6)===0?(ic(0),!1):!0}function Ih(){if(xt!==null){if(Vt===0)var i=xt.return;else i=xt,to=Ds=null,Wd(i),ba=null,Wl=0,i=xt;for(;i!==null;)Im(i.alternate,i),i=i.return;xt=null}}function La(i,s){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,iA(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Ih(),en=i,xt=u=Jr(i.current,null),Tt=s,Vt=0,ki=null,Go=!1,Ia=Yt(i,s),Ah=!1,Ra=tr=Th=Us=qo=Cn=0,Ti=tc=null,Sh=!1,(s&8)!==0&&(s|=s&32);var x=i.entangledLanes;if(x!==0)for(i=i.entanglements,x&=s;0<x;){var A=31-Pt(x),b=1<<A;s|=i[A],x&=~b}return co=s,$c(),u}function Jm(i,s){ht=null,ne.H=yu,s===Ul||s===lu?(s=mg(),Vt=3):s===dg?(s=mg(),Vt=4):Vt=s===pm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ki=s,xt===null&&(Cn=1,Au(i,Zi(s,i.current)))}function $m(){var i=ne.H;return ne.H=yu,i===null?yu:i}function ep(){var i=ne.A;return ne.A=kw,i}function Rh(){Cn=4,Go||(Tt&4194048)!==Tt&&er.current!==null||(Ia=!0),(qo&134217727)===0&&(Us&134217727)===0||en===null||Wo(en,Tt,tr,!1)}function Dh(i,s,u){var x=Ft;Ft|=2;var A=$m(),b=ep();(en!==i||Tt!==s)&&(Iu=null,La(i,s)),s=!1;var L=Cn;e:do try{if(Vt!==0&&xt!==null){var z=xt,Q=ki;switch(Vt){case 8:Ih(),L=6;break e;case 3:case 2:case 9:case 6:er.current===null&&(s=!0);var fe=Vt;if(Vt=0,ki=null,Pa(i,z,Q,fe),u&&Ia){L=0;break e}break;default:fe=Vt,Vt=0,ki=null,Pa(i,z,Q,fe)}}Vw(),L=Cn;break}catch(Ce){Jm(i,Ce)}while(!0);return s&&i.shellSuspendCounter++,to=Ds=null,Ft=x,ne.H=A,ne.A=b,xt===null&&(en=null,Tt=0,$c()),L}function Vw(){for(;xt!==null;)tp(xt)}function zw(i,s){var u=Ft;Ft|=2;var x=$m(),A=ep();en!==i||Tt!==s?(Iu=null,Mu=At()+500,La(i,s)):Ia=Yt(i,s);e:do try{if(Vt!==0&&xt!==null){s=xt;var b=ki;t:switch(Vt){case 1:Vt=0,ki=null,Pa(i,s,b,1);break;case 2:case 9:if(hg(b)){Vt=0,ki=null,np(s);break}s=function(){Vt!==2&&Vt!==9||en!==i||(Vt=7),Ur(i)},b.then(s,s);break e;case 3:Vt=7;break e;case 4:Vt=5;break e;case 7:hg(b)?(Vt=0,ki=null,np(s)):(Vt=0,ki=null,Pa(i,s,b,7));break;case 5:var L=null;switch(xt.tag){case 26:L=xt.memoizedState;case 5:case 27:var z=xt;if(!L||kp(L)){Vt=0,ki=null;var Q=z.sibling;if(Q!==null)xt=Q;else{var fe=z.return;fe!==null?(xt=fe,Du(fe)):xt=null}break t}}Vt=0,ki=null,Pa(i,s,b,5);break;case 6:Vt=0,ki=null,Pa(i,s,b,6);break;case 8:Ih(),Cn=6;break e;default:throw Error(r(462))}}Hw();break}catch(Ce){Jm(i,Ce)}while(!0);return to=Ds=null,ne.H=x,ne.A=A,Ft=u,xt!==null?0:(en=null,Tt=0,$c(),Cn)}function Hw(){for(;xt!==null&&!Gn();)tp(xt)}function tp(i){var s=Nm(i.alternate,i,co);i.memoizedProps=i.pendingProps,s===null?Du(i):xt=s}function np(i){var s=i,u=s.alternate;switch(s.tag){case 15:case 0:s=wm(u,s,s.pendingProps,s.type,void 0,Tt);break;case 11:s=wm(u,s,s.pendingProps,s.type.render,s.ref,Tt);break;case 5:Wd(s);default:Im(u,s),s=xt=ig(s,co),s=Nm(u,s,co)}i.memoizedProps=i.pendingProps,s===null?Du(i):xt=s}function Pa(i,s,u,x){to=Ds=null,Wd(s),ba=null,Wl=0;var A=s.return;try{if(Rw(i,A,s,u,Tt)){Cn=1,Au(i,Zi(u,i.current)),xt=null;return}}catch(b){if(A!==null)throw xt=A,b;Cn=1,Au(i,Zi(u,i.current)),xt=null;return}s.flags&32768?(It||x===1?i=!0:Ia||(Tt&536870912)!==0?i=!1:(Go=i=!0,(x===2||x===9||x===3||x===6)&&(x=er.current,x!==null&&x.tag===13&&(x.flags|=16384))),ip(s,i)):Du(s)}function Du(i){var s=i;do{if((s.flags&32768)!==0){ip(s,Go);return}i=s.return;var u=Ow(s.alternate,s,co);if(u!==null){xt=u;return}if(s=s.sibling,s!==null){xt=s;return}xt=s=i}while(s!==null);Cn===0&&(Cn=5)}function ip(i,s){do{var u=Lw(i.alternate,i);if(u!==null){u.flags&=32767,xt=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(i=i.sibling,i!==null)){xt=i;return}xt=i=u}while(i!==null);Cn=6,xt=null}function rp(i,s,u,x,A,b,L,z,Q){i.cancelPendingCommit=null;do Ou();while(ei!==0);if((Ft&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(b=s.lanes|s.childLanes,b|=wd,Hc(i,u,b,L,z,Q),i===en&&(xt=en=null,Tt=0),Da=s,Xo=i,Oa=u,_h=b,Nh=A,jm=x,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Xw(Ve,function(){return cp(),null})):(i.callbackNode=null,i.callbackPriority=0),x=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||x){x=ne.T,ne.T=null,A=he.p,he.p=2,L=Ft,Ft|=4;try{Pw(i,s,u)}finally{Ft=L,he.p=A,ne.T=x}}ei=1,op(),sp(),ap()}}function op(){if(ei===1){ei=0;var i=Xo,s=Da,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=ne.T,ne.T=null;var x=he.p;he.p=2;var A=Ft;Ft|=4;try{zm(s,i);var b=qh,L=N(i.containerInfo),z=b.focusedElem,Q=b.selectionRange;if(L!==z&&z&&z.ownerDocument&&S(z.ownerDocument.documentElement,z)){if(Q!==null&&R(z)){var fe=Q.start,Ce=Q.end;if(Ce===void 0&&(Ce=fe),"selectionStart"in z)z.selectionStart=fe,z.selectionEnd=Math.min(Ce,z.value.length);else{var we=z.ownerDocument||document,de=we&&we.defaultView||window;if(de.getSelection){var me=de.getSelection(),nt=z.textContent.length,Je=Math.min(Q.start,nt),jt=Q.end===void 0?Je:Math.min(Q.end,nt);!me.extend&&Je>jt&&(L=jt,jt=Je,Je=L);var se=E(z,Je),te=E(z,jt);if(se&&te&&(me.rangeCount!==1||me.anchorNode!==se.node||me.anchorOffset!==se.offset||me.focusNode!==te.node||me.focusOffset!==te.offset)){var ue=we.createRange();ue.setStart(se.node,se.offset),me.removeAllRanges(),Je>jt?(me.addRange(ue),me.extend(te.node,te.offset)):(ue.setEnd(te.node,te.offset),me.addRange(ue))}}}}for(we=[],me=z;me=me.parentNode;)me.nodeType===1&&we.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<we.length;z++){var ve=we[z];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}Yu=!!Gh,qh=Gh=null}finally{Ft=A,he.p=x,ne.T=u}}i.current=s,ei=2}}function sp(){if(ei===2){ei=0;var i=Xo,s=Da,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=ne.T,ne.T=null;var x=he.p;he.p=2;var A=Ft;Ft|=4;try{km(i,s.alternate,s)}finally{Ft=A,he.p=x,ne.T=u}}ei=3}}function ap(){if(ei===4||ei===3){ei=0,Mi();var i=Xo,s=Da,u=Oa,x=jm;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ei=5:(ei=0,Da=Xo=null,lp(i,i.pendingLanes));var A=i.pendingLanes;if(A===0&&(Yo=null),In(u),s=s.stateNode,ni&&typeof ni.onCommitFiberRoot=="function")try{ni.onCommitFiberRoot(Zn,s,void 0,(s.current.flags&128)===128)}catch{}if(x!==null){s=ne.T,A=he.p,he.p=2,ne.T=null;try{for(var b=i.onRecoverableError,L=0;L<x.length;L++){var z=x[L];b(z.value,{componentStack:z.stack})}}finally{ne.T=s,he.p=A}}(Oa&3)!==0&&Ou(),Ur(i),A=i.pendingLanes,(u&4194090)!==0&&(A&42)!==0?i===Mh?nc++:(nc=0,Mh=i):nc=0,ic(0)}}function lp(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Bl(s)))}function Ou(i){return op(),sp(),ap(),cp()}function cp(){if(ei!==5)return!1;var i=Xo,s=_h;_h=0;var u=In(Oa),x=ne.T,A=he.p;try{he.p=32>u?32:u,ne.T=null,u=Nh,Nh=null;var b=Xo,L=Oa;if(ei=0,Da=Xo=null,Oa=0,(Ft&6)!==0)throw Error(r(331));var z=Ft;if(Ft|=4,Xm(b.current),Gm(b,b.current,L,u),Ft=z,ic(0,!1),ni&&typeof ni.onPostCommitFiberRoot=="function")try{ni.onPostCommitFiberRoot(Zn,b)}catch{}return!0}finally{he.p=A,ne.T=x,lp(i,s)}}function up(i,s,u){s=Zi(u,s),s=ah(i.stateNode,s,2),i=Bo(i,s,2),i!==null&&(Ii(i,2),Ur(i))}function Qt(i,s,u){if(i.tag===3)up(i,i,u);else for(;s!==null;){if(s.tag===3){up(s,i,u);break}else if(s.tag===1){var x=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Yo===null||!Yo.has(x))){i=Zi(u,i),u=gm(2),x=Bo(s,u,2),x!==null&&(mm(u,x,s,i),Ii(x,2),Ur(x));break}}s=s.return}}function Oh(i,s,u){var x=i.pingCache;if(x===null){x=i.pingCache=new Uw;var A=new Set;x.set(s,A)}else A=x.get(s),A===void 0&&(A=new Set,x.set(s,A));A.has(u)||(Ah=!0,A.add(u),i=Gw.bind(null,i,s,u),s.then(i,i))}function Gw(i,s,u){var x=i.pingCache;x!==null&&x.delete(s),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,en===i&&(Tt&u)===u&&(Cn===4||Cn===3&&(Tt&62914560)===Tt&&300>At()-bh?(Ft&2)===0&&La(i,0):Th|=u,Ra===Tt&&(Ra=0)),Ur(i)}function fp(i,s){s===0&&(s=El()),i=pa(i,s),i!==null&&(Ii(i,s),Ur(i))}function qw(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),fp(i,u)}function Yw(i,s){var u=0;switch(i.tag){case 13:var x=i.stateNode,A=i.memoizedState;A!==null&&(u=A.retryLane);break;case 19:x=i.stateNode;break;case 22:x=i.stateNode._retryCache;break;default:throw Error(r(314))}x!==null&&x.delete(s),fp(i,u)}function Xw(i,s){return et(i,s)}var Lu=null,Ba=null,Lh=!1,Pu=!1,Ph=!1,Fs=0;function Ur(i){i!==Ba&&i.next===null&&(Ba===null?Lu=Ba=i:Ba=Ba.next=i),Pu=!0,Lh||(Lh=!0,jw())}function ic(i,s){if(!Ph&&Pu){Ph=!0;do for(var u=!1,x=Lu;x!==null;){if(i!==0){var A=x.pendingLanes;if(A===0)var b=0;else{var L=x.suspendedLanes,z=x.pingedLanes;b=(1<<31-Pt(42|i)+1)-1,b&=A&~(L&~z),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,mp(x,b))}else b=Tt,b=bt(x,x===en?b:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(b&3)===0||Yt(x,b)||(u=!0,mp(x,b));x=x.next}while(u);Ph=!1}}function Ww(){dp()}function dp(){Pu=Lh=!1;var i=0;Fs!==0&&(nA()&&(i=Fs),Fs=0);for(var s=At(),u=null,x=Lu;x!==null;){var A=x.next,b=hp(x,s);b===0?(x.next=null,u===null?Lu=A:u.next=A,A===null&&(Ba=u)):(u=x,(i!==0||(b&3)!==0)&&(Pu=!0)),x=A}ic(i)}function hp(i,s){for(var u=i.suspendedLanes,x=i.pingedLanes,A=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var L=31-Pt(b),z=1<<L,Q=A[L];Q===-1?((z&u)===0||(z&x)!==0)&&(A[L]=ms(z,s)):Q<=s&&(i.expiredLanes|=z),b&=~z}if(s=en,u=Tt,u=bt(i,i===s?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),x=i.callbackNode,u===0||i===s&&(Vt===2||Vt===9)||i.cancelPendingCommit!==null)return x!==null&&x!==null&&wn(x),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Yt(i,u)){if(s=u&-u,s===i.callbackPriority)return s;switch(x!==null&&wn(x),In(u)){case 2:case 8:u=gs;break;case 32:u=Ve;break;case 268435456:u=Cl;break;default:u=Ve}return x=gp.bind(null,i),u=et(u,x),i.callbackPriority=s,i.callbackNode=u,s}return x!==null&&x!==null&&wn(x),i.callbackPriority=2,i.callbackNode=null,2}function gp(i,s){if(ei!==0&&ei!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Ou()&&i.callbackNode!==u)return null;var x=Tt;return x=bt(i,i===en?x:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),x===0?null:(Zm(i,x,s),hp(i,At()),i.callbackNode!=null&&i.callbackNode===u?gp.bind(null,i):null)}function mp(i,s){if(Ou())return null;Zm(i,s,!0)}function jw(){rA(function(){(Ft&6)!==0?et(ct,Ww):dp()})}function Bh(){return Fs===0&&(Fs=ta()),Fs}function pp(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:aa(""+i)}function xp(i,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,i.id&&u.setAttribute("form",i.id),s.parentNode.insertBefore(u,s),i=new FormData(i),u.parentNode.removeChild(u),i}function Kw(i,s,u,x,A){if(s==="submit"&&u&&u.stateNode===A){var b=pp((A[mn]||null).action),L=x.submitter;L&&(s=(s=L[mn]||null)?pp(s.formAction):L.getAttribute("formAction"),s!==null&&(b=s,L=null));var z=new Ir("action","action",null,x,A);i.push({event:z,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(Fs!==0){var Q=L?xp(A,L):new FormData(A);nh(u,{pending:!0,data:Q,method:A.method,action:b},null,Q)}}else typeof b=="function"&&(z.preventDefault(),Q=L?xp(A,L):new FormData(A),nh(u,{pending:!0,data:Q,method:A.method,action:b},b,Q))},currentTarget:A}]})}}for(var kh=0;kh<Or.length;kh++){var Uh=Or[kh],Zw=Uh.toLowerCase(),Qw=Uh[0].toUpperCase()+Uh.slice(1);Oi(Zw,"on"+Qw)}Oi(it,"onAnimationEnd"),Oi(Jn,"onAnimationIteration"),Oi(Ei,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(si,"onTransitionRun"),Oi(Ut,"onTransitionStart"),Oi(Fn,"onTransitionCancel"),Oi(ai,"onTransitionEnd"),pn("onMouseEnter",["mouseout","mouseover"]),pn("onMouseLeave",["mouseout","mouseover"]),pn("onPointerEnter",["pointerout","pointerover"]),pn("onPointerLeave",["pointerout","pointerover"]),Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rc));function yp(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var x=i[u],A=x.event;x=x.listeners;e:{var b=void 0;if(s)for(var L=x.length-1;0<=L;L--){var z=x[L],Q=z.instance,fe=z.currentTarget;if(z=z.listener,Q!==b&&A.isPropagationStopped())break e;b=z,A.currentTarget=fe;try{b(A)}catch(Ce){wu(Ce)}A.currentTarget=null,b=Q}else for(L=0;L<x.length;L++){if(z=x[L],Q=z.instance,fe=z.currentTarget,z=z.listener,Q!==b&&A.isPropagationStopped())break e;b=z,A.currentTarget=fe;try{b(A)}catch(Ce){wu(Ce)}A.currentTarget=null,b=Q}}}}function yt(i,s){var u=s[Yn];u===void 0&&(u=s[Yn]=new Set);var x=i+"__bubble";u.has(x)||(Cp(s,i,2,!1),u.add(x))}function Fh(i,s,u){var x=0;s&&(x|=4),Cp(u,i,x,s)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function Vh(i){if(!i[Bu]){i[Bu]=!0,Gc.forEach(function(u){u!=="selectionchange"&&(Jw.has(u)||Fh(u,!1,i),Fh(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Bu]||(s[Bu]=!0,Fh("selectionchange",!1,s))}}function Cp(i,s,u,x){switch(Gp(s)){case 2:var A=SA;break;case 8:A=bA;break;default:A=e0}u=A.bind(null,s,u,i),A=void 0,!rt||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(A=!0),x?A!==void 0?i.addEventListener(s,u,{capture:!0,passive:A}):i.addEventListener(s,u,!0):A!==void 0?i.addEventListener(s,u,{passive:A}):i.addEventListener(s,u,!1)}function zh(i,s,u,x,A){var b=x;if((s&1)===0&&(s&2)===0&&x!==null)e:for(;;){if(x===null)return;var L=x.tag;if(L===3||L===4){var z=x.stateNode.containerInfo;if(z===A)break;if(L===4)for(L=x.return;L!==null;){var Q=L.tag;if((Q===3||Q===4)&&L.stateNode.containerInfo===A)return;L=L.return}for(;z!==null;){if(L=An(z),L===null)return;if(Q=L.tag,Q===5||Q===6||Q===26||Q===27){x=b=L;continue e}z=z.parentNode}}x=x.return}ar(function(){var fe=b,Ce=wo(u),we=[];e:{var de=Qr.get(i);if(de!==void 0){var me=Ir,nt=i;switch(i){case"keypress":if(la(u)===0)break e;case"keydown":case"keyup":me=bl;break;case"focusin":nt="focus",me=bo;break;case"focusout":nt="blur",me=bo;break;case"beforeblur":case"afterblur":me=bo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Wc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Ot;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=kt;break;case it:case Jn:case Ei:me=gd;break;case ai:me=yd;break;case"scroll":case"scrollend":me=ri;break;case"wheel":me=Kr;break;case"copy":case"cut":case"paste":me=ut;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=As;break;case"toggle":case"beforetoggle":me=Cd}var Je=(s&4)!==0,jt=!Je&&(i==="scroll"||i==="scrollend"),se=Je?de!==null?de+"Capture":null:de;Je=[];for(var te=fe,ue;te!==null;){var ve=te;if(ue=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||ue===null||se===null||(ve=Ke(te,se),ve!=null&&Je.push(oc(te,ve,ue))),jt)break;te=te.return}0<Je.length&&(de=new me(de,nt,null,u,Ce),we.push({event:de,listeners:Je}))}}if((s&7)===0){e:{if(de=i==="mouseover"||i==="pointerover",me=i==="mouseout"||i==="pointerout",de&&u!==ys&&(nt=u.relatedTarget||u.fromElement)&&(An(nt)||nt[Er]))break e;if((me||de)&&(de=Ce.window===Ce?Ce:(de=Ce.ownerDocument)?de.defaultView||de.parentWindow:window,me?(nt=u.relatedTarget||u.toElement,me=fe,nt=nt?An(nt):null,nt!==null&&(jt=f(nt),Je=nt.tag,nt!==jt||Je!==5&&Je!==27&&Je!==6)&&(nt=null)):(me=null,nt=fe),me!==nt)){if(Je=Wc,ve="onMouseLeave",se="onMouseEnter",te="mouse",(i==="pointerout"||i==="pointerover")&&(Je=As,ve="onPointerLeave",se="onPointerEnter",te="pointer"),jt=me==null?de:wr(me),ue=nt==null?de:wr(nt),de=new Je(ve,te+"leave",me,u,Ce),de.target=jt,de.relatedTarget=ue,ve=null,An(Ce)===fe&&(Je=new Je(se,te+"enter",nt,u,Ce),Je.target=ue,Je.relatedTarget=jt,ve=Je),jt=ve,me&&nt)t:{for(Je=me,se=nt,te=0,ue=Je;ue;ue=ka(ue))te++;for(ue=0,ve=se;ve;ve=ka(ve))ue++;for(;0<te-ue;)Je=ka(Je),te--;for(;0<ue-te;)se=ka(se),ue--;for(;te--;){if(Je===se||se!==null&&Je===se.alternate)break t;Je=ka(Je),se=ka(se)}Je=null}else Je=null;me!==null&&vp(we,de,me,Je,!1),nt!==null&&jt!==null&&vp(we,jt,nt,Je,!0)}}e:{if(de=fe?wr(fe):window,me=de.nodeName&&de.nodeName.toLowerCase(),me==="select"||me==="input"&&de.type==="file")var ze=Qc;else if(bs(de))if(Il)ze=a;else{ze=k;var mt=ga}else me=de.nodeName,!me||me.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?fe&&We(fe.elementType)&&(ze=Qc):ze=o;if(ze&&(ze=ze(i,fe))){gi(we,ze,u,Ce);break e}mt&&mt(i,de,fe),i==="focusout"&&fe&&de.type==="number"&&fe.memoizedProps.value!=null&&ce(de,"number",de.value)}switch(mt=fe?wr(fe):window,i){case"focusin":(bs(mt)||mt.contentEditable==="true")&&(V=mt,X=fe,J=null);break;case"focusout":J=X=V=null;break;case"mousedown":$=!0;break;case"contextmenu":case"mouseup":case"dragend":$=!1,le(we,u,Ce);break;case"selectionchange":if(U)break;case"keydown":case"keyup":le(we,u,Ce)}var je;if(Ts)e:{switch(i){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else Mo?Zr(i,u)&&($e="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&($e="onCompositionStart");$e&&(Nl&&u.locale!=="ko"&&(Mo||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&Mo&&(je=_r()):(br=Ce,Cs="value"in br?br.value:br.textContent,Mo=!0)),mt=ku(fe,$e),0<mt.length&&($e=new Es($e,i,null,u,Ce),we.push({event:$e,listeners:mt}),je?$e.data=je:(je=da(u),je!==null&&($e.data=je)))),(je=_l?Ss(i,u):vd(i,u))&&($e=ku(fe,"onBeforeInput"),0<$e.length&&(mt=new Es("onBeforeInput","beforeinput",null,u,Ce),we.push({event:mt,listeners:$e}),mt.data=je)),Kw(we,i,fe,u,Ce)}yp(we,s)})}function oc(i,s,u){return{instance:i,listener:s,currentTarget:u}}function ku(i,s){for(var u=s+"Capture",x=[];i!==null;){var A=i,b=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||b===null||(A=Ke(i,u),A!=null&&x.unshift(oc(i,A,b)),A=Ke(i,s),A!=null&&x.push(oc(i,A,b))),i.tag===3)return x;i=i.return}return[]}function ka(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function vp(i,s,u,x,A){for(var b=s._reactName,L=[];u!==null&&u!==x;){var z=u,Q=z.alternate,fe=z.stateNode;if(z=z.tag,Q!==null&&Q===x)break;z!==5&&z!==26&&z!==27||fe===null||(Q=fe,A?(fe=Ke(u,b),fe!=null&&L.unshift(oc(u,fe,Q))):A||(fe=Ke(u,b),fe!=null&&L.push(oc(u,fe,Q)))),u=u.return}L.length!==0&&i.push({event:s,listeners:L})}var $w=/\r\n?/g,eA=/\u0000|\uFFFD/g;function Ep(i){return(typeof i=="string"?i:""+i).replace($w,`
`).replace(eA,"")}function wp(i,s){return s=Ep(s),Ep(i)===s}function Uu(){}function Wt(i,s,u,x,A,b){switch(u){case"children":typeof x=="string"?s==="body"||s==="textarea"&&x===""||kn(i,x):(typeof x=="number"||typeof x=="bigint")&&s!=="body"&&kn(i,""+x);break;case"className":ia(i,"class",x);break;case"tabIndex":ia(i,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":ia(i,u,x);break;case"style":hi(i,x,b);break;case"data":if(s!=="object"){ia(i,"data",x);break}case"src":case"href":if(x===""&&(s!=="a"||u!=="href")){i.removeAttribute(u);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){i.removeAttribute(u);break}x=aa(""+x),i.setAttribute(u,x);break;case"action":case"formAction":if(typeof x=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(s!=="input"&&Wt(i,s,"name",A.name,A,null),Wt(i,s,"formEncType",A.formEncType,A,null),Wt(i,s,"formMethod",A.formMethod,A,null),Wt(i,s,"formTarget",A.formTarget,A,null)):(Wt(i,s,"encType",A.encType,A,null),Wt(i,s,"method",A.method,A,null),Wt(i,s,"target",A.target,A,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){i.removeAttribute(u);break}x=aa(""+x),i.setAttribute(u,x);break;case"onClick":x!=null&&(i.onclick=Uu);break;case"onScroll":x!=null&&yt("scroll",i);break;case"onScrollEnd":x!=null&&yt("scrollend",i);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(u=x.__html,u!=null){if(A.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":i.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){i.removeAttribute("xlink:href");break}u=aa(""+x),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?i.setAttribute(u,""+x):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":x===!0?i.setAttribute(u,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?i.setAttribute(u,x):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?i.setAttribute(u,x):i.removeAttribute(u);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?i.removeAttribute(u):i.setAttribute(u,x);break;case"popover":yt("beforetoggle",i),yt("toggle",i),Ae(i,"popover",x);break;case"xlinkActuate":_t(i,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":_t(i,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":_t(i,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":_t(i,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":_t(i,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":_t(i,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":_t(i,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":_t(i,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":_t(i,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":Ae(i,"is",x);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=rn.get(u)||u,Ae(i,u,x))}}function Hh(i,s,u,x,A,b){switch(u){case"style":hi(i,x,b);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(u=x.__html,u!=null){if(A.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof x=="string"?kn(i,x):(typeof x=="number"||typeof x=="bigint")&&kn(i,""+x);break;case"onScroll":x!=null&&yt("scroll",i);break;case"onScrollEnd":x!=null&&yt("scrollend",i);break;case"onClick":x!=null&&(i.onclick=Uu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qc.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(A=u.endsWith("Capture"),s=u.slice(2,A?u.length-7:void 0),b=i[mn]||null,b=b!=null?b[u]:null,typeof b=="function"&&i.removeEventListener(s,b,A),typeof x=="function")){typeof b!="function"&&b!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(s,x,A);break e}u in i?i[u]=x:x===!0?i.setAttribute(u,""):Ae(i,u,x)}}}function ti(i,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yt("error",i),yt("load",i);var x=!1,A=!1,b;for(b in u)if(u.hasOwnProperty(b)){var L=u[b];if(L!=null)switch(b){case"src":x=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Wt(i,s,b,L,u,null)}}A&&Wt(i,s,"srcSet",u.srcSet,u,null),x&&Wt(i,s,"src",u.src,u,null);return;case"input":yt("invalid",i);var z=b=L=A=null,Q=null,fe=null;for(x in u)if(u.hasOwnProperty(x)){var Ce=u[x];if(Ce!=null)switch(x){case"name":A=Ce;break;case"type":L=Ce;break;case"checked":Q=Ce;break;case"defaultChecked":fe=Ce;break;case"value":b=Ce;break;case"defaultValue":z=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(r(137,s));break;default:Wt(i,s,x,Ce,u,null)}}Bn(i,b,z,Q,fe,L,A,!1),oa(i);return;case"select":yt("invalid",i),x=L=b=null;for(A in u)if(u.hasOwnProperty(A)&&(z=u[A],z!=null))switch(A){case"value":b=z;break;case"defaultValue":L=z;break;case"multiple":x=z;default:Wt(i,s,A,z,u,null)}s=b,u=L,i.multiple=!!x,s!=null?Y(i,!!x,s,!1):u!=null&&Y(i,!!x,u,!0);return;case"textarea":yt("invalid",i),b=A=x=null;for(L in u)if(u.hasOwnProperty(L)&&(z=u[L],z!=null))switch(L){case"value":x=z;break;case"defaultValue":A=z;break;case"children":b=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(91));break;default:Wt(i,s,L,z,u,null)}Tn(i,x,A,b),oa(i);return;case"option":for(Q in u)if(u.hasOwnProperty(Q)&&(x=u[Q],x!=null))switch(Q){case"selected":i.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Wt(i,s,Q,x,u,null)}return;case"dialog":yt("beforetoggle",i),yt("toggle",i),yt("cancel",i),yt("close",i);break;case"iframe":case"object":yt("load",i);break;case"video":case"audio":for(x=0;x<rc.length;x++)yt(rc[x],i);break;case"image":yt("error",i),yt("load",i);break;case"details":yt("toggle",i);break;case"embed":case"source":case"link":yt("error",i),yt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(fe in u)if(u.hasOwnProperty(fe)&&(x=u[fe],x!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Wt(i,s,fe,x,u,null)}return;default:if(We(s)){for(Ce in u)u.hasOwnProperty(Ce)&&(x=u[Ce],x!==void 0&&Hh(i,s,Ce,x,u,void 0));return}}for(z in u)u.hasOwnProperty(z)&&(x=u[z],x!=null&&Wt(i,s,z,x,u,null))}function tA(i,s,u,x){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,b=null,L=null,z=null,Q=null,fe=null,Ce=null;for(me in u){var we=u[me];if(u.hasOwnProperty(me)&&we!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":Q=we;default:x.hasOwnProperty(me)||Wt(i,s,me,null,x,we)}}for(var de in x){var me=x[de];if(we=u[de],x.hasOwnProperty(de)&&(me!=null||we!=null))switch(de){case"type":b=me;break;case"name":A=me;break;case"checked":fe=me;break;case"defaultChecked":Ce=me;break;case"value":L=me;break;case"defaultValue":z=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,s));break;default:me!==we&&Wt(i,s,de,me,x,we)}}Dt(i,L,z,Q,fe,Ce,b,A);return;case"select":me=L=z=de=null;for(b in u)if(Q=u[b],u.hasOwnProperty(b)&&Q!=null)switch(b){case"value":break;case"multiple":me=Q;default:x.hasOwnProperty(b)||Wt(i,s,b,null,x,Q)}for(A in x)if(b=x[A],Q=u[A],x.hasOwnProperty(A)&&(b!=null||Q!=null))switch(A){case"value":de=b;break;case"defaultValue":z=b;break;case"multiple":L=b;default:b!==Q&&Wt(i,s,A,b,x,Q)}s=z,u=L,x=me,de!=null?Y(i,!!u,de,!1):!!x!=!!u&&(s!=null?Y(i,!!u,s,!0):Y(i,!!u,u?[]:"",!1));return;case"textarea":me=de=null;for(z in u)if(A=u[z],u.hasOwnProperty(z)&&A!=null&&!x.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:Wt(i,s,z,null,x,A)}for(L in x)if(A=x[L],b=u[L],x.hasOwnProperty(L)&&(A!=null||b!=null))switch(L){case"value":de=A;break;case"defaultValue":me=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:A!==b&&Wt(i,s,L,A,x,b)}Ye(i,de,me);return;case"option":for(var nt in u)if(de=u[nt],u.hasOwnProperty(nt)&&de!=null&&!x.hasOwnProperty(nt))switch(nt){case"selected":i.selected=!1;break;default:Wt(i,s,nt,null,x,de)}for(Q in x)if(de=x[Q],me=u[Q],x.hasOwnProperty(Q)&&de!==me&&(de!=null||me!=null))switch(Q){case"selected":i.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:Wt(i,s,Q,de,x,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Je in u)de=u[Je],u.hasOwnProperty(Je)&&de!=null&&!x.hasOwnProperty(Je)&&Wt(i,s,Je,null,x,de);for(fe in x)if(de=x[fe],me=u[fe],x.hasOwnProperty(fe)&&de!==me&&(de!=null||me!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,s));break;default:Wt(i,s,fe,de,x,me)}return;default:if(We(s)){for(var jt in u)de=u[jt],u.hasOwnProperty(jt)&&de!==void 0&&!x.hasOwnProperty(jt)&&Hh(i,s,jt,void 0,x,de);for(Ce in x)de=x[Ce],me=u[Ce],!x.hasOwnProperty(Ce)||de===me||de===void 0&&me===void 0||Hh(i,s,Ce,de,x,me);return}}for(var se in u)de=u[se],u.hasOwnProperty(se)&&de!=null&&!x.hasOwnProperty(se)&&Wt(i,s,se,null,x,de);for(we in x)de=x[we],me=u[we],!x.hasOwnProperty(we)||de===me||de==null&&me==null||Wt(i,s,we,de,x,me)}var Gh=null,qh=null;function Fu(i){return i.nodeType===9?i:i.ownerDocument}function Ap(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tp(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Yh(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Xh=null;function nA(){var i=window.event;return i&&i.type==="popstate"?i===Xh?!1:(Xh=i,!0):(Xh=null,!1)}var Sp=typeof setTimeout=="function"?setTimeout:void 0,iA=typeof clearTimeout=="function"?clearTimeout:void 0,bp=typeof Promise=="function"?Promise:void 0,rA=typeof queueMicrotask=="function"?queueMicrotask:typeof bp<"u"?function(i){return bp.resolve(null).then(i).catch(oA)}:Sp;function oA(i){setTimeout(function(){throw i})}function jo(i){return i==="head"}function _p(i,s){var u=s,x=0,A=0;do{var b=u.nextSibling;if(i.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"){if(0<x&&8>x){u=x;var L=i.ownerDocument;if(u&1&&sc(L.documentElement),u&2&&sc(L.body),u&4)for(u=L.head,sc(u),L=u.firstChild;L;){var z=L.nextSibling,Q=L.nodeName;L[ji]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&L.rel.toLowerCase()==="stylesheet"||u.removeChild(L),L=z}}if(A===0){i.removeChild(b),gc(s);return}A--}else u==="$"||u==="$?"||u==="$!"?A++:x=u.charCodeAt(0)-48;else x=0;u=b}while(u);gc(s)}function Wh(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Wh(u),xs(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function sA(i,s,u,x){for(;i.nodeType===1;){var A=u;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!x&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(x){if(!i[ji])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==A.rel||i.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||i.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||i.getAttribute("title")!==(A.title==null?null:A.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(A.src==null?null:A.src)||i.getAttribute("type")!==(A.type==null?null:A.type)||i.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var b=A.name==null?null:""+A.name;if(A.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=fr(i.nextSibling),i===null)break}return null}function aA(i,s,u){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=fr(i.nextSibling),i===null))return null;return i}function jh(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function lA(i,s){var u=i.ownerDocument;if(i.data!=="$?"||u.readyState==="complete")s();else{var x=function(){s(),u.removeEventListener("DOMContentLoaded",x)};u.addEventListener("DOMContentLoaded",x),i._reactRetry=x}}function fr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Kh=null;function Np(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return i;s--}else u==="/$"&&s++}i=i.previousSibling}return null}function Mp(i,s,u){switch(s=Fu(u),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function sc(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);xs(i)}var nr=new Map,Ip=new Set;function Vu(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var uo=he.d;he.d={f:cA,r:uA,D:fA,C:dA,L:hA,m:gA,X:pA,S:mA,M:xA};function cA(){var i=uo.f(),s=Ru();return i||s}function uA(i){var s=Ri(i);s!==null&&s.tag===5&&s.type==="form"?Zg(s):uo.r(i)}var Ua=typeof document>"u"?null:document;function Rp(i,s,u){var x=Ua;if(x&&typeof s=="string"&&s){var A=Pn(s);A='link[rel="'+i+'"][href="'+A+'"]',typeof u=="string"&&(A+='[crossorigin="'+u+'"]'),Ip.has(A)||(Ip.add(A),i={rel:i,crossOrigin:u,href:s},x.querySelector(A)===null&&(s=x.createElement("link"),ti(s,"link",i),Bt(s),x.head.appendChild(s)))}}function fA(i){uo.D(i),Rp("dns-prefetch",i,null)}function dA(i,s){uo.C(i,s),Rp("preconnect",i,s)}function hA(i,s,u){uo.L(i,s,u);var x=Ua;if(x&&i&&s){var A='link[rel="preload"][as="'+Pn(s)+'"]';s==="image"&&u&&u.imageSrcSet?(A+='[imagesrcset="'+Pn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(A+='[imagesizes="'+Pn(u.imageSizes)+'"]')):A+='[href="'+Pn(i)+'"]';var b=A;switch(s){case"style":b=Fa(i);break;case"script":b=Va(i)}nr.has(b)||(i=T({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:i,as:s},u),nr.set(b,i),x.querySelector(A)!==null||s==="style"&&x.querySelector(ac(b))||s==="script"&&x.querySelector(lc(b))||(s=x.createElement("link"),ti(s,"link",i),Bt(s),x.head.appendChild(s)))}}function gA(i,s){uo.m(i,s);var u=Ua;if(u&&i){var x=s&&typeof s.as=="string"?s.as:"script",A='link[rel="modulepreload"][as="'+Pn(x)+'"][href="'+Pn(i)+'"]',b=A;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Va(i)}if(!nr.has(b)&&(i=T({rel:"modulepreload",href:i},s),nr.set(b,i),u.querySelector(A)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(lc(b)))return}x=u.createElement("link"),ti(x,"link",i),Bt(x),u.head.appendChild(x)}}}function mA(i,s,u){uo.S(i,s,u);var x=Ua;if(x&&i){var A=or(x).hoistableStyles,b=Fa(i);s=s||"default";var L=A.get(b);if(!L){var z={loading:0,preload:null};if(L=x.querySelector(ac(b)))z.loading=5;else{i=T({rel:"stylesheet",href:i,"data-precedence":s},u),(u=nr.get(b))&&Zh(i,u);var Q=L=x.createElement("link");Bt(Q),ti(Q,"link",i),Q._p=new Promise(function(fe,Ce){Q.onload=fe,Q.onerror=Ce}),Q.addEventListener("load",function(){z.loading|=1}),Q.addEventListener("error",function(){z.loading|=2}),z.loading|=4,zu(L,s,x)}L={type:"stylesheet",instance:L,count:1,state:z},A.set(b,L)}}}function pA(i,s){uo.X(i,s);var u=Ua;if(u&&i){var x=or(u).hoistableScripts,A=Va(i),b=x.get(A);b||(b=u.querySelector(lc(A)),b||(i=T({src:i,async:!0},s),(s=nr.get(A))&&Qh(i,s),b=u.createElement("script"),Bt(b),ti(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},x.set(A,b))}}function xA(i,s){uo.M(i,s);var u=Ua;if(u&&i){var x=or(u).hoistableScripts,A=Va(i),b=x.get(A);b||(b=u.querySelector(lc(A)),b||(i=T({src:i,async:!0,type:"module"},s),(s=nr.get(A))&&Qh(i,s),b=u.createElement("script"),Bt(b),ti(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},x.set(A,b))}}function Dp(i,s,u,x){var A=(A=be.current)?Vu(A):null;if(!A)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=Fa(u.href),u=or(A).hoistableStyles,x=u.get(s),x||(x={type:"style",instance:null,count:0,state:null},u.set(s,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Fa(u.href);var b=or(A).hoistableStyles,L=b.get(i);if(L||(A=A.ownerDocument||A,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,L),(b=A.querySelector(ac(i)))&&!b._p&&(L.instance=b,L.state.loading=5),nr.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},nr.set(i,u),b||yA(A,i,u,L.state))),s&&x===null)throw Error(r(528,""));return L}if(s&&x!==null)throw Error(r(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Va(u),u=or(A).hoistableScripts,x=u.get(s),x||(x={type:"script",instance:null,count:0,state:null},u.set(s,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Fa(i){return'href="'+Pn(i)+'"'}function ac(i){return'link[rel="stylesheet"]['+i+"]"}function Op(i){return T({},i,{"data-precedence":i.precedence,precedence:null})}function yA(i,s,u,x){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?x.loading=1:(s=i.createElement("link"),x.preload=s,s.addEventListener("load",function(){return x.loading|=1}),s.addEventListener("error",function(){return x.loading|=2}),ti(s,"link",u),Bt(s),i.head.appendChild(s))}function Va(i){return'[src="'+Pn(i)+'"]'}function lc(i){return"script[async]"+i}function Lp(i,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var x=i.querySelector('style[data-href~="'+Pn(u.href)+'"]');if(x)return s.instance=x,Bt(x),x;var A=T({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return x=(i.ownerDocument||i).createElement("style"),Bt(x),ti(x,"style",A),zu(x,u.precedence,i),s.instance=x;case"stylesheet":A=Fa(u.href);var b=i.querySelector(ac(A));if(b)return s.state.loading|=4,s.instance=b,Bt(b),b;x=Op(u),(A=nr.get(A))&&Zh(x,A),b=(i.ownerDocument||i).createElement("link"),Bt(b);var L=b;return L._p=new Promise(function(z,Q){L.onload=z,L.onerror=Q}),ti(b,"link",x),s.state.loading|=4,zu(b,u.precedence,i),s.instance=b;case"script":return b=Va(u.src),(A=i.querySelector(lc(b)))?(s.instance=A,Bt(A),A):(x=u,(A=nr.get(b))&&(x=T({},u),Qh(x,A)),i=i.ownerDocument||i,A=i.createElement("script"),Bt(A),ti(A,"link",x),i.head.appendChild(A),s.instance=A);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(x=s.instance,s.state.loading|=4,zu(x,u.precedence,i));return s.instance}function zu(i,s,u){for(var x=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=x.length?x[x.length-1]:null,b=A,L=0;L<x.length;L++){var z=x[L];if(z.dataset.precedence===s)b=z;else if(b!==A)break}b?b.parentNode.insertBefore(i,b.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(i,s.firstChild))}function Zh(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Qh(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Hu=null;function Pp(i,s,u){if(Hu===null){var x=new Map,A=Hu=new Map;A.set(u,x)}else A=Hu,x=A.get(u),x||(x=new Map,A.set(u,x));if(x.has(i))return x;for(x.set(i,null),u=u.getElementsByTagName(i),A=0;A<u.length;A++){var b=u[A];if(!(b[ji]||b[qn]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var L=b.getAttribute(s)||"";L=i+L;var z=x.get(L);z?z.push(b):x.set(L,[b])}}return x}function Bp(i,s,u){i=i.ownerDocument||i,i.head.insertBefore(u,s==="title"?i.querySelector("head > title"):null)}function CA(i,s,u){if(u===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function kp(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var cc=null;function vA(){}function EA(i,s,u){if(cc===null)throw Error(r(475));var x=cc;if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var A=Fa(u.href),b=i.querySelector(ac(A));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(x.count++,x=Gu.bind(x),i.then(x,x)),s.state.loading|=4,s.instance=b,Bt(b);return}b=i.ownerDocument||i,u=Op(u),(A=nr.get(A))&&Zh(u,A),b=b.createElement("link"),Bt(b);var L=b;L._p=new Promise(function(z,Q){L.onload=z,L.onerror=Q}),ti(b,"link",u),s.instance=b}x.stylesheets===null&&(x.stylesheets=new Map),x.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(x.count++,s=Gu.bind(x),i.addEventListener("load",s),i.addEventListener("error",s))}}function wA(){if(cc===null)throw Error(r(475));var i=cc;return i.stylesheets&&i.count===0&&Jh(i,i.stylesheets),0<i.count?function(s){var u=setTimeout(function(){if(i.stylesheets&&Jh(i,i.stylesheets),i.unsuspend){var x=i.unsuspend;i.unsuspend=null,x()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(u)}}:null}function Gu(){if(this.count--,this.count===0){if(this.stylesheets)Jh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var qu=null;function Jh(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,qu=new Map,s.forEach(AA,i),qu=null,Gu.call(i))}function AA(i,s){if(!(s.state.loading&4)){var u=qu.get(i);if(u)var x=u.get(null);else{u=new Map,qu.set(i,u);for(var A=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<A.length;b++){var L=A[b];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(u.set(L.dataset.precedence,L),x=L)}x&&u.set(null,x)}A=s.instance,L=A.getAttribute("data-precedence"),b=u.get(L)||x,b===x&&u.set(null,A),u.set(L,A),this.count++,x=Gu.bind(this),A.addEventListener("load",x),A.addEventListener("error",x),b?b.parentNode.insertBefore(A,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(A,i.firstChild)),s.state.loading|=4}}var uc={$$typeof:H,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function TA(i,s,u,x,A,b,L,z){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Et(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Et(0),this.hiddenUpdates=Et(null),this.identifierPrefix=x,this.onUncaughtError=A,this.onCaughtError=b,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function Up(i,s,u,x,A,b,L,z,Q,fe,Ce,we){return i=new TA(i,s,u,L,z,Q,fe,we),s=1,b===!0&&(s|=24),b=Li(3,null,null,s),i.current=b,b.stateNode=i,s=Od(),s.refCount++,i.pooledCache=s,s.refCount++,b.memoizedState={element:x,isDehydrated:u,cache:s},kd(b),i}function Fp(i){return i?(i=xa,i):xa}function Vp(i,s,u,x,A,b){A=Fp(A),x.context===null?x.context=A:x.pendingContext=A,x=Po(s),x.payload={element:u},b=b===void 0?null:b,b!==null&&(x.callback=b),u=Bo(i,x,s),u!==null&&(Fi(u,i,s),Vl(u,i,s))}function zp(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function $h(i,s){zp(i,s),(i=i.alternate)&&zp(i,s)}function Hp(i){if(i.tag===13){var s=pa(i,67108864);s!==null&&Fi(s,i,67108864),$h(i,67108864)}}var Yu=!0;function SA(i,s,u,x){var A=ne.T;ne.T=null;var b=he.p;try{he.p=2,e0(i,s,u,x)}finally{he.p=b,ne.T=A}}function bA(i,s,u,x){var A=ne.T;ne.T=null;var b=he.p;try{he.p=8,e0(i,s,u,x)}finally{he.p=b,ne.T=A}}function e0(i,s,u,x){if(Yu){var A=t0(x);if(A===null)zh(i,s,x,Xu,u),qp(i,x);else if(NA(A,i,s,u,x))x.stopPropagation();else if(qp(i,x),s&4&&-1<_A.indexOf(i)){for(;A!==null;){var b=Ri(A);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var L=Kt(b.pendingLanes);if(L!==0){var z=b;for(z.pendingLanes|=2,z.entangledLanes|=2;L;){var Q=1<<31-Pt(L);z.entanglements[1]|=Q,L&=~Q}Ur(b),(Ft&6)===0&&(Mu=At()+500,ic(0))}}break;case 13:z=pa(b,2),z!==null&&Fi(z,b,2),Ru(),$h(b,2)}if(b=t0(x),b===null&&zh(i,s,x,Xu,u),b===A)break;A=b}A!==null&&x.stopPropagation()}else zh(i,s,x,null,u)}}function t0(i){return i=wo(i),n0(i)}var Xu=null;function n0(i){if(Xu=null,i=An(i),i!==null){var s=f(i);if(s===null)i=null;else{var u=s.tag;if(u===13){if(i=p(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Xu=i,null}function Gp(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rt()){case ct:return 2;case gs:return 8;case Ve:case $s:return 32;case Cl:return 268435456;default:return 32}default:return 32}}var i0=!1,Ko=null,Zo=null,Qo=null,fc=new Map,dc=new Map,Jo=[],_A="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qp(i,s){switch(i){case"focusin":case"focusout":Ko=null;break;case"dragenter":case"dragleave":Zo=null;break;case"mouseover":case"mouseout":Qo=null;break;case"pointerover":case"pointerout":fc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":dc.delete(s.pointerId)}}function hc(i,s,u,x,A,b){return i===null||i.nativeEvent!==b?(i={blockedOn:s,domEventName:u,eventSystemFlags:x,nativeEvent:b,targetContainers:[A]},s!==null&&(s=Ri(s),s!==null&&Hp(s)),i):(i.eventSystemFlags|=x,s=i.targetContainers,A!==null&&s.indexOf(A)===-1&&s.push(A),i)}function NA(i,s,u,x,A){switch(s){case"focusin":return Ko=hc(Ko,i,s,u,x,A),!0;case"dragenter":return Zo=hc(Zo,i,s,u,x,A),!0;case"mouseover":return Qo=hc(Qo,i,s,u,x,A),!0;case"pointerover":var b=A.pointerId;return fc.set(b,hc(fc.get(b)||null,i,s,u,x,A)),!0;case"gotpointercapture":return b=A.pointerId,dc.set(b,hc(dc.get(b)||null,i,s,u,x,A)),!0}return!1}function Yp(i){var s=An(i.target);if(s!==null){var u=f(s);if(u!==null){if(s=u.tag,s===13){if(s=p(u),s!==null){i.blockedOn=s,na(i.priority,function(){if(u.tag===13){var x=Ui();x=ps(x);var A=pa(u,x);A!==null&&Fi(A,u,x),$h(u,x)}});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Wu(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=t0(i.nativeEvent);if(u===null){u=i.nativeEvent;var x=new u.constructor(u.type,u);ys=x,u.target.dispatchEvent(x),ys=null}else return s=Ri(u),s!==null&&Hp(s),i.blockedOn=u,!1;s.shift()}return!0}function Xp(i,s,u){Wu(i)&&u.delete(s)}function MA(){i0=!1,Ko!==null&&Wu(Ko)&&(Ko=null),Zo!==null&&Wu(Zo)&&(Zo=null),Qo!==null&&Wu(Qo)&&(Qo=null),fc.forEach(Xp),dc.forEach(Xp)}function ju(i,s){i.blockedOn===s&&(i.blockedOn=null,i0||(i0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,MA)))}var Ku=null;function Wp(i){Ku!==i&&(Ku=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ku===i&&(Ku=null);for(var s=0;s<i.length;s+=3){var u=i[s],x=i[s+1],A=i[s+2];if(typeof x!="function"){if(n0(x||u)===null)continue;break}var b=Ri(u);b!==null&&(i.splice(s,3),s-=3,nh(b,{pending:!0,data:A,method:u.method,action:x},x,A))}}))}function gc(i){function s(Q){return ju(Q,i)}Ko!==null&&ju(Ko,i),Zo!==null&&ju(Zo,i),Qo!==null&&ju(Qo,i),fc.forEach(s),dc.forEach(s);for(var u=0;u<Jo.length;u++){var x=Jo[u];x.blockedOn===i&&(x.blockedOn=null)}for(;0<Jo.length&&(u=Jo[0],u.blockedOn===null);)Yp(u),u.blockedOn===null&&Jo.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(x=0;x<u.length;x+=3){var A=u[x],b=u[x+1],L=A[mn]||null;if(typeof b=="function")L||Wp(u);else if(L){var z=null;if(b&&b.hasAttribute("formAction")){if(A=b,L=b[mn]||null)z=L.formAction;else if(n0(A)!==null)continue}else z=L.action;typeof z=="function"?u[x+1]=z:(u.splice(x,3),x-=3),Wp(u)}}}function r0(i){this._internalRoot=i}Zu.prototype.render=r0.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var u=s.current,x=Ui();Vp(u,x,i,s,null,null)},Zu.prototype.unmount=r0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Vp(i.current,2,null,i,null,null),Ru(),s[Er]=null}};function Zu(i){this._internalRoot=i}Zu.prototype.unstable_scheduleHydration=function(i){if(i){var s=Yr();i={blockedOn:null,target:i,priority:s};for(var u=0;u<Jo.length&&s!==0&&s<Jo[u].priority;u++);Jo.splice(u,0,i),u===0&&Yp(i)}};var jp=e.version;if(jp!=="19.1.0")throw Error(r(527,jp,"19.1.0"));he.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=w(s),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var IA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{Zn=Qu.inject(IA),ni=Qu}catch{}}return pc.createRoot=function(i,s){if(!l(i))throw Error(r(299));var u=!1,x="",A=um,b=fm,L=dm,z=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(x=s.identifierPrefix),s.onUncaughtError!==void 0&&(A=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(L=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(z=s.unstable_transitionCallbacks)),s=Up(i,1,!1,null,null,u,x,A,b,L,z,null),i[Er]=s.current,Vh(i),new r0(s)},pc.hydrateRoot=function(i,s,u){if(!l(i))throw Error(r(299));var x=!1,A="",b=um,L=fm,z=dm,Q=null,fe=null;return u!=null&&(u.unstable_strictMode===!0&&(x=!0),u.identifierPrefix!==void 0&&(A=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(L=u.onCaughtError),u.onRecoverableError!==void 0&&(z=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(Q=u.unstable_transitionCallbacks),u.formState!==void 0&&(fe=u.formState)),s=Up(i,1,!0,s,u??null,x,A,b,L,z,Q,fe),s.context=Fp(null),u=s.current,x=Ui(),x=ps(x),A=Po(x),A.callback=null,Bo(u,A,x),u=x,s.current.lanes=u,Ii(s,u),Ur(s),i[Er]=s.current,Vh(i),new Zu(s)},pc.version="19.1.0",pc}var rx;function FA(){if(rx)return a0.exports;rx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),a0.exports=UA(),a0.exports}var VA=FA(),xc={},ox;function zA(){if(ox)return xc;ox=1,Object.defineProperty(xc,"__esModule",{value:!0}),xc.parse=p,xc.serialize=y;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,f=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function p(I,O){const P=new f,D=I.length;if(D<2)return P;const F=(O==null?void 0:O.decode)||T;let G=0;do{const q=I.indexOf("=",G);if(q===-1)break;const H=I.indexOf(";",G),K=H===-1?D:H;if(q>K){G=I.lastIndexOf(";",q-1)+1;continue}const W=v(I,G,q),oe=w(I,q,W),Z=I.slice(W,oe);if(P[Z]===void 0){let ae=v(I,q+1,K),ee=w(I,K,ae);const Me=F(I.slice(ae,ee));P[Z]=Me}G=K+1}while(G<D);return P}function v(I,O,P){do{const D=I.charCodeAt(O);if(D!==32&&D!==9)return O}while(++O<P);return P}function w(I,O,P){for(;O>P;){const D=I.charCodeAt(--O);if(D!==32&&D!==9)return O+1}return P}function y(I,O,P){const D=(P==null?void 0:P.encode)||encodeURIComponent;if(!t.test(I))throw new TypeError(`argument name is invalid: ${I}`);const F=D(O);if(!e.test(F))throw new TypeError(`argument val is invalid: ${O}`);let G=I+"="+F;if(!P)return G;if(P.maxAge!==void 0){if(!Number.isInteger(P.maxAge))throw new TypeError(`option maxAge is invalid: ${P.maxAge}`);G+="; Max-Age="+P.maxAge}if(P.domain){if(!n.test(P.domain))throw new TypeError(`option domain is invalid: ${P.domain}`);G+="; Domain="+P.domain}if(P.path){if(!r.test(P.path))throw new TypeError(`option path is invalid: ${P.path}`);G+="; Path="+P.path}if(P.expires){if(!_(P.expires)||!Number.isFinite(P.expires.valueOf()))throw new TypeError(`option expires is invalid: ${P.expires}`);G+="; Expires="+P.expires.toUTCString()}if(P.httpOnly&&(G+="; HttpOnly"),P.secure&&(G+="; Secure"),P.partitioned&&(G+="; Partitioned"),P.priority)switch(typeof P.priority=="string"?P.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${P.priority}`)}if(P.sameSite)switch(typeof P.sameSite=="string"?P.sameSite.toLowerCase():P.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${P.sameSite}`)}return G}function T(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function _(I){return l.call(I)==="[object Date]"}return xc}zA();var sx="popstate";function HA(t={}){function e(r,l){let{pathname:f,search:p,hash:v}=r.location;return L0("",{pathname:f,search:p,hash:v},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:Sc(l)}return qA(e,n,null,t)}function fn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GA(){return Math.random().toString(36).substring(2,10)}function ax(t,e){return{usr:t.state,key:t.key,idx:e}}function L0(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?nl(e):e,state:n,key:e&&e.key||r||GA()}}function Sc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function nl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function qA(t,e,n,r={}){let{window:l=document.defaultView,v5Compat:f=!1}=r,p=l.history,v="POP",w=null,y=T();y==null&&(y=0,p.replaceState({...p.state,idx:y},""));function T(){return(p.state||{idx:null}).idx}function _(){v="POP";let F=T(),G=F==null?null:F-y;y=F,w&&w({action:v,location:D.location,delta:G})}function I(F,G){v="PUSH";let q=L0(D.location,F,G);y=T()+1;let H=ax(q,y),K=D.createHref(q);try{p.pushState(H,"",K)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;l.location.assign(K)}f&&w&&w({action:v,location:D.location,delta:1})}function O(F,G){v="REPLACE";let q=L0(D.location,F,G);y=T();let H=ax(q,y),K=D.createHref(q);p.replaceState(H,"",K),f&&w&&w({action:v,location:D.location,delta:0})}function P(F){return YA(F)}let D={get action(){return v},get location(){return t(l,p)},listen(F){if(w)throw new Error("A history only accepts one active listener");return l.addEventListener(sx,_),w=F,()=>{l.removeEventListener(sx,_),w=null}},createHref(F){return e(l,F)},createURL:P,encodeLocation(F){let G=P(F);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:I,replace:O,go(F){return p.go(F)}};return D}function YA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),fn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Sc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function V2(t,e,n="/"){return XA(t,e,n,!1)}function XA(t,e,n,r){let l=typeof e=="string"?nl(e):e,f=xo(l.pathname||"/",n);if(f==null)return null;let p=z2(t);WA(p);let v=null;for(let w=0;v==null&&w<p.length;++w){let y=rT(f);v=nT(p[w],y,r)}return v}function z2(t,e=[],n=[],r=""){let l=(f,p,v)=>{let w={relativePath:v===void 0?f.path||"":v,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};w.relativePath.startsWith("/")&&(fn(w.relativePath.startsWith(r),`Absolute route path "${w.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(r.length));let y=mo([r,w.relativePath]),T=n.concat(w);f.children&&f.children.length>0&&(fn(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),z2(f.children,e,T,y)),!(f.path==null&&!f.index)&&e.push({path:y,score:eT(y,f.index),routesMeta:T})};return t.forEach((f,p)=>{var v;if(f.path===""||!((v=f.path)!=null&&v.includes("?")))l(f,p);else for(let w of H2(f.path))l(f,p,w)}),e}function H2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,l=n.endsWith("?"),f=n.replace(/\?$/,"");if(r.length===0)return l?[f,""]:[f];let p=H2(r.join("/")),v=[];return v.push(...p.map(w=>w===""?f:[f,w].join("/"))),l&&v.push(...p),v.map(w=>t.startsWith("/")&&w===""?"/":w)}function WA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:tT(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var jA=/^:[\w-]+$/,KA=3,ZA=2,QA=1,JA=10,$A=-2,lx=t=>t==="*";function eT(t,e){let n=t.split("/"),r=n.length;return n.some(lx)&&(r+=$A),e&&(r+=ZA),n.filter(l=>!lx(l)).reduce((l,f)=>l+(jA.test(f)?KA:f===""?QA:JA),r)}function tT(t,e){return t.length===e.length&&t.slice(0,-1).every((r,l)=>r===e[l])?t[t.length-1]-e[e.length-1]:0}function nT(t,e,n=!1){let{routesMeta:r}=t,l={},f="/",p=[];for(let v=0;v<r.length;++v){let w=r[v],y=v===r.length-1,T=f==="/"?e:e.slice(f.length)||"/",_=Nf({path:w.relativePath,caseSensitive:w.caseSensitive,end:y},T),I=w.route;if(!_&&y&&n&&!r[r.length-1].route.index&&(_=Nf({path:w.relativePath,caseSensitive:w.caseSensitive,end:!1},T)),!_)return null;Object.assign(l,_.params),p.push({params:l,pathname:mo([f,_.pathname]),pathnameBase:lT(mo([f,_.pathnameBase])),route:I}),_.pathnameBase!=="/"&&(f=mo([f,_.pathnameBase]))}return p}function Nf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=iT(t.path,t.caseSensitive,t.end),l=e.match(n);if(!l)return null;let f=l[0],p=f.replace(/(.)\/+$/,"$1"),v=l.slice(1);return{params:r.reduce((y,{paramName:T,isOptional:_},I)=>{if(T==="*"){let P=v[I]||"";p=f.slice(0,f.length-P.length).replace(/(.)\/+$/,"$1")}const O=v[I];return _&&!O?y[T]=void 0:y[T]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:f,pathnameBase:p,pattern:t}}function iT(t,e=!1,n=!0){gr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],l="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,v,w)=>(r.push({paramName:v,isOptional:w!=null}),w?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),l+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":t!==""&&t!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),r]}function rT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function xo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function oT(t,e="/"){let{pathname:n,search:r="",hash:l=""}=typeof t=="string"?nl(t):t;return{pathname:n?n.startsWith("/")?n:sT(n,e):e,search:cT(r),hash:uT(l)}}function sT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function f0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function x1(t){let e=aT(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function y1(t,e,n,r=!1){let l;typeof t=="string"?l=nl(t):(l={...t},fn(!l.pathname||!l.pathname.includes("?"),f0("?","pathname","search",l)),fn(!l.pathname||!l.pathname.includes("#"),f0("#","pathname","hash",l)),fn(!l.search||!l.search.includes("#"),f0("#","search","hash",l)));let f=t===""||l.pathname==="",p=f?"/":l.pathname,v;if(p==null)v=n;else{let _=e.length-1;if(!r&&p.startsWith("..")){let I=p.split("/");for(;I[0]==="..";)I.shift(),_-=1;l.pathname=I.join("/")}v=_>=0?e[_]:"/"}let w=oT(l,v),y=p&&p!=="/"&&p.endsWith("/"),T=(f||p===".")&&n.endsWith("/");return!w.pathname.endsWith("/")&&(y||T)&&(w.pathname+="/"),w}var mo=t=>t.join("/").replace(/\/\/+/g,"/"),lT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),cT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,uT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function fT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var G2=["POST","PUT","PATCH","DELETE"];new Set(G2);var dT=["GET",...G2];new Set(dT);var il=B.createContext(null);il.displayName="DataRouter";var Hf=B.createContext(null);Hf.displayName="DataRouterState";var q2=B.createContext({isTransitioning:!1});q2.displayName="ViewTransition";var hT=B.createContext(new Map);hT.displayName="Fetchers";var gT=B.createContext(null);gT.displayName="Await";var xr=B.createContext(null);xr.displayName="Navigation";var Dc=B.createContext(null);Dc.displayName="Location";var yr=B.createContext({outlet:null,matches:[],isDataRoute:!1});yr.displayName="Route";var C1=B.createContext(null);C1.displayName="RouteError";function mT(t,{relative:e}={}){fn(rl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=B.useContext(xr),{hash:l,pathname:f,search:p}=Oc(t,{relative:e}),v=f;return n!=="/"&&(v=f==="/"?n:mo([n,f])),r.createHref({pathname:v,search:p,hash:l})}function rl(){return B.useContext(Dc)!=null}function us(){return fn(rl(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Dc).location}var Y2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function X2(t){B.useContext(xr).static||B.useLayoutEffect(t)}function fs(){let{isDataRoute:t}=B.useContext(yr);return t?MT():pT()}function pT(){fn(rl(),"useNavigate() may be used only in the context of a <Router> component.");let t=B.useContext(il),{basename:e,navigator:n}=B.useContext(xr),{matches:r}=B.useContext(yr),{pathname:l}=us(),f=JSON.stringify(x1(r)),p=B.useRef(!1);return X2(()=>{p.current=!0}),B.useCallback((w,y={})=>{if(gr(p.current,Y2),!p.current)return;if(typeof w=="number"){n.go(w);return}let T=y1(w,JSON.parse(f),l,y.relative==="path");t==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:mo([e,T.pathname])),(y.replace?n.replace:n.push)(T,y.state,y)},[e,n,f,l,t])}B.createContext(null);function xT(){let{matches:t}=B.useContext(yr),e=t[t.length-1];return e?e.params:{}}function Oc(t,{relative:e}={}){let{matches:n}=B.useContext(yr),{pathname:r}=us(),l=JSON.stringify(x1(n));return B.useMemo(()=>y1(t,JSON.parse(l),r,e==="path"),[t,l,r,e])}function yT(t,e){return W2(t,e)}function W2(t,e,n,r){var G;fn(rl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=B.useContext(xr),{matches:f}=B.useContext(yr),p=f[f.length-1],v=p?p.params:{},w=p?p.pathname:"/",y=p?p.pathnameBase:"/",T=p&&p.route;{let q=T&&T.path||"";j2(w,!T||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${w}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let _=us(),I;if(e){let q=typeof e=="string"?nl(e):e;fn(y==="/"||((G=q.pathname)==null?void 0:G.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${q.pathname}" was given in the \`location\` prop.`),I=q}else I=_;let O=I.pathname||"/",P=O;if(y!=="/"){let q=y.replace(/^\//,"").split("/");P="/"+O.replace(/^\//,"").split("/").slice(q.length).join("/")}let D=V2(t,{pathname:P});gr(T||D!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),gr(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=AT(D&&D.map(q=>Object.assign({},q,{params:Object.assign({},v,q.params),pathname:mo([y,l.encodeLocation?l.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?y:mo([y,l.encodeLocation?l.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),f,n,r);return e&&F?B.createElement(Dc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},F):F}function CT(){let t=NT(),e=fT(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},f={padding:"2px 4px",backgroundColor:r},p=null;return console.error("Error handled by React Router default ErrorBoundary:",t),p=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:f},"ErrorBoundary")," or"," ",B.createElement("code",{style:f},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:l},n):null,p)}var vT=B.createElement(CT,null),ET=class extends B.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?B.createElement(yr.Provider,{value:this.props.routeContext},B.createElement(C1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wT({routeContext:t,match:e,children:n}){let r=B.useContext(il);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(yr.Provider,{value:t},n)}function AT(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,f=n==null?void 0:n.errors;if(f!=null){let w=l.findIndex(y=>y.route.id&&(f==null?void 0:f[y.route.id])!==void 0);fn(w>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),l=l.slice(0,Math.min(l.length,w+1))}let p=!1,v=-1;if(n)for(let w=0;w<l.length;w++){let y=l[w];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(v=w),y.route.id){let{loaderData:T,errors:_}=n,I=y.route.loader&&!T.hasOwnProperty(y.route.id)&&(!_||_[y.route.id]===void 0);if(y.route.lazy||I){p=!0,v>=0?l=l.slice(0,v+1):l=[l[0]];break}}}return l.reduceRight((w,y,T)=>{let _,I=!1,O=null,P=null;n&&(_=f&&y.route.id?f[y.route.id]:void 0,O=y.route.errorElement||vT,p&&(v<0&&T===0?(j2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,P=null):v===T&&(I=!0,P=y.route.hydrateFallbackElement||null)));let D=e.concat(l.slice(0,T+1)),F=()=>{let G;return _?G=O:I?G=P:y.route.Component?G=B.createElement(y.route.Component,null):y.route.element?G=y.route.element:G=w,B.createElement(wT,{match:y,routeContext:{outlet:w,matches:D,isDataRoute:n!=null},children:G})};return n&&(y.route.ErrorBoundary||y.route.errorElement||T===0)?B.createElement(ET,{location:n.location,revalidation:n.revalidation,component:O,error:_,children:F(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):F()},null)}function v1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TT(t){let e=B.useContext(il);return fn(e,v1(t)),e}function ST(t){let e=B.useContext(Hf);return fn(e,v1(t)),e}function bT(t){let e=B.useContext(yr);return fn(e,v1(t)),e}function E1(t){let e=bT(t),n=e.matches[e.matches.length-1];return fn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function _T(){return E1("useRouteId")}function NT(){var r;let t=B.useContext(C1),e=ST("useRouteError"),n=E1("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function MT(){let{router:t}=TT("useNavigate"),e=E1("useNavigate"),n=B.useRef(!1);return X2(()=>{n.current=!0}),B.useCallback(async(l,f={})=>{gr(n.current,Y2),n.current&&(typeof l=="number"?t.navigate(l):await t.navigate(l,{fromRouteId:e,...f}))},[t,e])}var cx={};function j2(t,e,n){!e&&!cx[t]&&(cx[t]=!0,gr(!1,n))}B.memo(IT);function IT({routes:t,future:e,state:n}){return W2(t,void 0,n,e)}function Hs({to:t,replace:e,state:n,relative:r}){fn(rl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=B.useContext(xr);gr(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=B.useContext(yr),{pathname:p}=us(),v=fs(),w=y1(t,x1(f),p,r==="path"),y=JSON.stringify(w);return B.useEffect(()=>{v(JSON.parse(y),{replace:e,state:n,relative:r})},[v,y,r,e,n]),null}function ho(t){fn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function RT({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:l,static:f=!1}){fn(!rl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=t.replace(/^\/*/,"/"),v=B.useMemo(()=>({basename:p,navigator:l,static:f,future:{}}),[p,l,f]);typeof n=="string"&&(n=nl(n));let{pathname:w="/",search:y="",hash:T="",state:_=null,key:I="default"}=n,O=B.useMemo(()=>{let P=xo(w,p);return P==null?null:{location:{pathname:P,search:y,hash:T,state:_,key:I},navigationType:r}},[p,w,y,T,_,I,r]);return gr(O!=null,`<Router basename="${p}"> is not able to match the URL "${w}${y}${T}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:B.createElement(xr.Provider,{value:v},B.createElement(Dc.Provider,{children:e,value:O}))}function DT({children:t,location:e}){return yT(P0(t),e)}function P0(t,e=[]){let n=[];return B.Children.forEach(t,(r,l)=>{if(!B.isValidElement(r))return;let f=[...e,l];if(r.type===B.Fragment){n.push.apply(n,P0(r.props.children,f));return}fn(r.type===ho,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let p={id:r.props.id||f.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(p.children=P0(r.props.children,f)),n.push(p)}),n}var df="get",hf="application/x-www-form-urlencoded";function Gf(t){return t!=null&&typeof t.tagName=="string"}function OT(t){return Gf(t)&&t.tagName.toLowerCase()==="button"}function LT(t){return Gf(t)&&t.tagName.toLowerCase()==="form"}function PT(t){return Gf(t)&&t.tagName.toLowerCase()==="input"}function BT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kT(t,e){return t.button===0&&(!e||e==="_self")&&!BT(t)}var $u=null;function UT(){if($u===null)try{new FormData(document.createElement("form"),0),$u=!1}catch{$u=!0}return $u}var FT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function d0(t){return t!=null&&!FT.has(t)?(gr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hf}"`),null):t}function VT(t,e){let n,r,l,f,p;if(LT(t)){let v=t.getAttribute("action");r=v?xo(v,e):null,n=t.getAttribute("method")||df,l=d0(t.getAttribute("enctype"))||hf,f=new FormData(t)}else if(OT(t)||PT(t)&&(t.type==="submit"||t.type==="image")){let v=t.form;if(v==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let w=t.getAttribute("formaction")||v.getAttribute("action");if(r=w?xo(w,e):null,n=t.getAttribute("formmethod")||v.getAttribute("method")||df,l=d0(t.getAttribute("formenctype"))||d0(v.getAttribute("enctype"))||hf,f=new FormData(v,t),!UT()){let{name:y,type:T,value:_}=t;if(T==="image"){let I=y?`${y}.`:"";f.append(`${I}x`,"0"),f.append(`${I}y`,"0")}else y&&f.append(y,_)}}else{if(Gf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=df,r=null,l=hf,p=t}return f&&l==="text/plain"&&(p=f,f=void 0),{action:r,method:n.toLowerCase(),encType:l,formData:f,body:p}}function w1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function zT(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HT(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function GT(t,e,n){let r=await Promise.all(t.map(async l=>{let f=e.routes[l.route.id];if(f){let p=await zT(f,n);return p.links?p.links():[]}return[]}));return WT(r.flat(1).filter(HT).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function ux(t,e,n,r,l,f){let p=(w,y)=>n[y]?w.route.id!==n[y].route.id:!0,v=(w,y)=>{var T;return n[y].pathname!==w.pathname||((T=n[y].route.path)==null?void 0:T.endsWith("*"))&&n[y].params["*"]!==w.params["*"]};return f==="assets"?e.filter((w,y)=>p(w,y)||v(w,y)):f==="data"?e.filter((w,y)=>{var _;let T=r.routes[w.route.id];if(!T||!T.hasLoader)return!1;if(p(w,y)||v(w,y))return!0;if(w.route.shouldRevalidate){let I=w.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:w.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function qT(t,e,{includeHydrateFallback:n}={}){return YT(t.map(r=>{let l=e.routes[r.route.id];if(!l)return[];let f=[l.module];return l.clientActionModule&&(f=f.concat(l.clientActionModule)),l.clientLoaderModule&&(f=f.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(f=f.concat(l.hydrateFallbackModule)),l.imports&&(f=f.concat(l.imports)),f}).flat(1))}function YT(t){return[...new Set(t)]}function XT(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function WT(t,e){let n=new Set;return new Set(e),t.reduce((r,l)=>{let f=JSON.stringify(XT(l));return n.has(f)||(n.add(f),r.push({key:f,link:l})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var jT=new Set([100,101,204,205]);function KT(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&xo(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function K2(){let t=B.useContext(il);return w1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ZT(){let t=B.useContext(Hf);return w1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var A1=B.createContext(void 0);A1.displayName="FrameworkContext";function Z2(){let t=B.useContext(A1);return w1(t,"You must render this element inside a <HydratedRouter> element"),t}function QT(t,e){let n=B.useContext(A1),[r,l]=B.useState(!1),[f,p]=B.useState(!1),{onFocus:v,onBlur:w,onMouseEnter:y,onMouseLeave:T,onTouchStart:_}=e,I=B.useRef(null);B.useEffect(()=>{if(t==="render"&&p(!0),t==="viewport"){let D=G=>{G.forEach(q=>{p(q.isIntersecting)})},F=new IntersectionObserver(D,{threshold:.5});return I.current&&F.observe(I.current),()=>{F.disconnect()}}},[t]),B.useEffect(()=>{if(r){let D=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(D)}}},[r]);let O=()=>{l(!0)},P=()=>{l(!1),p(!1)};return n?t!=="intent"?[f,I,{}]:[f,I,{onFocus:yc(v,O),onBlur:yc(w,P),onMouseEnter:yc(y,O),onMouseLeave:yc(T,P),onTouchStart:yc(_,O)}]:[!1,I,{}]}function yc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function JT({page:t,...e}){let{router:n}=K2(),r=B.useMemo(()=>V2(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?B.createElement(eS,{page:t,matches:r,...e}):null}function $T(t){let{manifest:e,routeModules:n}=Z2(),[r,l]=B.useState([]);return B.useEffect(()=>{let f=!1;return GT(t,e,n).then(p=>{f||l(p)}),()=>{f=!0}},[t,e,n]),r}function eS({page:t,matches:e,...n}){let r=us(),{manifest:l,routeModules:f}=Z2(),{basename:p}=K2(),{loaderData:v,matches:w}=ZT(),y=B.useMemo(()=>ux(t,e,w,l,r,"data"),[t,e,w,l,r]),T=B.useMemo(()=>ux(t,e,w,l,r,"assets"),[t,e,w,l,r]),_=B.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let P=new Set,D=!1;if(e.forEach(G=>{var H;let q=l.routes[G.route.id];!q||!q.hasLoader||(!y.some(K=>K.route.id===G.route.id)&&G.route.id in v&&((H=f[G.route.id])!=null&&H.shouldRevalidate)||q.hasClientLoader?D=!0:P.add(G.route.id))}),P.size===0)return[];let F=KT(t,p);return D&&P.size>0&&F.searchParams.set("_routes",e.filter(G=>P.has(G.route.id)).map(G=>G.route.id).join(",")),[F.pathname+F.search]},[p,v,r,l,y,e,t,f]),I=B.useMemo(()=>qT(T,l),[T,l]),O=$T(T);return B.createElement(B.Fragment,null,_.map(P=>B.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),I.map(P=>B.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),O.map(({key:P,link:D})=>B.createElement("link",{key:P,...D})))}function tS(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Q2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Q2&&(window.__reactRouterVersion="7.6.1")}catch{}function nS({basename:t,children:e,window:n}){let r=B.useRef();r.current==null&&(r.current=HA({window:n,v5Compat:!0}));let l=r.current,[f,p]=B.useState({action:l.action,location:l.location}),v=B.useCallback(w=>{B.startTransition(()=>p(w))},[p]);return B.useLayoutEffect(()=>l.listen(v),[l,v]),B.createElement(RT,{basename:t,children:e,location:f.location,navigationType:f.action,navigator:l})}var J2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qf=B.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:l,reloadDocument:f,replace:p,state:v,target:w,to:y,preventScrollReset:T,viewTransition:_,...I},O){let{basename:P}=B.useContext(xr),D=typeof y=="string"&&J2.test(y),F,G=!1;if(typeof y=="string"&&D&&(F=y,Q2))try{let ee=new URL(window.location.href),Me=y.startsWith("//")?new URL(ee.protocol+y):new URL(y),Re=xo(Me.pathname,P);Me.origin===ee.origin&&Re!=null?y=Re+Me.search+Me.hash:G=!0}catch{gr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=mT(y,{relative:l}),[H,K,W]=QT(r,I),oe=sS(y,{replace:p,state:v,target:w,preventScrollReset:T,relative:l,viewTransition:_});function Z(ee){e&&e(ee),ee.defaultPrevented||oe(ee)}let ae=B.createElement("a",{...I,...W,href:F||q,onClick:G||f?e:Z,ref:tS(O,K),target:w,"data-discover":!D&&n==="render"?"true":void 0});return H&&!D?B.createElement(B.Fragment,null,ae,B.createElement(JT,{page:q})):ae});qf.displayName="Link";var iS=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:l=!1,style:f,to:p,viewTransition:v,children:w,...y},T){let _=Oc(p,{relative:y.relative}),I=us(),O=B.useContext(Hf),{navigator:P,basename:D}=B.useContext(xr),F=O!=null&&fS(_)&&v===!0,G=P.encodeLocation?P.encodeLocation(_).pathname:_.pathname,q=I.pathname,H=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(q=q.toLowerCase(),H=H?H.toLowerCase():null,G=G.toLowerCase()),H&&D&&(H=xo(H,D)||H);const K=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let W=q===G||!l&&q.startsWith(G)&&q.charAt(K)==="/",oe=H!=null&&(H===G||!l&&H.startsWith(G)&&H.charAt(G.length)==="/"),Z={isActive:W,isPending:oe,isTransitioning:F},ae=W?e:void 0,ee;typeof r=="function"?ee=r(Z):ee=[r,W?"active":null,oe?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let Me=typeof f=="function"?f(Z):f;return B.createElement(qf,{...y,"aria-current":ae,className:ee,ref:T,style:Me,to:p,viewTransition:v},typeof w=="function"?w(Z):w)});iS.displayName="NavLink";var rS=B.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:l,state:f,method:p=df,action:v,onSubmit:w,relative:y,preventScrollReset:T,viewTransition:_,...I},O)=>{let P=cS(),D=uS(v,{relative:y}),F=p.toLowerCase()==="get"?"get":"post",G=typeof v=="string"&&J2.test(v),q=H=>{if(w&&w(H),H.defaultPrevented)return;H.preventDefault();let K=H.nativeEvent.submitter,W=(K==null?void 0:K.getAttribute("formmethod"))||p;P(K||H.currentTarget,{fetcherKey:e,method:W,navigate:n,replace:l,state:f,relative:y,preventScrollReset:T,viewTransition:_})};return B.createElement("form",{ref:O,method:F,action:D,onSubmit:r?w:q,...I,"data-discover":!G&&t==="render"?"true":void 0})});rS.displayName="Form";function oS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $2(t){let e=B.useContext(il);return fn(e,oS(t)),e}function sS(t,{target:e,replace:n,state:r,preventScrollReset:l,relative:f,viewTransition:p}={}){let v=fs(),w=us(),y=Oc(t,{relative:f});return B.useCallback(T=>{if(kT(T,e)){T.preventDefault();let _=n!==void 0?n:Sc(w)===Sc(y);v(t,{replace:_,state:r,preventScrollReset:l,relative:f,viewTransition:p})}},[w,v,y,n,r,e,t,l,f,p])}var aS=0,lS=()=>`__${String(++aS)}__`;function cS(){let{router:t}=$2("useSubmit"),{basename:e}=B.useContext(xr),n=_T();return B.useCallback(async(r,l={})=>{let{action:f,method:p,encType:v,formData:w,body:y}=VT(r,e);if(l.navigate===!1){let T=l.fetcherKey||lS();await t.fetch(T,n,l.action||f,{preventScrollReset:l.preventScrollReset,formData:w,body:y,formMethod:l.method||p,formEncType:l.encType||v,flushSync:l.flushSync})}else await t.navigate(l.action||f,{preventScrollReset:l.preventScrollReset,formData:w,body:y,formMethod:l.method||p,formEncType:l.encType||v,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[t,e,n])}function uS(t,{relative:e}={}){let{basename:n}=B.useContext(xr),r=B.useContext(yr);fn(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),f={...Oc(t||".",{relative:e})},p=us();if(t==null){f.search=p.search;let v=new URLSearchParams(f.search),w=v.getAll("index");if(w.some(T=>T==="")){v.delete("index"),w.filter(_=>_).forEach(_=>v.append("index",_));let T=v.toString();f.search=T?`?${T}`:""}}return(!t||t===".")&&l.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(f.pathname=f.pathname==="/"?n:mo([n,f.pathname])),Sc(f)}function fS(t,e={}){let n=B.useContext(q2);fn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=$2("useViewTransitionState"),l=Oc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let f=xo(n.currentLocation.pathname,r)||n.currentLocation.pathname,p=xo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Nf(l.pathname,p)!=null||Nf(l.pathname,f)!=null}[...jT];var Lc=F2();const dS=m1(Lc);function fx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function hS(...t){return e=>{let n=!1;const r=t.map(l=>{const f=fx(l,e);return!n&&typeof f=="function"&&(n=!0),f});if(n)return()=>{for(let l=0;l<r.length;l++){const f=r[l];typeof f=="function"?f():fx(t[l],null)}}}}function gn(...t){return B.useCallback(hS(...t),t)}function el(t){const e=gS(t),n=B.forwardRef((r,l)=>{const{children:f,...p}=r,v=B.Children.toArray(f),w=v.find(pS);if(w){const y=w.props.children,T=v.map(_=>_===w?B.Children.count(y)>1?B.Children.only(null):B.isValidElement(y)?y.props.children:null:_);return M.jsx(e,{...p,ref:l,children:B.isValidElement(y)?B.cloneElement(y,void 0,T):null})}return M.jsx(e,{...p,ref:l,children:f})});return n.displayName=`${t}.Slot`,n}var eC=el("Slot");function gS(t){const e=B.forwardRef((n,r)=>{const{children:l,...f}=n,p=B.isValidElement(l)?yS(l):void 0,v=gn(p,r);if(B.isValidElement(l)){const w=xS(f,l.props);return l.type!==B.Fragment&&(w.ref=v),B.cloneElement(l,w)}return B.Children.count(l)>1?B.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var mS=Symbol("radix.slottable");function pS(t){return B.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===mS}function xS(t,e){const n={...e};for(const r in e){const l=t[r],f=e[r];/^on[A-Z]/.test(r)?l&&f?n[r]=(...v)=>{const w=f(...v);return l(...v),w}:l&&(n[r]=l):r==="style"?n[r]={...l,...f}:r==="className"&&(n[r]=[l,f].filter(Boolean).join(" "))}return{...t,...n}}function yS(t){var r,l;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(l=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:l.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function tC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var l=t.length;for(e=0;e<l;e++)t[e]&&(n=tC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function nC(){for(var t,e,n=0,r="",l=arguments.length;n<l;n++)(t=arguments[n])&&(e=tC(t))&&(r&&(r+=" "),r+=e);return r}const dx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,hx=nC,T1=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return hx(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:l,defaultVariants:f}=e,p=Object.keys(l).map(y=>{const T=n==null?void 0:n[y],_=f==null?void 0:f[y];if(T===null)return null;const I=dx(T)||dx(_);return l[y][I]}),v=n&&Object.entries(n).reduce((y,T)=>{let[_,I]=T;return I===void 0||(y[_]=I),y},{}),w=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((y,T)=>{let{class:_,className:I,...O}=T;return Object.entries(O).every(P=>{let[D,F]=P;return Array.isArray(F)?F.includes({...f,...v}[D]):{...f,...v}[D]===F})?[...y,_,I]:y},[]);return hx(t,p,w,n==null?void 0:n.class,n==null?void 0:n.className)},S1="-",CS=t=>{const e=ES(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:p=>{const v=p.split(S1);return v[0]===""&&v.length!==1&&v.shift(),iC(v,e)||vS(p)},getConflictingClassGroupIds:(p,v)=>{const w=n[p]||[];return v&&r[p]?[...w,...r[p]]:w}}},iC=(t,e)=>{var p;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),l=r?iC(t.slice(1),r):void 0;if(l)return l;if(e.validators.length===0)return;const f=t.join(S1);return(p=e.validators.find(({validator:v})=>v(f)))==null?void 0:p.classGroupId},gx=/^\[(.+)\]$/,vS=t=>{if(gx.test(t)){const e=gx.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},ES=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const l in n)B0(n[l],r,l,e);return r},B0=(t,e,n,r)=>{t.forEach(l=>{if(typeof l=="string"){const f=l===""?e:mx(e,l);f.classGroupId=n;return}if(typeof l=="function"){if(wS(l)){B0(l(r),e,n,r);return}e.validators.push({validator:l,classGroupId:n});return}Object.entries(l).forEach(([f,p])=>{B0(p,mx(e,f),n,r)})})},mx=(t,e)=>{let n=t;return e.split(S1).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},wS=t=>t.isThemeGetter,AS=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const l=(f,p)=>{n.set(f,p),e++,e>t&&(e=0,r=n,n=new Map)};return{get(f){let p=n.get(f);if(p!==void 0)return p;if((p=r.get(f))!==void 0)return l(f,p),p},set(f,p){n.has(f)?n.set(f,p):l(f,p)}}},k0="!",U0=":",TS=U0.length,SS=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=l=>{const f=[];let p=0,v=0,w=0,y;for(let P=0;P<l.length;P++){let D=l[P];if(p===0&&v===0){if(D===U0){f.push(l.slice(w,P)),w=P+TS;continue}if(D==="/"){y=P;continue}}D==="["?p++:D==="]"?p--:D==="("?v++:D===")"&&v--}const T=f.length===0?l:l.substring(w),_=bS(T),I=_!==T,O=y&&y>w?y-w:void 0;return{modifiers:f,hasImportantModifier:I,baseClassName:_,maybePostfixModifierPosition:O}};if(e){const l=e+U0,f=r;r=p=>p.startsWith(l)?f(p.substring(l.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:p,maybePostfixModifierPosition:void 0}}if(n){const l=r;r=f=>n({className:f,parseClassName:l})}return r},bS=t=>t.endsWith(k0)?t.substring(0,t.length-1):t.startsWith(k0)?t.substring(1):t,_S=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const l=[];let f=[];return r.forEach(p=>{p[0]==="["||e[p]?(l.push(...f.sort(),p),f=[]):f.push(p)}),l.push(...f.sort()),l}},NS=t=>({cache:AS(t.cacheSize),parseClassName:SS(t),sortModifiers:_S(t),...CS(t)}),MS=/\s+/,IS=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:l,sortModifiers:f}=e,p=[],v=t.trim().split(MS);let w="";for(let y=v.length-1;y>=0;y-=1){const T=v[y],{isExternal:_,modifiers:I,hasImportantModifier:O,baseClassName:P,maybePostfixModifierPosition:D}=n(T);if(_){w=T+(w.length>0?" "+w:w);continue}let F=!!D,G=r(F?P.substring(0,D):P);if(!G){if(!F){w=T+(w.length>0?" "+w:w);continue}if(G=r(P),!G){w=T+(w.length>0?" "+w:w);continue}F=!1}const q=f(I).join(":"),H=O?q+k0:q,K=H+G;if(p.includes(K))continue;p.push(K);const W=l(G,F);for(let oe=0;oe<W.length;++oe){const Z=W[oe];p.push(H+Z)}w=T+(w.length>0?" "+w:w)}return w};function RS(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=rC(e))&&(r&&(r+=" "),r+=n);return r}const rC=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=rC(t[r]))&&(n&&(n+=" "),n+=e);return n};function DS(t,...e){let n,r,l,f=p;function p(w){const y=e.reduce((T,_)=>_(T),t());return n=NS(y),r=n.cache.get,l=n.cache.set,f=v,v(w)}function v(w){const y=r(w);if(y)return y;const T=IS(w,n);return l(w,T),T}return function(){return f(RS.apply(null,arguments))}}const Hn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},oC=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,sC=/^\((?:(\w[\w-]*):)?(.+)\)$/i,OS=/^\d+\/\d+$/,LS=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,PS=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,BS=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,kS=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,US=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,za=t=>OS.test(t),gt=t=>!!t&&!Number.isNaN(Number(t)),es=t=>!!t&&Number.isInteger(Number(t)),h0=t=>t.endsWith("%")&&gt(t.slice(0,-1)),fo=t=>LS.test(t),FS=()=>!0,VS=t=>PS.test(t)&&!BS.test(t),aC=()=>!1,zS=t=>kS.test(t),HS=t=>US.test(t),GS=t=>!He(t)&&!Ge(t),qS=t=>ol(t,uC,aC),He=t=>oC.test(t),Vs=t=>ol(t,fC,VS),g0=t=>ol(t,KS,gt),px=t=>ol(t,lC,aC),YS=t=>ol(t,cC,HS),ef=t=>ol(t,dC,zS),Ge=t=>sC.test(t),Cc=t=>sl(t,fC),XS=t=>sl(t,ZS),xx=t=>sl(t,lC),WS=t=>sl(t,uC),jS=t=>sl(t,cC),tf=t=>sl(t,dC,!0),ol=(t,e,n)=>{const r=oC.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},sl=(t,e,n=!1)=>{const r=sC.exec(t);return r?r[1]?e(r[1]):n:!1},lC=t=>t==="position"||t==="percentage",cC=t=>t==="image"||t==="url",uC=t=>t==="length"||t==="size"||t==="bg-size",fC=t=>t==="length",KS=t=>t==="number",ZS=t=>t==="family-name",dC=t=>t==="shadow",QS=()=>{const t=Hn("color"),e=Hn("font"),n=Hn("text"),r=Hn("font-weight"),l=Hn("tracking"),f=Hn("leading"),p=Hn("breakpoint"),v=Hn("container"),w=Hn("spacing"),y=Hn("radius"),T=Hn("shadow"),_=Hn("inset-shadow"),I=Hn("text-shadow"),O=Hn("drop-shadow"),P=Hn("blur"),D=Hn("perspective"),F=Hn("aspect"),G=Hn("ease"),q=Hn("animate"),H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],W=()=>[...K(),Ge,He],oe=()=>["auto","hidden","clip","visible","scroll"],Z=()=>["auto","contain","none"],ae=()=>[Ge,He,w],ee=()=>[za,"full","auto",...ae()],Me=()=>[es,"none","subgrid",Ge,He],Re=()=>["auto",{span:["full",es,Ge,He]},es,Ge,He],Te=()=>[es,"auto",Ge,He],Be=()=>["auto","min","max","fr",Ge,He],qe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],re=()=>["start","end","center","stretch","center-safe","end-safe"],ne=()=>["auto",...ae()],he=()=>[za,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...ae()],ie=()=>[t,Ge,He],De=()=>[...K(),xx,px,{position:[Ge,He]}],j=()=>["no-repeat",{repeat:["","x","y","space","round"]}],xe=()=>["auto","cover","contain",WS,qS,{size:[Ge,He]}],Ee=()=>[h0,Cc,Vs],Se=()=>["","none","full",y,Ge,He],Oe=()=>["",gt,Cc,Vs],tt=()=>["solid","dashed","dotted","double"],be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Pe=()=>[gt,h0,xx,px],ke=()=>["","none",P,Ge,He],Ct=()=>["none",gt,Ge,He],lt=()=>["none",gt,Ge,He],Qe=()=>[gt,Ge,He],st=()=>[za,"full",...ae()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[fo],breakpoint:[fo],color:[FS],container:[fo],"drop-shadow":[fo],ease:["in","out","in-out"],font:[GS],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[fo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[fo],shadow:[fo],spacing:["px",gt],text:[fo],"text-shadow":[fo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",za,He,Ge,F]}],container:["container"],columns:[{columns:[gt,He,Ge,v]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:W()}],overflow:[{overflow:oe()}],"overflow-x":[{"overflow-x":oe()}],"overflow-y":[{"overflow-y":oe()}],overscroll:[{overscroll:Z()}],"overscroll-x":[{"overscroll-x":Z()}],"overscroll-y":[{"overscroll-y":Z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ee()}],"inset-x":[{"inset-x":ee()}],"inset-y":[{"inset-y":ee()}],start:[{start:ee()}],end:[{end:ee()}],top:[{top:ee()}],right:[{right:ee()}],bottom:[{bottom:ee()}],left:[{left:ee()}],visibility:["visible","invisible","collapse"],z:[{z:[es,"auto",Ge,He]}],basis:[{basis:[za,"full","auto",v,...ae()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[gt,za,"auto","initial","none",He]}],grow:[{grow:["",gt,Ge,He]}],shrink:[{shrink:["",gt,Ge,He]}],order:[{order:[es,"first","last","none",Ge,He]}],"grid-cols":[{"grid-cols":Me()}],"col-start-end":[{col:Re()}],"col-start":[{"col-start":Te()}],"col-end":[{"col-end":Te()}],"grid-rows":[{"grid-rows":Me()}],"row-start-end":[{row:Re()}],"row-start":[{"row-start":Te()}],"row-end":[{"row-end":Te()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Be()}],"auto-rows":[{"auto-rows":Be()}],gap:[{gap:ae()}],"gap-x":[{"gap-x":ae()}],"gap-y":[{"gap-y":ae()}],"justify-content":[{justify:[...qe(),"normal"]}],"justify-items":[{"justify-items":[...re(),"normal"]}],"justify-self":[{"justify-self":["auto",...re()]}],"align-content":[{content:["normal",...qe()]}],"align-items":[{items:[...re(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...re(),{baseline:["","last"]}]}],"place-content":[{"place-content":qe()}],"place-items":[{"place-items":[...re(),"baseline"]}],"place-self":[{"place-self":["auto",...re()]}],p:[{p:ae()}],px:[{px:ae()}],py:[{py:ae()}],ps:[{ps:ae()}],pe:[{pe:ae()}],pt:[{pt:ae()}],pr:[{pr:ae()}],pb:[{pb:ae()}],pl:[{pl:ae()}],m:[{m:ne()}],mx:[{mx:ne()}],my:[{my:ne()}],ms:[{ms:ne()}],me:[{me:ne()}],mt:[{mt:ne()}],mr:[{mr:ne()}],mb:[{mb:ne()}],ml:[{ml:ne()}],"space-x":[{"space-x":ae()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":ae()}],"space-y-reverse":["space-y-reverse"],size:[{size:he()}],w:[{w:[v,"screen",...he()]}],"min-w":[{"min-w":[v,"screen","none",...he()]}],"max-w":[{"max-w":[v,"screen","none","prose",{screen:[p]},...he()]}],h:[{h:["screen","lh",...he()]}],"min-h":[{"min-h":["screen","lh","none",...he()]}],"max-h":[{"max-h":["screen","lh",...he()]}],"font-size":[{text:["base",n,Cc,Vs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ge,g0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",h0,He]}],"font-family":[{font:[XS,He,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,Ge,He]}],"line-clamp":[{"line-clamp":[gt,"none",Ge,g0]}],leading:[{leading:[f,...ae()]}],"list-image":[{"list-image":["none",Ge,He]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ge,He]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ie()}],"text-color":[{text:ie()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...tt(),"wavy"]}],"text-decoration-thickness":[{decoration:[gt,"from-font","auto",Ge,Vs]}],"text-decoration-color":[{decoration:ie()}],"underline-offset":[{"underline-offset":[gt,"auto",Ge,He]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:ae()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ge,He]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ge,He]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:De()}],"bg-repeat":[{bg:j()}],"bg-size":[{bg:xe()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},es,Ge,He],radial:["",Ge,He],conic:[es,Ge,He]},jS,YS]}],"bg-color":[{bg:ie()}],"gradient-from-pos":[{from:Ee()}],"gradient-via-pos":[{via:Ee()}],"gradient-to-pos":[{to:Ee()}],"gradient-from":[{from:ie()}],"gradient-via":[{via:ie()}],"gradient-to":[{to:ie()}],rounded:[{rounded:Se()}],"rounded-s":[{"rounded-s":Se()}],"rounded-e":[{"rounded-e":Se()}],"rounded-t":[{"rounded-t":Se()}],"rounded-r":[{"rounded-r":Se()}],"rounded-b":[{"rounded-b":Se()}],"rounded-l":[{"rounded-l":Se()}],"rounded-ss":[{"rounded-ss":Se()}],"rounded-se":[{"rounded-se":Se()}],"rounded-ee":[{"rounded-ee":Se()}],"rounded-es":[{"rounded-es":Se()}],"rounded-tl":[{"rounded-tl":Se()}],"rounded-tr":[{"rounded-tr":Se()}],"rounded-br":[{"rounded-br":Se()}],"rounded-bl":[{"rounded-bl":Se()}],"border-w":[{border:Oe()}],"border-w-x":[{"border-x":Oe()}],"border-w-y":[{"border-y":Oe()}],"border-w-s":[{"border-s":Oe()}],"border-w-e":[{"border-e":Oe()}],"border-w-t":[{"border-t":Oe()}],"border-w-r":[{"border-r":Oe()}],"border-w-b":[{"border-b":Oe()}],"border-w-l":[{"border-l":Oe()}],"divide-x":[{"divide-x":Oe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Oe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...tt(),"hidden","none"]}],"divide-style":[{divide:[...tt(),"hidden","none"]}],"border-color":[{border:ie()}],"border-color-x":[{"border-x":ie()}],"border-color-y":[{"border-y":ie()}],"border-color-s":[{"border-s":ie()}],"border-color-e":[{"border-e":ie()}],"border-color-t":[{"border-t":ie()}],"border-color-r":[{"border-r":ie()}],"border-color-b":[{"border-b":ie()}],"border-color-l":[{"border-l":ie()}],"divide-color":[{divide:ie()}],"outline-style":[{outline:[...tt(),"none","hidden"]}],"outline-offset":[{"outline-offset":[gt,Ge,He]}],"outline-w":[{outline:["",gt,Cc,Vs]}],"outline-color":[{outline:ie()}],shadow:[{shadow:["","none",T,tf,ef]}],"shadow-color":[{shadow:ie()}],"inset-shadow":[{"inset-shadow":["none",_,tf,ef]}],"inset-shadow-color":[{"inset-shadow":ie()}],"ring-w":[{ring:Oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ie()}],"ring-offset-w":[{"ring-offset":[gt,Vs]}],"ring-offset-color":[{"ring-offset":ie()}],"inset-ring-w":[{"inset-ring":Oe()}],"inset-ring-color":[{"inset-ring":ie()}],"text-shadow":[{"text-shadow":["none",I,tf,ef]}],"text-shadow-color":[{"text-shadow":ie()}],opacity:[{opacity:[gt,Ge,He]}],"mix-blend":[{"mix-blend":[...be(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":be()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[gt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Pe()}],"mask-image-linear-to-pos":[{"mask-linear-to":Pe()}],"mask-image-linear-from-color":[{"mask-linear-from":ie()}],"mask-image-linear-to-color":[{"mask-linear-to":ie()}],"mask-image-t-from-pos":[{"mask-t-from":Pe()}],"mask-image-t-to-pos":[{"mask-t-to":Pe()}],"mask-image-t-from-color":[{"mask-t-from":ie()}],"mask-image-t-to-color":[{"mask-t-to":ie()}],"mask-image-r-from-pos":[{"mask-r-from":Pe()}],"mask-image-r-to-pos":[{"mask-r-to":Pe()}],"mask-image-r-from-color":[{"mask-r-from":ie()}],"mask-image-r-to-color":[{"mask-r-to":ie()}],"mask-image-b-from-pos":[{"mask-b-from":Pe()}],"mask-image-b-to-pos":[{"mask-b-to":Pe()}],"mask-image-b-from-color":[{"mask-b-from":ie()}],"mask-image-b-to-color":[{"mask-b-to":ie()}],"mask-image-l-from-pos":[{"mask-l-from":Pe()}],"mask-image-l-to-pos":[{"mask-l-to":Pe()}],"mask-image-l-from-color":[{"mask-l-from":ie()}],"mask-image-l-to-color":[{"mask-l-to":ie()}],"mask-image-x-from-pos":[{"mask-x-from":Pe()}],"mask-image-x-to-pos":[{"mask-x-to":Pe()}],"mask-image-x-from-color":[{"mask-x-from":ie()}],"mask-image-x-to-color":[{"mask-x-to":ie()}],"mask-image-y-from-pos":[{"mask-y-from":Pe()}],"mask-image-y-to-pos":[{"mask-y-to":Pe()}],"mask-image-y-from-color":[{"mask-y-from":ie()}],"mask-image-y-to-color":[{"mask-y-to":ie()}],"mask-image-radial":[{"mask-radial":[Ge,He]}],"mask-image-radial-from-pos":[{"mask-radial-from":Pe()}],"mask-image-radial-to-pos":[{"mask-radial-to":Pe()}],"mask-image-radial-from-color":[{"mask-radial-from":ie()}],"mask-image-radial-to-color":[{"mask-radial-to":ie()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":K()}],"mask-image-conic-pos":[{"mask-conic":[gt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Pe()}],"mask-image-conic-to-pos":[{"mask-conic-to":Pe()}],"mask-image-conic-from-color":[{"mask-conic-from":ie()}],"mask-image-conic-to-color":[{"mask-conic-to":ie()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:De()}],"mask-repeat":[{mask:j()}],"mask-size":[{mask:xe()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ge,He]}],filter:[{filter:["","none",Ge,He]}],blur:[{blur:ke()}],brightness:[{brightness:[gt,Ge,He]}],contrast:[{contrast:[gt,Ge,He]}],"drop-shadow":[{"drop-shadow":["","none",O,tf,ef]}],"drop-shadow-color":[{"drop-shadow":ie()}],grayscale:[{grayscale:["",gt,Ge,He]}],"hue-rotate":[{"hue-rotate":[gt,Ge,He]}],invert:[{invert:["",gt,Ge,He]}],saturate:[{saturate:[gt,Ge,He]}],sepia:[{sepia:["",gt,Ge,He]}],"backdrop-filter":[{"backdrop-filter":["","none",Ge,He]}],"backdrop-blur":[{"backdrop-blur":ke()}],"backdrop-brightness":[{"backdrop-brightness":[gt,Ge,He]}],"backdrop-contrast":[{"backdrop-contrast":[gt,Ge,He]}],"backdrop-grayscale":[{"backdrop-grayscale":["",gt,Ge,He]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[gt,Ge,He]}],"backdrop-invert":[{"backdrop-invert":["",gt,Ge,He]}],"backdrop-opacity":[{"backdrop-opacity":[gt,Ge,He]}],"backdrop-saturate":[{"backdrop-saturate":[gt,Ge,He]}],"backdrop-sepia":[{"backdrop-sepia":["",gt,Ge,He]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":ae()}],"border-spacing-x":[{"border-spacing-x":ae()}],"border-spacing-y":[{"border-spacing-y":ae()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ge,He]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[gt,"initial",Ge,He]}],ease:[{ease:["linear","initial",G,Ge,He]}],delay:[{delay:[gt,Ge,He]}],animate:[{animate:["none",q,Ge,He]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[D,Ge,He]}],"perspective-origin":[{"perspective-origin":W()}],rotate:[{rotate:Ct()}],"rotate-x":[{"rotate-x":Ct()}],"rotate-y":[{"rotate-y":Ct()}],"rotate-z":[{"rotate-z":Ct()}],scale:[{scale:lt()}],"scale-x":[{"scale-x":lt()}],"scale-y":[{"scale-y":lt()}],"scale-z":[{"scale-z":lt()}],"scale-3d":["scale-3d"],skew:[{skew:Qe()}],"skew-x":[{"skew-x":Qe()}],"skew-y":[{"skew-y":Qe()}],transform:[{transform:[Ge,He,"","none","gpu","cpu"]}],"transform-origin":[{origin:W()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:st()}],"translate-x":[{"translate-x":st()}],"translate-y":[{"translate-y":st()}],"translate-z":[{"translate-z":st()}],"translate-none":["translate-none"],accent:[{accent:ie()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ie()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ge,He]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ae()}],"scroll-mx":[{"scroll-mx":ae()}],"scroll-my":[{"scroll-my":ae()}],"scroll-ms":[{"scroll-ms":ae()}],"scroll-me":[{"scroll-me":ae()}],"scroll-mt":[{"scroll-mt":ae()}],"scroll-mr":[{"scroll-mr":ae()}],"scroll-mb":[{"scroll-mb":ae()}],"scroll-ml":[{"scroll-ml":ae()}],"scroll-p":[{"scroll-p":ae()}],"scroll-px":[{"scroll-px":ae()}],"scroll-py":[{"scroll-py":ae()}],"scroll-ps":[{"scroll-ps":ae()}],"scroll-pe":[{"scroll-pe":ae()}],"scroll-pt":[{"scroll-pt":ae()}],"scroll-pr":[{"scroll-pr":ae()}],"scroll-pb":[{"scroll-pb":ae()}],"scroll-pl":[{"scroll-pl":ae()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ge,He]}],fill:[{fill:["none",...ie()]}],"stroke-w":[{stroke:[gt,Cc,Vs,g0]}],stroke:[{stroke:["none",...ie()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},JS=DS(QS);function Jt(...t){return JS(nC(t))}const $S=T1("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Lt({className:t,variant:e,size:n,asChild:r=!1,...l}){const f=r?eC:"button";return M.jsx(f,{"data-slot":"button",className:Jt($S({variant:e,size:n,className:t})),...l})}function En({className:t,type:e,...n}){return M.jsx("input",{type:e,"data-slot":"input",className:Jt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}function tn({className:t,...e}){return M.jsx("div",{"data-slot":"card",className:Jt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function Si({className:t,...e}){return M.jsx("div",{"data-slot":"card-header",className:Jt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function bi({className:t,...e}){return M.jsx("div",{"data-slot":"card-title",className:Jt("leading-none font-semibold",t),...e})}function qi({className:t,...e}){return M.jsx("div",{"data-slot":"card-description",className:Jt("text-muted-foreground text-sm",t),...e})}function an({className:t,...e}){return M.jsx("div",{"data-slot":"card-content",className:Jt("px-6",t),...e})}function St(t,e,{checkForDefaultPrevented:n=!0}={}){return function(l){if(t==null||t(l),n===!1||!l.defaultPrevented)return e==null?void 0:e(l)}}function eb(t,e){const n=B.createContext(e),r=f=>{const{children:p,...v}=f,w=B.useMemo(()=>v,Object.values(v));return M.jsx(n.Provider,{value:w,children:p})};r.displayName=t+"Provider";function l(f){const p=B.useContext(n);if(p)return p;if(e!==void 0)return e;throw new Error(`\`${f}\` must be used within \`${t}\``)}return[r,l]}function al(t,e=[]){let n=[];function r(f,p){const v=B.createContext(p),w=n.length;n=[...n,p];const y=_=>{var G;const{scope:I,children:O,...P}=_,D=((G=I==null?void 0:I[t])==null?void 0:G[w])||v,F=B.useMemo(()=>P,Object.values(P));return M.jsx(D.Provider,{value:F,children:O})};y.displayName=f+"Provider";function T(_,I){var D;const O=((D=I==null?void 0:I[t])==null?void 0:D[w])||v,P=B.useContext(O);if(P)return P;if(p!==void 0)return p;throw new Error(`\`${_}\` must be used within \`${f}\``)}return[y,T]}const l=()=>{const f=n.map(p=>B.createContext(p));return function(v){const w=(v==null?void 0:v[t])||f;return B.useMemo(()=>({[`__scope${t}`]:{...v,[t]:w}}),[v,w])}};return l.scopeName=t,[r,tb(l,...e)]}function tb(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(f){const p=r.reduce((v,{useScope:w,scopeName:y})=>{const _=w(f)[`__scope${y}`];return{...v,..._}},{});return B.useMemo(()=>({[`__scope${e.scopeName}`]:p}),[p])}};return n.scopeName=e.scopeName,n}function hC(t){const e=t+"CollectionProvider",[n,r]=al(e),[l,f]=n(e,{collectionRef:{current:null},itemMap:new Map}),p=D=>{const{scope:F,children:G}=D,q=ns.useRef(null),H=ns.useRef(new Map).current;return M.jsx(l,{scope:F,itemMap:H,collectionRef:q,children:G})};p.displayName=e;const v=t+"CollectionSlot",w=el(v),y=ns.forwardRef((D,F)=>{const{scope:G,children:q}=D,H=f(v,G),K=gn(F,H.collectionRef);return M.jsx(w,{ref:K,children:q})});y.displayName=v;const T=t+"CollectionItemSlot",_="data-radix-collection-item",I=el(T),O=ns.forwardRef((D,F)=>{const{scope:G,children:q,...H}=D,K=ns.useRef(null),W=gn(F,K),oe=f(T,G);return ns.useEffect(()=>(oe.itemMap.set(K,{ref:K,...H}),()=>void oe.itemMap.delete(K))),M.jsx(I,{[_]:"",ref:W,children:q})});O.displayName=T;function P(D){const F=f(t+"CollectionConsumer",D);return ns.useCallback(()=>{const q=F.collectionRef.current;if(!q)return[];const H=Array.from(q.querySelectorAll(`[${_}]`));return Array.from(F.itemMap.values()).sort((oe,Z)=>H.indexOf(oe.ref.current)-H.indexOf(Z.ref.current))},[F.collectionRef,F.itemMap])}return[{Provider:p,Slot:y,ItemSlot:O},P,r]}var di=globalThis!=null&&globalThis.document?B.useLayoutEffect:()=>{},nb=U2[" useId ".trim().toString()]||(()=>{}),ib=0;function os(t){const[e,n]=B.useState(nb());return di(()=>{n(r=>r??String(ib++))},[t]),t||(e?`radix-${e}`:"")}var rb=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Mt=rb.reduce((t,e)=>{const n=el(`Primitive.${e}`),r=B.forwardRef((l,f)=>{const{asChild:p,...v}=l,w=p?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),M.jsx(w,{...v,ref:f})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function ob(t,e){t&&Lc.flushSync(()=>t.dispatchEvent(e))}function ss(t){const e=B.useRef(t);return B.useEffect(()=>{e.current=t}),B.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var sb=U2[" useInsertionEffect ".trim().toString()]||di;function bc({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[l,f,p]=ab({defaultProp:e,onChange:n}),v=t!==void 0,w=v?t:l;{const T=B.useRef(t!==void 0);B.useEffect(()=>{const _=T.current;_!==v&&console.warn(`${r} is changing from ${_?"controlled":"uncontrolled"} to ${v?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),T.current=v},[v,r])}const y=B.useCallback(T=>{var _;if(v){const I=lb(T)?T(t):T;I!==t&&((_=p.current)==null||_.call(p,I))}else f(T)},[v,t,f,p]);return[w,y]}function ab({defaultProp:t,onChange:e}){const[n,r]=B.useState(t),l=B.useRef(n),f=B.useRef(e);return sb(()=>{f.current=e},[e]),B.useEffect(()=>{var p;l.current!==n&&((p=f.current)==null||p.call(f,n),l.current=n)},[n,l]),[n,r,f]}function lb(t){return typeof t=="function"}var cb=B.createContext(void 0);function b1(t){const e=B.useContext(cb);return t||e||"ltr"}var m0="rovingFocusGroup.onEntryFocus",ub={bubbles:!1,cancelable:!0},Pc="RovingFocusGroup",[F0,gC,fb]=hC(Pc),[db,mC]=al(Pc,[fb]),[hb,gb]=db(Pc),pC=B.forwardRef((t,e)=>M.jsx(F0.Provider,{scope:t.__scopeRovingFocusGroup,children:M.jsx(F0.Slot,{scope:t.__scopeRovingFocusGroup,children:M.jsx(mb,{...t,ref:e})})}));pC.displayName=Pc;var mb=B.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:l=!1,dir:f,currentTabStopId:p,defaultCurrentTabStopId:v,onCurrentTabStopIdChange:w,onEntryFocus:y,preventScrollOnEntryFocus:T=!1,..._}=t,I=B.useRef(null),O=gn(e,I),P=b1(f),[D,F]=bc({prop:p,defaultProp:v??null,onChange:w,caller:Pc}),[G,q]=B.useState(!1),H=ss(y),K=gC(n),W=B.useRef(!1),[oe,Z]=B.useState(0);return B.useEffect(()=>{const ae=I.current;if(ae)return ae.addEventListener(m0,H),()=>ae.removeEventListener(m0,H)},[H]),M.jsx(hb,{scope:n,orientation:r,dir:P,loop:l,currentTabStopId:D,onItemFocus:B.useCallback(ae=>F(ae),[F]),onItemShiftTab:B.useCallback(()=>q(!0),[]),onFocusableItemAdd:B.useCallback(()=>Z(ae=>ae+1),[]),onFocusableItemRemove:B.useCallback(()=>Z(ae=>ae-1),[]),children:M.jsx(Mt.div,{tabIndex:G||oe===0?-1:0,"data-orientation":r,..._,ref:O,style:{outline:"none",...t.style},onMouseDown:St(t.onMouseDown,()=>{W.current=!0}),onFocus:St(t.onFocus,ae=>{const ee=!W.current;if(ae.target===ae.currentTarget&&ee&&!G){const Me=new CustomEvent(m0,ub);if(ae.currentTarget.dispatchEvent(Me),!Me.defaultPrevented){const Re=K().filter(ne=>ne.focusable),Te=Re.find(ne=>ne.active),Be=Re.find(ne=>ne.id===D),re=[Te,Be,...Re].filter(Boolean).map(ne=>ne.ref.current);CC(re,T)}}W.current=!1}),onBlur:St(t.onBlur,()=>q(!1))})})}),xC="RovingFocusGroupItem",yC=B.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:l=!1,tabStopId:f,children:p,...v}=t,w=os(),y=f||w,T=gb(xC,n),_=T.currentTabStopId===y,I=gC(n),{onFocusableItemAdd:O,onFocusableItemRemove:P,currentTabStopId:D}=T;return B.useEffect(()=>{if(r)return O(),()=>P()},[r,O,P]),M.jsx(F0.ItemSlot,{scope:n,id:y,focusable:r,active:l,children:M.jsx(Mt.span,{tabIndex:_?0:-1,"data-orientation":T.orientation,...v,ref:e,onMouseDown:St(t.onMouseDown,F=>{r?T.onItemFocus(y):F.preventDefault()}),onFocus:St(t.onFocus,()=>T.onItemFocus(y)),onKeyDown:St(t.onKeyDown,F=>{if(F.key==="Tab"&&F.shiftKey){T.onItemShiftTab();return}if(F.target!==F.currentTarget)return;const G=yb(F,T.orientation,T.dir);if(G!==void 0){if(F.metaKey||F.ctrlKey||F.altKey||F.shiftKey)return;F.preventDefault();let H=I().filter(K=>K.focusable).map(K=>K.ref.current);if(G==="last")H.reverse();else if(G==="prev"||G==="next"){G==="prev"&&H.reverse();const K=H.indexOf(F.currentTarget);H=T.loop?Cb(H,K+1):H.slice(K+1)}setTimeout(()=>CC(H))}}),children:typeof p=="function"?p({isCurrentTabStop:_,hasTabStop:D!=null}):p})})});yC.displayName=xC;var pb={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function xb(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function yb(t,e,n){const r=xb(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return pb[r]}function CC(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Cb(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var vb=pC,Eb=yC;function wb(t,e){return B.useReducer((n,r)=>e[n][r]??n,t)}var Bc=t=>{const{present:e,children:n}=t,r=Ab(e),l=typeof n=="function"?n({present:r.isPresent}):B.Children.only(n),f=gn(r.ref,Tb(l));return typeof n=="function"||r.isPresent?B.cloneElement(l,{ref:f}):null};Bc.displayName="Presence";function Ab(t){const[e,n]=B.useState(),r=B.useRef(null),l=B.useRef(t),f=B.useRef("none"),p=t?"mounted":"unmounted",[v,w]=wb(p,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return B.useEffect(()=>{const y=nf(r.current);f.current=v==="mounted"?y:"none"},[v]),di(()=>{const y=r.current,T=l.current;if(T!==t){const I=f.current,O=nf(y);t?w("MOUNT"):O==="none"||(y==null?void 0:y.display)==="none"?w("UNMOUNT"):w(T&&I!==O?"ANIMATION_OUT":"UNMOUNT"),l.current=t}},[t,w]),di(()=>{if(e){let y;const T=e.ownerDocument.defaultView??window,_=O=>{const D=nf(r.current).includes(O.animationName);if(O.target===e&&D&&(w("ANIMATION_END"),!l.current)){const F=e.style.animationFillMode;e.style.animationFillMode="forwards",y=T.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=F)})}},I=O=>{O.target===e&&(f.current=nf(r.current))};return e.addEventListener("animationstart",I),e.addEventListener("animationcancel",_),e.addEventListener("animationend",_),()=>{T.clearTimeout(y),e.removeEventListener("animationstart",I),e.removeEventListener("animationcancel",_),e.removeEventListener("animationend",_)}}else w("ANIMATION_END")},[e,w]),{isPresent:["mounted","unmountSuspended"].includes(v),ref:B.useCallback(y=>{r.current=y?getComputedStyle(y):null,n(y)},[])}}function nf(t){return(t==null?void 0:t.animationName)||"none"}function Tb(t){var r,l;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(l=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:l.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Yf="Tabs",[Sb,_P]=al(Yf,[mC]),vC=mC(),[bb,_1]=Sb(Yf),EC=B.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:l,defaultValue:f,orientation:p="horizontal",dir:v,activationMode:w="automatic",...y}=t,T=b1(v),[_,I]=bc({prop:r,onChange:l,defaultProp:f??"",caller:Yf});return M.jsx(bb,{scope:n,baseId:os(),value:_,onValueChange:I,orientation:p,dir:T,activationMode:w,children:M.jsx(Mt.div,{dir:T,"data-orientation":p,...y,ref:e})})});EC.displayName=Yf;var wC="TabsList",AC=B.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...l}=t,f=_1(wC,n),p=vC(n);return M.jsx(vb,{asChild:!0,...p,orientation:f.orientation,dir:f.dir,loop:r,children:M.jsx(Mt.div,{role:"tablist","aria-orientation":f.orientation,...l,ref:e})})});AC.displayName=wC;var TC="TabsTrigger",SC=B.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:l=!1,...f}=t,p=_1(TC,n),v=vC(n),w=NC(p.baseId,r),y=MC(p.baseId,r),T=r===p.value;return M.jsx(Eb,{asChild:!0,...v,focusable:!l,active:T,children:M.jsx(Mt.button,{type:"button",role:"tab","aria-selected":T,"aria-controls":y,"data-state":T?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:w,...f,ref:e,onMouseDown:St(t.onMouseDown,_=>{!l&&_.button===0&&_.ctrlKey===!1?p.onValueChange(r):_.preventDefault()}),onKeyDown:St(t.onKeyDown,_=>{[" ","Enter"].includes(_.key)&&p.onValueChange(r)}),onFocus:St(t.onFocus,()=>{const _=p.activationMode!=="manual";!T&&!l&&_&&p.onValueChange(r)})})})});SC.displayName=TC;var bC="TabsContent",_C=B.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:l,children:f,...p}=t,v=_1(bC,n),w=NC(v.baseId,r),y=MC(v.baseId,r),T=r===v.value,_=B.useRef(T);return B.useEffect(()=>{const I=requestAnimationFrame(()=>_.current=!1);return()=>cancelAnimationFrame(I)},[]),M.jsx(Bc,{present:l||T,children:({present:I})=>M.jsx(Mt.div,{"data-state":T?"active":"inactive","data-orientation":v.orientation,role:"tabpanel","aria-labelledby":w,hidden:!I,id:y,tabIndex:0,...p,ref:e,style:{...t.style,animationDuration:_.current?"0s":void 0},children:I&&f})})});_C.displayName=bC;function NC(t,e){return`${t}-trigger-${e}`}function MC(t,e){return`${t}-content-${e}`}var _b=EC,Nb=AC,Mb=SC,Ib=_C;function ll({className:t,...e}){return M.jsx(_b,{"data-slot":"tabs",className:Jt("flex flex-col gap-2",t),...e})}function cl({className:t,...e}){return M.jsx(Nb,{"data-slot":"tabs-list",className:Jt("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...e})}function pi({className:t,...e}){return M.jsx(Mb,{"data-slot":"tabs-trigger",className:Jt("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function xi({className:t,...e}){return M.jsx(Ib,{"data-slot":"tabs-content",className:Jt("flex-1 outline-none",t),...e})}const Rb=T1("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Yi({className:t,variant:e,...n}){return M.jsx("div",{"data-slot":"alert",role:"alert",className:Jt(Rb({variant:e}),t),...n})}function Xi({className:t,...e}){return M.jsx("div",{"data-slot":"alert-description",className:Jt("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ob=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),yx=t=>{const e=Ob(t);return e.charAt(0).toUpperCase()+e.slice(1)},IC=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Lb=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=B.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:f,iconNode:p,...v},w)=>B.createElement("svg",{ref:w,...Pb,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:IC("lucide",l),...!f&&!Lb(v)&&{"aria-hidden":"true"},...v},[...p.map(([y,T])=>B.createElement(y,T)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=(t,e)=>{const n=B.forwardRef(({className:r,...l},f)=>B.createElement(Bb,{ref:f,iconNode:e,className:IC(`lucide-${Db(yx(t))}`,`lucide-${t}`,r),...l}));return n.displayName=yx(t),n};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],RC=qt("activity",kb);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],DC=qt("arrow-left",Ub);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Cx=qt("book-open",Fb);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]],zb=qt("bookmark-check",Vb);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],gf=qt("bookmark",Hb);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],Mf=qt("building",Gb);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Yb=qt("calendar",qb);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Wb=qt("camera",Xb);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],vx=qt("chart-column",jb);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Zb=qt("check",Kb);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],OC=qt("chevron-down",Qb);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],$b=qt("chevron-up",Jb);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],t3=qt("circle-check-big",e3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],i3=qt("download",n3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],_c=qt("dumbbell",r3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],s3=qt("globe",o3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],l3=qt("heart",a3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],p0=qt("history",c3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],LC=qt("log-out",u3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Ex=qt("play",f3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],wx=qt("plus",d3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Gs=qt("qr-code",h3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],x0=qt("shield",g3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ax=qt("square-pen",m3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],x3=qt("trash-2",p3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],C3=qt("trending-up",y3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],PC=qt("user",v3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],w3=qt("users",E3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],T3=qt("x",A3);function BC(t,e){return function(){return t.apply(e,arguments)}}const{toString:S3}=Object.prototype,{getPrototypeOf:N1}=Object,{iterator:Xf,toStringTag:kC}=Symbol,Wf=(t=>e=>{const n=S3.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Cr=t=>(t=t.toLowerCase(),e=>Wf(e)===t),jf=t=>e=>typeof e===t,{isArray:ul}=Array,Nc=jf("undefined");function b3(t){return t!==null&&!Nc(t)&&t.constructor!==null&&!Nc(t.constructor)&&_i(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const UC=Cr("ArrayBuffer");function _3(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&UC(t.buffer),e}const N3=jf("string"),_i=jf("function"),FC=jf("number"),Kf=t=>t!==null&&typeof t=="object",M3=t=>t===!0||t===!1,mf=t=>{if(Wf(t)!=="object")return!1;const e=N1(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(kC in t)&&!(Xf in t)},I3=Cr("Date"),R3=Cr("File"),D3=Cr("Blob"),O3=Cr("FileList"),L3=t=>Kf(t)&&_i(t.pipe),P3=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||_i(t.append)&&((e=Wf(t))==="formdata"||e==="object"&&_i(t.toString)&&t.toString()==="[object FormData]"))},B3=Cr("URLSearchParams"),[k3,U3,F3,V3]=["ReadableStream","Request","Response","Headers"].map(Cr),z3=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function kc(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,l;if(typeof t!="object"&&(t=[t]),ul(t))for(r=0,l=t.length;r<l;r++)e.call(null,t[r],r,t);else{const f=n?Object.getOwnPropertyNames(t):Object.keys(t),p=f.length;let v;for(r=0;r<p;r++)v=f[r],e.call(null,t[v],v,t)}}function VC(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,l;for(;r-- >0;)if(l=n[r],e===l.toLowerCase())return l;return null}const qs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,zC=t=>!Nc(t)&&t!==qs;function V0(){const{caseless:t}=zC(this)&&this||{},e={},n=(r,l)=>{const f=t&&VC(e,l)||l;mf(e[f])&&mf(r)?e[f]=V0(e[f],r):mf(r)?e[f]=V0({},r):ul(r)?e[f]=r.slice():e[f]=r};for(let r=0,l=arguments.length;r<l;r++)arguments[r]&&kc(arguments[r],n);return e}const H3=(t,e,n,{allOwnKeys:r}={})=>(kc(e,(l,f)=>{n&&_i(l)?t[f]=BC(l,n):t[f]=l},{allOwnKeys:r}),t),G3=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),q3=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Y3=(t,e,n,r)=>{let l,f,p;const v={};if(e=e||{},t==null)return e;do{for(l=Object.getOwnPropertyNames(t),f=l.length;f-- >0;)p=l[f],(!r||r(p,t,e))&&!v[p]&&(e[p]=t[p],v[p]=!0);t=n!==!1&&N1(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},X3=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},W3=t=>{if(!t)return null;if(ul(t))return t;let e=t.length;if(!FC(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},j3=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&N1(Uint8Array)),K3=(t,e)=>{const r=(t&&t[Xf]).call(t);let l;for(;(l=r.next())&&!l.done;){const f=l.value;e.call(t,f[0],f[1])}},Z3=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Q3=Cr("HTMLFormElement"),J3=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,l){return r.toUpperCase()+l}),Tx=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),$3=Cr("RegExp"),HC=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};kc(n,(l,f)=>{let p;(p=e(l,f,t))!==!1&&(r[f]=p||l)}),Object.defineProperties(t,r)},e_=t=>{HC(t,(e,n)=>{if(_i(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(_i(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},t_=(t,e)=>{const n={},r=l=>{l.forEach(f=>{n[f]=!0})};return ul(t)?r(t):r(String(t).split(e)),n},n_=()=>{},i_=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function r_(t){return!!(t&&_i(t.append)&&t[kC]==="FormData"&&t[Xf])}const o_=t=>{const e=new Array(10),n=(r,l)=>{if(Kf(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[l]=r;const f=ul(r)?[]:{};return kc(r,(p,v)=>{const w=n(p,l+1);!Nc(w)&&(f[v]=w)}),e[l]=void 0,f}}return r};return n(t,0)},s_=Cr("AsyncFunction"),a_=t=>t&&(Kf(t)||_i(t))&&_i(t.then)&&_i(t.catch),GC=((t,e)=>t?setImmediate:e?((n,r)=>(qs.addEventListener("message",({source:l,data:f})=>{l===qs&&f===n&&r.length&&r.shift()()},!1),l=>{r.push(l),qs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",_i(qs.postMessage)),l_=typeof queueMicrotask<"u"?queueMicrotask.bind(qs):typeof process<"u"&&process.nextTick||GC,c_=t=>t!=null&&_i(t[Xf]),ye={isArray:ul,isArrayBuffer:UC,isBuffer:b3,isFormData:P3,isArrayBufferView:_3,isString:N3,isNumber:FC,isBoolean:M3,isObject:Kf,isPlainObject:mf,isReadableStream:k3,isRequest:U3,isResponse:F3,isHeaders:V3,isUndefined:Nc,isDate:I3,isFile:R3,isBlob:D3,isRegExp:$3,isFunction:_i,isStream:L3,isURLSearchParams:B3,isTypedArray:j3,isFileList:O3,forEach:kc,merge:V0,extend:H3,trim:z3,stripBOM:G3,inherits:q3,toFlatObject:Y3,kindOf:Wf,kindOfTest:Cr,endsWith:X3,toArray:W3,forEachEntry:K3,matchAll:Z3,isHTMLForm:Q3,hasOwnProperty:Tx,hasOwnProp:Tx,reduceDescriptors:HC,freezeMethods:e_,toObjectSet:t_,toCamelCase:J3,noop:n_,toFiniteNumber:i_,findKey:VC,global:qs,isContextDefined:zC,isSpecCompliantForm:r_,toJSONObject:o_,isAsyncFn:s_,isThenable:a_,setImmediate:GC,asap:l_,isIterable:c_};function at(t,e,n,r,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),l&&(this.response=l,this.status=l.status?l.status:null)}ye.inherits(at,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ye.toJSONObject(this.config),code:this.code,status:this.status}}});const qC=at.prototype,YC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{YC[t]={value:t}});Object.defineProperties(at,YC);Object.defineProperty(qC,"isAxiosError",{value:!0});at.from=(t,e,n,r,l,f)=>{const p=Object.create(qC);return ye.toFlatObject(t,p,function(w){return w!==Error.prototype},v=>v!=="isAxiosError"),at.call(p,t.message,e,n,r,l),p.cause=t,p.name=t.name,f&&Object.assign(p,f),p};const u_=null;function z0(t){return ye.isPlainObject(t)||ye.isArray(t)}function XC(t){return ye.endsWith(t,"[]")?t.slice(0,-2):t}function Sx(t,e,n){return t?t.concat(e).map(function(l,f){return l=XC(l),!n&&f?"["+l+"]":l}).join(n?".":""):e}function f_(t){return ye.isArray(t)&&!t.some(z0)}const d_=ye.toFlatObject(ye,{},null,function(e){return/^is[A-Z]/.test(e)});function Zf(t,e,n){if(!ye.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ye.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(D,F){return!ye.isUndefined(F[D])});const r=n.metaTokens,l=n.visitor||T,f=n.dots,p=n.indexes,w=(n.Blob||typeof Blob<"u"&&Blob)&&ye.isSpecCompliantForm(e);if(!ye.isFunction(l))throw new TypeError("visitor must be a function");function y(P){if(P===null)return"";if(ye.isDate(P))return P.toISOString();if(ye.isBoolean(P))return P.toString();if(!w&&ye.isBlob(P))throw new at("Blob is not supported. Use a Buffer instead.");return ye.isArrayBuffer(P)||ye.isTypedArray(P)?w&&typeof Blob=="function"?new Blob([P]):Buffer.from(P):P}function T(P,D,F){let G=P;if(P&&!F&&typeof P=="object"){if(ye.endsWith(D,"{}"))D=r?D:D.slice(0,-2),P=JSON.stringify(P);else if(ye.isArray(P)&&f_(P)||(ye.isFileList(P)||ye.endsWith(D,"[]"))&&(G=ye.toArray(P)))return D=XC(D),G.forEach(function(H,K){!(ye.isUndefined(H)||H===null)&&e.append(p===!0?Sx([D],K,f):p===null?D:D+"[]",y(H))}),!1}return z0(P)?!0:(e.append(Sx(F,D,f),y(P)),!1)}const _=[],I=Object.assign(d_,{defaultVisitor:T,convertValue:y,isVisitable:z0});function O(P,D){if(!ye.isUndefined(P)){if(_.indexOf(P)!==-1)throw Error("Circular reference detected in "+D.join("."));_.push(P),ye.forEach(P,function(G,q){(!(ye.isUndefined(G)||G===null)&&l.call(e,G,ye.isString(q)?q.trim():q,D,I))===!0&&O(G,D?D.concat(q):[q])}),_.pop()}}if(!ye.isObject(t))throw new TypeError("data must be an object");return O(t),e}function bx(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function M1(t,e){this._pairs=[],t&&Zf(t,this,e)}const WC=M1.prototype;WC.append=function(e,n){this._pairs.push([e,n])};WC.toString=function(e){const n=e?function(r){return e.call(this,r,bx)}:bx;return this._pairs.map(function(l){return n(l[0])+"="+n(l[1])},"").join("&")};function h_(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function jC(t,e,n){if(!e)return t;const r=n&&n.encode||h_;ye.isFunction(n)&&(n={serialize:n});const l=n&&n.serialize;let f;if(l?f=l(e,n):f=ye.isURLSearchParams(e)?e.toString():new M1(e,n).toString(r),f){const p=t.indexOf("#");p!==-1&&(t=t.slice(0,p)),t+=(t.indexOf("?")===-1?"?":"&")+f}return t}class _x{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ye.forEach(this.handlers,function(r){r!==null&&e(r)})}}const KC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},g_=typeof URLSearchParams<"u"?URLSearchParams:M1,m_=typeof FormData<"u"?FormData:null,p_=typeof Blob<"u"?Blob:null,x_={isBrowser:!0,classes:{URLSearchParams:g_,FormData:m_,Blob:p_},protocols:["http","https","file","blob","url","data"]},I1=typeof window<"u"&&typeof document<"u",H0=typeof navigator=="object"&&navigator||void 0,y_=I1&&(!H0||["ReactNative","NativeScript","NS"].indexOf(H0.product)<0),C_=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",v_=I1&&window.location.href||"http://localhost",E_=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:I1,hasStandardBrowserEnv:y_,hasStandardBrowserWebWorkerEnv:C_,navigator:H0,origin:v_},Symbol.toStringTag,{value:"Module"})),ui={...E_,...x_};function w_(t,e){return Zf(t,new ui.classes.URLSearchParams,Object.assign({visitor:function(n,r,l,f){return ui.isNode&&ye.isBuffer(n)?(this.append(r,n.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)}},e))}function A_(t){return ye.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function T_(t){const e={},n=Object.keys(t);let r;const l=n.length;let f;for(r=0;r<l;r++)f=n[r],e[f]=t[f];return e}function ZC(t){function e(n,r,l,f){let p=n[f++];if(p==="__proto__")return!0;const v=Number.isFinite(+p),w=f>=n.length;return p=!p&&ye.isArray(l)?l.length:p,w?(ye.hasOwnProp(l,p)?l[p]=[l[p],r]:l[p]=r,!v):((!l[p]||!ye.isObject(l[p]))&&(l[p]=[]),e(n,r,l[p],f)&&ye.isArray(l[p])&&(l[p]=T_(l[p])),!v)}if(ye.isFormData(t)&&ye.isFunction(t.entries)){const n={};return ye.forEachEntry(t,(r,l)=>{e(A_(r),l,n,0)}),n}return null}function S_(t,e,n){if(ye.isString(t))try{return(e||JSON.parse)(t),ye.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Uc={transitional:KC,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",l=r.indexOf("application/json")>-1,f=ye.isObject(e);if(f&&ye.isHTMLForm(e)&&(e=new FormData(e)),ye.isFormData(e))return l?JSON.stringify(ZC(e)):e;if(ye.isArrayBuffer(e)||ye.isBuffer(e)||ye.isStream(e)||ye.isFile(e)||ye.isBlob(e)||ye.isReadableStream(e))return e;if(ye.isArrayBufferView(e))return e.buffer;if(ye.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let v;if(f){if(r.indexOf("application/x-www-form-urlencoded")>-1)return w_(e,this.formSerializer).toString();if((v=ye.isFileList(e))||r.indexOf("multipart/form-data")>-1){const w=this.env&&this.env.FormData;return Zf(v?{"files[]":e}:e,w&&new w,this.formSerializer)}}return f||l?(n.setContentType("application/json",!1),S_(e)):e}],transformResponse:[function(e){const n=this.transitional||Uc.transitional,r=n&&n.forcedJSONParsing,l=this.responseType==="json";if(ye.isResponse(e)||ye.isReadableStream(e))return e;if(e&&ye.isString(e)&&(r&&!this.responseType||l)){const p=!(n&&n.silentJSONParsing)&&l;try{return JSON.parse(e)}catch(v){if(p)throw v.name==="SyntaxError"?at.from(v,at.ERR_BAD_RESPONSE,this,null,this.response):v}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ui.classes.FormData,Blob:ui.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ye.forEach(["delete","get","head","post","put","patch"],t=>{Uc.headers[t]={}});const b_=ye.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),__=t=>{const e={};let n,r,l;return t&&t.split(`
`).forEach(function(p){l=p.indexOf(":"),n=p.substring(0,l).trim().toLowerCase(),r=p.substring(l+1).trim(),!(!n||e[n]&&b_[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Nx=Symbol("internals");function vc(t){return t&&String(t).trim().toLowerCase()}function pf(t){return t===!1||t==null?t:ye.isArray(t)?t.map(pf):String(t)}function N_(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const M_=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function y0(t,e,n,r,l){if(ye.isFunction(r))return r.call(this,e,n);if(l&&(e=n),!!ye.isString(e)){if(ye.isString(r))return e.indexOf(r)!==-1;if(ye.isRegExp(r))return r.test(e)}}function I_(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function R_(t,e){const n=ye.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(l,f,p){return this[r].call(this,e,l,f,p)},configurable:!0})})}let Ni=class{constructor(e){e&&this.set(e)}set(e,n,r){const l=this;function f(v,w,y){const T=vc(w);if(!T)throw new Error("header name must be a non-empty string");const _=ye.findKey(l,T);(!_||l[_]===void 0||y===!0||y===void 0&&l[_]!==!1)&&(l[_||w]=pf(v))}const p=(v,w)=>ye.forEach(v,(y,T)=>f(y,T,w));if(ye.isPlainObject(e)||e instanceof this.constructor)p(e,n);else if(ye.isString(e)&&(e=e.trim())&&!M_(e))p(__(e),n);else if(ye.isObject(e)&&ye.isIterable(e)){let v={},w,y;for(const T of e){if(!ye.isArray(T))throw TypeError("Object iterator must return a key-value pair");v[y=T[0]]=(w=v[y])?ye.isArray(w)?[...w,T[1]]:[w,T[1]]:T[1]}p(v,n)}else e!=null&&f(n,e,r);return this}get(e,n){if(e=vc(e),e){const r=ye.findKey(this,e);if(r){const l=this[r];if(!n)return l;if(n===!0)return N_(l);if(ye.isFunction(n))return n.call(this,l,r);if(ye.isRegExp(n))return n.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=vc(e),e){const r=ye.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||y0(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let l=!1;function f(p){if(p=vc(p),p){const v=ye.findKey(r,p);v&&(!n||y0(r,r[v],v,n))&&(delete r[v],l=!0)}}return ye.isArray(e)?e.forEach(f):f(e),l}clear(e){const n=Object.keys(this);let r=n.length,l=!1;for(;r--;){const f=n[r];(!e||y0(this,this[f],f,e,!0))&&(delete this[f],l=!0)}return l}normalize(e){const n=this,r={};return ye.forEach(this,(l,f)=>{const p=ye.findKey(r,f);if(p){n[p]=pf(l),delete n[f];return}const v=e?I_(f):String(f).trim();v!==f&&delete n[f],n[v]=pf(l),r[v]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ye.forEach(this,(r,l)=>{r!=null&&r!==!1&&(n[l]=e&&ye.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(l=>r.set(l)),r}static accessor(e){const r=(this[Nx]=this[Nx]={accessors:{}}).accessors,l=this.prototype;function f(p){const v=vc(p);r[v]||(R_(l,p),r[v]=!0)}return ye.isArray(e)?e.forEach(f):f(e),this}};Ni.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ye.reduceDescriptors(Ni.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ye.freezeMethods(Ni);function C0(t,e){const n=this||Uc,r=e||n,l=Ni.from(r.headers);let f=r.data;return ye.forEach(t,function(v){f=v.call(n,f,l.normalize(),e?e.status:void 0)}),l.normalize(),f}function QC(t){return!!(t&&t.__CANCEL__)}function fl(t,e,n){at.call(this,t??"canceled",at.ERR_CANCELED,e,n),this.name="CanceledError"}ye.inherits(fl,at,{__CANCEL__:!0});function JC(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new at("Request failed with status code "+n.status,[at.ERR_BAD_REQUEST,at.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function D_(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function O_(t,e){t=t||10;const n=new Array(t),r=new Array(t);let l=0,f=0,p;return e=e!==void 0?e:1e3,function(w){const y=Date.now(),T=r[f];p||(p=y),n[l]=w,r[l]=y;let _=f,I=0;for(;_!==l;)I+=n[_++],_=_%t;if(l=(l+1)%t,l===f&&(f=(f+1)%t),y-p<e)return;const O=T&&y-T;return O?Math.round(I*1e3/O):void 0}}function L_(t,e){let n=0,r=1e3/e,l,f;const p=(y,T=Date.now())=>{n=T,l=null,f&&(clearTimeout(f),f=null),t.apply(null,y)};return[(...y)=>{const T=Date.now(),_=T-n;_>=r?p(y,T):(l=y,f||(f=setTimeout(()=>{f=null,p(l)},r-_)))},()=>l&&p(l)]}const If=(t,e,n=3)=>{let r=0;const l=O_(50,250);return L_(f=>{const p=f.loaded,v=f.lengthComputable?f.total:void 0,w=p-r,y=l(w),T=p<=v;r=p;const _={loaded:p,total:v,progress:v?p/v:void 0,bytes:w,rate:y||void 0,estimated:y&&v&&T?(v-p)/y:void 0,event:f,lengthComputable:v!=null,[e?"download":"upload"]:!0};t(_)},n)},Mx=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Ix=t=>(...e)=>ye.asap(()=>t(...e)),P_=ui.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,ui.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(ui.origin),ui.navigator&&/(msie|trident)/i.test(ui.navigator.userAgent)):()=>!0,B_=ui.hasStandardBrowserEnv?{write(t,e,n,r,l,f){const p=[t+"="+encodeURIComponent(e)];ye.isNumber(n)&&p.push("expires="+new Date(n).toGMTString()),ye.isString(r)&&p.push("path="+r),ye.isString(l)&&p.push("domain="+l),f===!0&&p.push("secure"),document.cookie=p.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function k_(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function U_(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function $C(t,e,n){let r=!k_(e);return t&&(r||n==!1)?U_(t,e):e}const Rx=t=>t instanceof Ni?{...t}:t;function Xs(t,e){e=e||{};const n={};function r(y,T,_,I){return ye.isPlainObject(y)&&ye.isPlainObject(T)?ye.merge.call({caseless:I},y,T):ye.isPlainObject(T)?ye.merge({},T):ye.isArray(T)?T.slice():T}function l(y,T,_,I){if(ye.isUndefined(T)){if(!ye.isUndefined(y))return r(void 0,y,_,I)}else return r(y,T,_,I)}function f(y,T){if(!ye.isUndefined(T))return r(void 0,T)}function p(y,T){if(ye.isUndefined(T)){if(!ye.isUndefined(y))return r(void 0,y)}else return r(void 0,T)}function v(y,T,_){if(_ in e)return r(y,T);if(_ in t)return r(void 0,y)}const w={url:f,method:f,data:f,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,withXSRFToken:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,beforeRedirect:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:v,headers:(y,T,_)=>l(Rx(y),Rx(T),_,!0)};return ye.forEach(Object.keys(Object.assign({},t,e)),function(T){const _=w[T]||l,I=_(t[T],e[T],T);ye.isUndefined(I)&&_!==v||(n[T]=I)}),n}const ev=t=>{const e=Xs({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:l,xsrfCookieName:f,headers:p,auth:v}=e;e.headers=p=Ni.from(p),e.url=jC($C(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),v&&p.set("Authorization","Basic "+btoa((v.username||"")+":"+(v.password?unescape(encodeURIComponent(v.password)):"")));let w;if(ye.isFormData(n)){if(ui.hasStandardBrowserEnv||ui.hasStandardBrowserWebWorkerEnv)p.setContentType(void 0);else if((w=p.getContentType())!==!1){const[y,...T]=w?w.split(";").map(_=>_.trim()).filter(Boolean):[];p.setContentType([y||"multipart/form-data",...T].join("; "))}}if(ui.hasStandardBrowserEnv&&(r&&ye.isFunction(r)&&(r=r(e)),r||r!==!1&&P_(e.url))){const y=l&&f&&B_.read(f);y&&p.set(l,y)}return e},F_=typeof XMLHttpRequest<"u",V_=F_&&function(t){return new Promise(function(n,r){const l=ev(t);let f=l.data;const p=Ni.from(l.headers).normalize();let{responseType:v,onUploadProgress:w,onDownloadProgress:y}=l,T,_,I,O,P;function D(){O&&O(),P&&P(),l.cancelToken&&l.cancelToken.unsubscribe(T),l.signal&&l.signal.removeEventListener("abort",T)}let F=new XMLHttpRequest;F.open(l.method.toUpperCase(),l.url,!0),F.timeout=l.timeout;function G(){if(!F)return;const H=Ni.from("getAllResponseHeaders"in F&&F.getAllResponseHeaders()),W={data:!v||v==="text"||v==="json"?F.responseText:F.response,status:F.status,statusText:F.statusText,headers:H,config:t,request:F};JC(function(Z){n(Z),D()},function(Z){r(Z),D()},W),F=null}"onloadend"in F?F.onloadend=G:F.onreadystatechange=function(){!F||F.readyState!==4||F.status===0&&!(F.responseURL&&F.responseURL.indexOf("file:")===0)||setTimeout(G)},F.onabort=function(){F&&(r(new at("Request aborted",at.ECONNABORTED,t,F)),F=null)},F.onerror=function(){r(new at("Network Error",at.ERR_NETWORK,t,F)),F=null},F.ontimeout=function(){let K=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const W=l.transitional||KC;l.timeoutErrorMessage&&(K=l.timeoutErrorMessage),r(new at(K,W.clarifyTimeoutError?at.ETIMEDOUT:at.ECONNABORTED,t,F)),F=null},f===void 0&&p.setContentType(null),"setRequestHeader"in F&&ye.forEach(p.toJSON(),function(K,W){F.setRequestHeader(W,K)}),ye.isUndefined(l.withCredentials)||(F.withCredentials=!!l.withCredentials),v&&v!=="json"&&(F.responseType=l.responseType),y&&([I,P]=If(y,!0),F.addEventListener("progress",I)),w&&F.upload&&([_,O]=If(w),F.upload.addEventListener("progress",_),F.upload.addEventListener("loadend",O)),(l.cancelToken||l.signal)&&(T=H=>{F&&(r(!H||H.type?new fl(null,t,F):H),F.abort(),F=null)},l.cancelToken&&l.cancelToken.subscribe(T),l.signal&&(l.signal.aborted?T():l.signal.addEventListener("abort",T)));const q=D_(l.url);if(q&&ui.protocols.indexOf(q)===-1){r(new at("Unsupported protocol "+q+":",at.ERR_BAD_REQUEST,t));return}F.send(f||null)})},z_=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,l;const f=function(y){if(!l){l=!0,v();const T=y instanceof Error?y:this.reason;r.abort(T instanceof at?T:new fl(T instanceof Error?T.message:T))}};let p=e&&setTimeout(()=>{p=null,f(new at(`timeout ${e} of ms exceeded`,at.ETIMEDOUT))},e);const v=()=>{t&&(p&&clearTimeout(p),p=null,t.forEach(y=>{y.unsubscribe?y.unsubscribe(f):y.removeEventListener("abort",f)}),t=null)};t.forEach(y=>y.addEventListener("abort",f));const{signal:w}=r;return w.unsubscribe=()=>ye.asap(v),w}},H_=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,l;for(;r<n;)l=r+e,yield t.slice(r,l),r=l},G_=async function*(t,e){for await(const n of q_(t))yield*H_(n,e)},q_=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},Dx=(t,e,n,r)=>{const l=G_(t,e);let f=0,p,v=w=>{p||(p=!0,r&&r(w))};return new ReadableStream({async pull(w){try{const{done:y,value:T}=await l.next();if(y){v(),w.close();return}let _=T.byteLength;if(n){let I=f+=_;n(I)}w.enqueue(new Uint8Array(T))}catch(y){throw v(y),y}},cancel(w){return v(w),l.return()}},{highWaterMark:2})},Qf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",tv=Qf&&typeof ReadableStream=="function",Y_=Qf&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),nv=(t,...e)=>{try{return!!t(...e)}catch{return!1}},X_=tv&&nv(()=>{let t=!1;const e=new Request(ui.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Ox=64*1024,G0=tv&&nv(()=>ye.isReadableStream(new Response("").body)),Rf={stream:G0&&(t=>t.body)};Qf&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Rf[e]&&(Rf[e]=ye.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new at(`Response type '${e}' is not supported`,at.ERR_NOT_SUPPORT,r)})})})(new Response);const W_=async t=>{if(t==null)return 0;if(ye.isBlob(t))return t.size;if(ye.isSpecCompliantForm(t))return(await new Request(ui.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ye.isArrayBufferView(t)||ye.isArrayBuffer(t))return t.byteLength;if(ye.isURLSearchParams(t)&&(t=t+""),ye.isString(t))return(await Y_(t)).byteLength},j_=async(t,e)=>{const n=ye.toFiniteNumber(t.getContentLength());return n??W_(e)},K_=Qf&&(async t=>{let{url:e,method:n,data:r,signal:l,cancelToken:f,timeout:p,onDownloadProgress:v,onUploadProgress:w,responseType:y,headers:T,withCredentials:_="same-origin",fetchOptions:I}=ev(t);y=y?(y+"").toLowerCase():"text";let O=z_([l,f&&f.toAbortSignal()],p),P;const D=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let F;try{if(w&&X_&&n!=="get"&&n!=="head"&&(F=await j_(T,r))!==0){let W=new Request(e,{method:"POST",body:r,duplex:"half"}),oe;if(ye.isFormData(r)&&(oe=W.headers.get("content-type"))&&T.setContentType(oe),W.body){const[Z,ae]=Mx(F,If(Ix(w)));r=Dx(W.body,Ox,Z,ae)}}ye.isString(_)||(_=_?"include":"omit");const G="credentials"in Request.prototype;P=new Request(e,{...I,signal:O,method:n.toUpperCase(),headers:T.normalize().toJSON(),body:r,duplex:"half",credentials:G?_:void 0});let q=await fetch(P,I);const H=G0&&(y==="stream"||y==="response");if(G0&&(v||H&&D)){const W={};["status","statusText","headers"].forEach(ee=>{W[ee]=q[ee]});const oe=ye.toFiniteNumber(q.headers.get("content-length")),[Z,ae]=v&&Mx(oe,If(Ix(v),!0))||[];q=new Response(Dx(q.body,Ox,Z,()=>{ae&&ae(),D&&D()}),W)}y=y||"text";let K=await Rf[ye.findKey(Rf,y)||"text"](q,t);return!H&&D&&D(),await new Promise((W,oe)=>{JC(W,oe,{data:K,headers:Ni.from(q.headers),status:q.status,statusText:q.statusText,config:t,request:P})})}catch(G){throw D&&D(),G&&G.name==="TypeError"&&/Load failed|fetch/i.test(G.message)?Object.assign(new at("Network Error",at.ERR_NETWORK,t,P),{cause:G.cause||G}):at.from(G,G&&G.code,t,P)}}),q0={http:u_,xhr:V_,fetch:K_};ye.forEach(q0,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Lx=t=>`- ${t}`,Z_=t=>ye.isFunction(t)||t===null||t===!1,iv={getAdapter:t=>{t=ye.isArray(t)?t:[t];const{length:e}=t;let n,r;const l={};for(let f=0;f<e;f++){n=t[f];let p;if(r=n,!Z_(n)&&(r=q0[(p=String(n)).toLowerCase()],r===void 0))throw new at(`Unknown adapter '${p}'`);if(r)break;l[p||"#"+f]=r}if(!r){const f=Object.entries(l).map(([v,w])=>`adapter ${v} `+(w===!1?"is not supported by the environment":"is not available in the build"));let p=e?f.length>1?`since :
`+f.map(Lx).join(`
`):" "+Lx(f[0]):"as no adapter specified";throw new at("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return r},adapters:q0};function v0(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new fl(null,t)}function Px(t){return v0(t),t.headers=Ni.from(t.headers),t.data=C0.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),iv.getAdapter(t.adapter||Uc.adapter)(t).then(function(r){return v0(t),r.data=C0.call(t,t.transformResponse,r),r.headers=Ni.from(r.headers),r},function(r){return QC(r)||(v0(t),r&&r.response&&(r.response.data=C0.call(t,t.transformResponse,r.response),r.response.headers=Ni.from(r.response.headers))),Promise.reject(r)})}const rv="1.10.0",Jf={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Jf[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Bx={};Jf.transitional=function(e,n,r){function l(f,p){return"[Axios v"+rv+"] Transitional option '"+f+"'"+p+(r?". "+r:"")}return(f,p,v)=>{if(e===!1)throw new at(l(p," has been removed"+(n?" in "+n:"")),at.ERR_DEPRECATED);return n&&!Bx[p]&&(Bx[p]=!0,console.warn(l(p," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(f,p,v):!0}};Jf.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Q_(t,e,n){if(typeof t!="object")throw new at("options must be an object",at.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let l=r.length;for(;l-- >0;){const f=r[l],p=e[f];if(p){const v=t[f],w=v===void 0||p(v,f,t);if(w!==!0)throw new at("option "+f+" must be "+w,at.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new at("Unknown option "+f,at.ERR_BAD_OPTION)}}const xf={assertOptions:Q_,validators:Jf},Fr=xf.validators;let Ys=class{constructor(e){this.defaults=e||{},this.interceptors={request:new _x,response:new _x}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const f=l.stack?l.stack.replace(/^.+\n/,""):"";try{r.stack?f&&!String(r.stack).endsWith(f.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+f):r.stack=f}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Xs(this.defaults,n);const{transitional:r,paramsSerializer:l,headers:f}=n;r!==void 0&&xf.assertOptions(r,{silentJSONParsing:Fr.transitional(Fr.boolean),forcedJSONParsing:Fr.transitional(Fr.boolean),clarifyTimeoutError:Fr.transitional(Fr.boolean)},!1),l!=null&&(ye.isFunction(l)?n.paramsSerializer={serialize:l}:xf.assertOptions(l,{encode:Fr.function,serialize:Fr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),xf.assertOptions(n,{baseUrl:Fr.spelling("baseURL"),withXsrfToken:Fr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let p=f&&ye.merge(f.common,f[n.method]);f&&ye.forEach(["delete","get","head","post","put","patch","common"],P=>{delete f[P]}),n.headers=Ni.concat(p,f);const v=[];let w=!0;this.interceptors.request.forEach(function(D){typeof D.runWhen=="function"&&D.runWhen(n)===!1||(w=w&&D.synchronous,v.unshift(D.fulfilled,D.rejected))});const y=[];this.interceptors.response.forEach(function(D){y.push(D.fulfilled,D.rejected)});let T,_=0,I;if(!w){const P=[Px.bind(this),void 0];for(P.unshift.apply(P,v),P.push.apply(P,y),I=P.length,T=Promise.resolve(n);_<I;)T=T.then(P[_++],P[_++]);return T}I=v.length;let O=n;for(_=0;_<I;){const P=v[_++],D=v[_++];try{O=P(O)}catch(F){D.call(this,F);break}}try{T=Px.call(this,O)}catch(P){return Promise.reject(P)}for(_=0,I=y.length;_<I;)T=T.then(y[_++],y[_++]);return T}getUri(e){e=Xs(this.defaults,e);const n=$C(e.baseURL,e.url,e.allowAbsoluteUrls);return jC(n,e.params,e.paramsSerializer)}};ye.forEach(["delete","get","head","options"],function(e){Ys.prototype[e]=function(n,r){return this.request(Xs(r||{},{method:e,url:n,data:(r||{}).data}))}});ye.forEach(["post","put","patch"],function(e){function n(r){return function(f,p,v){return this.request(Xs(v||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:f,data:p}))}}Ys.prototype[e]=n(),Ys.prototype[e+"Form"]=n(!0)});let J_=class ov{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(f){n=f});const r=this;this.promise.then(l=>{if(!r._listeners)return;let f=r._listeners.length;for(;f-- >0;)r._listeners[f](l);r._listeners=null}),this.promise.then=l=>{let f;const p=new Promise(v=>{r.subscribe(v),f=v}).then(l);return p.cancel=function(){r.unsubscribe(f)},p},e(function(f,p,v){r.reason||(r.reason=new fl(f,p,v),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new ov(function(l){e=l}),cancel:e}}};function $_(t){return function(n){return t.apply(null,n)}}function eN(t){return ye.isObject(t)&&t.isAxiosError===!0}const Y0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Y0).forEach(([t,e])=>{Y0[e]=t});function sv(t){const e=new Ys(t),n=BC(Ys.prototype.request,e);return ye.extend(n,Ys.prototype,e,{allOwnKeys:!0}),ye.extend(n,e,null,{allOwnKeys:!0}),n.create=function(l){return sv(Xs(t,l))},n}const Mn=sv(Uc);Mn.Axios=Ys;Mn.CanceledError=fl;Mn.CancelToken=J_;Mn.isCancel=QC;Mn.VERSION=rv;Mn.toFormData=Zf;Mn.AxiosError=at;Mn.Cancel=Mn.CanceledError;Mn.all=function(e){return Promise.all(e)};Mn.spread=$_;Mn.isAxiosError=eN;Mn.mergeConfig=Xs;Mn.AxiosHeaders=Ni;Mn.formToJSON=t=>ZC(ye.isHTMLForm(t)?new FormData(t):t);Mn.getAdapter=iv.getAdapter;Mn.HttpStatusCode=Y0;Mn.default=Mn;const{Axios:IP,AxiosError:RP,CanceledError:DP,isCancel:OP,CancelToken:LP,VERSION:PP,all:BP,Cancel:kP,isAxiosError:UP,spread:FP,toFormData:VP,AxiosHeaders:zP,HttpStatusCode:HP,formToJSON:GP,getAdapter:qP,mergeConfig:YP}=Mn,tN="",Ht=Mn.create({baseURL:`${tN}/api`,headers:{"Content-Type":"application/json"}});Ht.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t});Ht.interceptors.response.use(t=>t,t=>{var e;return((e=t.response)==null?void 0:e.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("userType"),window.location.href="/login"),Promise.reject(t)});const Mc={registerOwner:t=>Ht.post("/auth/register/owner",t),registerClient:t=>Ht.post("/auth/register/client",t),loginOwner:t=>Ht.post("/auth/login/owner",t),loginClient:t=>Ht.post("/auth/login/client",t),verifyToken:()=>Ht.post("/auth/verify-token")},zs={createGym:t=>Ht.post("/gym",t),getGym:()=>Ht.get("/gym"),updateGym:t=>Ht.put("/gym",t),createMachine:t=>t instanceof FormData?Ht.post("/gym/machines",t,{headers:{"Content-Type":"multipart/form-data"}}):Ht.post("/gym/machines",t),getMachines:()=>Ht.get("/gym/machines"),updateMachine:(t,e)=>e instanceof FormData?Ht.put(`/gym/machines/${t}`,e,{headers:{"Content-Type":"multipart/form-data"}}):Ht.put(`/gym/machines/${t}`,e),deleteMachine:t=>Ht.delete(`/gym/machines/${t}`)},X0={generateQR:t=>Ht.post(`/qr/generate/${t}`),getQRImage:t=>Ht.get(`/qr/image/${t}`,{responseType:"blob"}),scanQR:t=>Ht.post("/qr/scan",{token:t}),validateToken:t=>Ht.get(`/qr/validate/${t}`)},ja={bookmarkMachine:t=>Ht.post("/client/bookmarks",{machine_id:t}),getBookmarks:()=>Ht.get("/client/bookmarks"),removeBookmark:t=>Ht.delete(`/client/bookmarks/${t}`),getScanHistory:(t=1,e=20)=>Ht.get(`/client/scan-history?page=${t}&per_page=${e}`),getMachineDetails:t=>Ht.get(`/client/machine/${t}`)},nN={getOverview:(t=30)=>Ht.get(`/analytics/overview?days=${t}`),getMachineUsage:(t=30)=>Ht.get(`/analytics/machine-usage?days=${t}`),getDailyScans:(t=30)=>Ht.get(`/analytics/daily-scans?days=${t}`),getPopularMachines:(t=5,e=30)=>Ht.get(`/analytics/popular-machines?limit=${t}&days=${e}`)},iN=()=>localStorage.getItem("token"),av=()=>{const t=localStorage.getItem("user");return t?JSON.parse(t):null},lv=()=>localStorage.getItem("userType"),kx=(t,e,n)=>{localStorage.setItem("token",t),localStorage.setItem("user",JSON.stringify(e)),localStorage.setItem("userType",n)},cv=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("userType")},uv=()=>!!iN(),rN=()=>lv()==="owner",oN=({setAuthenticated:t,setUserType:e})=>{const[n,r]=B.useState({username:"",password:""}),[l,f]=B.useState({username:"",password:""}),[p,v]=B.useState(!1),[w,y]=B.useState(""),T=fs(),_=async O=>{var P,D;O.preventDefault(),v(!0),y("");try{const F=await Mc.loginOwner(n),{token:G,user:q}=F.data;kx(G,q,"owner"),t(!0),e("owner"),T("/owner/dashboard")}catch(F){y(((D=(P=F.response)==null?void 0:P.data)==null?void 0:D.message)||"Login failed")}finally{v(!1)}},I=async O=>{var P,D;O.preventDefault(),v(!0),y("");try{const F=await Mc.loginClient(l),{token:G,user:q}=F.data;kx(G,q,"client"),t(!0),e("client"),T("/client/dashboard")}catch(F){y(((D=(P=F.response)==null?void 0:P.data)==null?void 0:D.message)||"Login failed")}finally{v(!1)}};return M.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-100 to-indigo-200 p-6",children:M.jsxs(tn,{className:"w-full max-w-md shadow-lg rounded-lg border border-gray-200",children:[M.jsxs(Si,{className:"text-center",children:[M.jsx("div",{className:"flex justify-center mb-6",children:M.jsx("div",{className:"bg-blue-700 p-4 rounded-full shadow-md animate-pulse",children:M.jsx(_c,{className:"h-10 w-10 text-white"})})}),M.jsx(bi,{className:"text-3xl font-extrabold text-gray-900",children:"Welcome to FitCode"}),M.jsx(qi,{className:"text-gray-600 mt-2",children:"Sign in to your account"})]}),M.jsxs(an,{children:[w&&M.jsx(Yi,{className:"mb-5 border-red-300 bg-red-100 animate-fade-in",children:M.jsx(Xi,{className:"text-red-900 font-semibold",children:w})}),M.jsxs(ll,{defaultValue:"client",className:"w-full",children:[M.jsxs(cl,{className:"grid w-full grid-cols-2 rounded-md bg-gray-100 shadow-inner",children:[M.jsxs(pi,{value:"client",className:"flex items-center gap-2 text-lg font-semibold text-gray-700 hover:text-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[M.jsx(PC,{className:"h-5 w-5"}),"Client"]}),M.jsxs(pi,{value:"owner",className:"flex items-center gap-2 text-lg font-semibold text-gray-700 hover:text-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[M.jsx(Mf,{className:"h-5 w-5"}),"Gym Owner"]})]}),M.jsx(xi,{value:"client",className:"mt-6",children:M.jsxs("form",{onSubmit:I,className:"space-y-5",children:[M.jsx(En,{type:"text",placeholder:"Username",value:l.username,onChange:O=>f({...l,username:O.target.value}),required:!0,className:"text-lg"}),M.jsx(En,{type:"password",placeholder:"Password",value:l.password,onChange:O=>f({...l,password:O.target.value}),required:!0,className:"text-lg"}),M.jsx(Lt,{type:"submit",className:"w-full py-3 text-lg font-semibold",disabled:p,children:p?"Signing in...":"Sign in as Client"})]})}),M.jsx(xi,{value:"owner",className:"mt-6",children:M.jsxs("form",{onSubmit:_,className:"space-y-5",children:[M.jsx(En,{type:"text",placeholder:"Username",value:n.username,onChange:O=>r({...n,username:O.target.value}),required:!0,className:"text-lg"}),M.jsx(En,{type:"password",placeholder:"Password",value:n.password,onChange:O=>r({...n,password:O.target.value}),required:!0,className:"text-lg"}),M.jsx(Lt,{type:"submit",className:"w-full py-3 text-lg font-semibold",disabled:p,children:p?"Signing in...":"Sign in as Gym Owner"})]})})]}),M.jsx("div",{className:"mt-8 text-center",children:M.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",M.jsx(qf,{to:"/register",className:"text-blue-700 font-semibold hover:underline",children:"Sign up"})]})})]})]})})},sN=()=>{const[t,e]=B.useState({username:"",email:"",password:"",confirmPassword:""}),[n,r]=B.useState({username:"",email:"",password:"",confirmPassword:""}),[l,f]=B.useState(!1),[p,v]=B.useState(""),[w,y]=B.useState(""),T=fs(),_=async O=>{var P,D;if(O.preventDefault(),f(!0),v(""),y(""),t.password!==t.confirmPassword){v("Passwords do not match"),f(!1);return}try{await Mc.registerOwner({username:t.username,email:t.email,password:t.password}),y("Registration successful! Please sign in."),setTimeout(()=>T("/login"),2e3)}catch(F){v(((D=(P=F.response)==null?void 0:P.data)==null?void 0:D.message)||"Registration failed")}finally{f(!1)}},I=async O=>{var P,D;if(O.preventDefault(),f(!0),v(""),y(""),n.password!==n.confirmPassword){v("Passwords do not match"),f(!1);return}try{await Mc.registerClient({username:n.username,email:n.email,password:n.password}),y("Registration successful! Please sign in."),setTimeout(()=>T("/login"),2e3)}catch(F){v(((D=(P=F.response)==null?void 0:P.data)==null?void 0:D.message)||"Registration failed")}finally{f(!1)}};return M.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:M.jsxs(tn,{className:"w-full max-w-md",children:[M.jsxs(Si,{className:"text-center",children:[M.jsx("div",{className:"flex justify-center mb-4",children:M.jsx("div",{className:"bg-blue-600 p-3 rounded-full",children:M.jsx(_c,{className:"h-8 w-8 text-white"})})}),M.jsx(bi,{className:"text-2xl font-bold",children:"Join FitCode"}),M.jsx(qi,{children:"Create your account"})]}),M.jsxs(an,{children:[p&&M.jsx(Yi,{className:"mb-4 border-red-200 bg-red-50",children:M.jsx(Xi,{className:"text-red-800",children:p})}),w&&M.jsxs(Yi,{className:"mb-4 border-green-200 bg-green-50",children:[M.jsx(t3,{className:"h-4 w-4 text-green-600"}),M.jsx(Xi,{className:"text-green-800",children:w})]}),M.jsxs(ll,{defaultValue:"client",className:"w-full",children:[M.jsxs(cl,{className:"grid w-full grid-cols-2",children:[M.jsxs(pi,{value:"client",className:"flex items-center gap-2",children:[M.jsx(PC,{className:"h-4 w-4"}),"Client"]}),M.jsxs(pi,{value:"owner",className:"flex items-center gap-2",children:[M.jsx(Mf,{className:"h-4 w-4"}),"Gym Owner"]})]}),M.jsx(xi,{value:"client",children:M.jsxs("form",{onSubmit:I,className:"space-y-4",children:[M.jsx("div",{children:M.jsx(En,{type:"text",placeholder:"Username",value:n.username,onChange:O=>r({...n,username:O.target.value}),required:!0})}),M.jsx("div",{children:M.jsx(En,{type:"email",placeholder:"Email",value:n.email,onChange:O=>r({...n,email:O.target.value}),required:!0})}),M.jsx("div",{children:M.jsx(En,{type:"password",placeholder:"Password",value:n.password,onChange:O=>r({...n,password:O.target.value}),required:!0})}),M.jsx("div",{children:M.jsx(En,{type:"password",placeholder:"Confirm Password",value:n.confirmPassword,onChange:O=>r({...n,confirmPassword:O.target.value}),required:!0})}),M.jsx(Lt,{type:"submit",className:"w-full",disabled:l,children:l?"Creating Account...":"Sign up as Client"})]})}),M.jsx(xi,{value:"owner",children:M.jsxs("form",{onSubmit:_,className:"space-y-4",children:[M.jsx("div",{children:M.jsx(En,{type:"text",placeholder:"Username",value:t.username,onChange:O=>e({...t,username:O.target.value}),required:!0})}),M.jsx("div",{children:M.jsx(En,{type:"email",placeholder:"Email",value:t.email,onChange:O=>e({...t,email:O.target.value}),required:!0})}),M.jsx("div",{children:M.jsx(En,{type:"password",placeholder:"Password",value:t.password,onChange:O=>e({...t,password:O.target.value}),required:!0})}),M.jsx("div",{children:M.jsx(En,{type:"password",placeholder:"Confirm Password",value:t.confirmPassword,onChange:O=>e({...t,confirmPassword:O.target.value}),required:!0})}),M.jsx(Lt,{type:"submit",className:"w-full",disabled:l,children:l?"Creating Account...":"Sign up as Gym Owner"})]})})]}),M.jsx("div",{className:"mt-6 text-center",children:M.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",M.jsx(qf,{to:"/login",className:"text-blue-600 hover:underline",children:"Sign in"})]})})]})]})})};function Ya({className:t,...e}){return M.jsx("textarea",{"data-slot":"textarea",className:Jt("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}function aN(t,e=globalThis==null?void 0:globalThis.document){const n=ss(t);B.useEffect(()=>{const r=l=>{l.key==="Escape"&&n(l)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var lN="DismissableLayer",W0="dismissableLayer.update",cN="dismissableLayer.pointerDownOutside",uN="dismissableLayer.focusOutside",Ux,fv=B.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),R1=B.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:l,onFocusOutside:f,onInteractOutside:p,onDismiss:v,...w}=t,y=B.useContext(fv),[T,_]=B.useState(null),I=(T==null?void 0:T.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,O]=B.useState({}),P=gn(e,Z=>_(Z)),D=Array.from(y.layers),[F]=[...y.layersWithOutsidePointerEventsDisabled].slice(-1),G=D.indexOf(F),q=T?D.indexOf(T):-1,H=y.layersWithOutsidePointerEventsDisabled.size>0,K=q>=G,W=hN(Z=>{const ae=Z.target,ee=[...y.branches].some(Me=>Me.contains(ae));!K||ee||(l==null||l(Z),p==null||p(Z),Z.defaultPrevented||v==null||v())},I),oe=gN(Z=>{const ae=Z.target;[...y.branches].some(Me=>Me.contains(ae))||(f==null||f(Z),p==null||p(Z),Z.defaultPrevented||v==null||v())},I);return aN(Z=>{q===y.layers.size-1&&(r==null||r(Z),!Z.defaultPrevented&&v&&(Z.preventDefault(),v()))},I),B.useEffect(()=>{if(T)return n&&(y.layersWithOutsidePointerEventsDisabled.size===0&&(Ux=I.body.style.pointerEvents,I.body.style.pointerEvents="none"),y.layersWithOutsidePointerEventsDisabled.add(T)),y.layers.add(T),Fx(),()=>{n&&y.layersWithOutsidePointerEventsDisabled.size===1&&(I.body.style.pointerEvents=Ux)}},[T,I,n,y]),B.useEffect(()=>()=>{T&&(y.layers.delete(T),y.layersWithOutsidePointerEventsDisabled.delete(T),Fx())},[T,y]),B.useEffect(()=>{const Z=()=>O({});return document.addEventListener(W0,Z),()=>document.removeEventListener(W0,Z)},[]),M.jsx(Mt.div,{...w,ref:P,style:{pointerEvents:H?K?"auto":"none":void 0,...t.style},onFocusCapture:St(t.onFocusCapture,oe.onFocusCapture),onBlurCapture:St(t.onBlurCapture,oe.onBlurCapture),onPointerDownCapture:St(t.onPointerDownCapture,W.onPointerDownCapture)})});R1.displayName=lN;var fN="DismissableLayerBranch",dN=B.forwardRef((t,e)=>{const n=B.useContext(fv),r=B.useRef(null),l=gn(e,r);return B.useEffect(()=>{const f=r.current;if(f)return n.branches.add(f),()=>{n.branches.delete(f)}},[n.branches]),M.jsx(Mt.div,{...t,ref:l})});dN.displayName=fN;function hN(t,e=globalThis==null?void 0:globalThis.document){const n=ss(t),r=B.useRef(!1),l=B.useRef(()=>{});return B.useEffect(()=>{const f=v=>{if(v.target&&!r.current){let w=function(){dv(cN,n,y,{discrete:!0})};const y={originalEvent:v};v.pointerType==="touch"?(e.removeEventListener("click",l.current),l.current=w,e.addEventListener("click",l.current,{once:!0})):w()}else e.removeEventListener("click",l.current);r.current=!1},p=window.setTimeout(()=>{e.addEventListener("pointerdown",f)},0);return()=>{window.clearTimeout(p),e.removeEventListener("pointerdown",f),e.removeEventListener("click",l.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function gN(t,e=globalThis==null?void 0:globalThis.document){const n=ss(t),r=B.useRef(!1);return B.useEffect(()=>{const l=f=>{f.target&&!r.current&&dv(uN,n,{originalEvent:f},{discrete:!1})};return e.addEventListener("focusin",l),()=>e.removeEventListener("focusin",l)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Fx(){const t=new CustomEvent(W0);document.dispatchEvent(t)}function dv(t,e,n,{discrete:r}){const l=n.originalEvent.target,f=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&l.addEventListener(t,e,{once:!0}),r?ob(l,f):l.dispatchEvent(f)}var E0="focusScope.autoFocusOnMount",w0="focusScope.autoFocusOnUnmount",Vx={bubbles:!1,cancelable:!0},mN="FocusScope",D1=B.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:l,onUnmountAutoFocus:f,...p}=t,[v,w]=B.useState(null),y=ss(l),T=ss(f),_=B.useRef(null),I=gn(e,D=>w(D)),O=B.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;B.useEffect(()=>{if(r){let D=function(H){if(O.paused||!v)return;const K=H.target;v.contains(K)?_.current=K:is(_.current,{select:!0})},F=function(H){if(O.paused||!v)return;const K=H.relatedTarget;K!==null&&(v.contains(K)||is(_.current,{select:!0}))},G=function(H){if(document.activeElement===document.body)for(const W of H)W.removedNodes.length>0&&is(v)};document.addEventListener("focusin",D),document.addEventListener("focusout",F);const q=new MutationObserver(G);return v&&q.observe(v,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",D),document.removeEventListener("focusout",F),q.disconnect()}}},[r,v,O.paused]),B.useEffect(()=>{if(v){Hx.add(O);const D=document.activeElement;if(!v.contains(D)){const G=new CustomEvent(E0,Vx);v.addEventListener(E0,y),v.dispatchEvent(G),G.defaultPrevented||(pN(EN(hv(v)),{select:!0}),document.activeElement===D&&is(v))}return()=>{v.removeEventListener(E0,y),setTimeout(()=>{const G=new CustomEvent(w0,Vx);v.addEventListener(w0,T),v.dispatchEvent(G),G.defaultPrevented||is(D??document.body,{select:!0}),v.removeEventListener(w0,T),Hx.remove(O)},0)}}},[v,y,T,O]);const P=B.useCallback(D=>{if(!n&&!r||O.paused)return;const F=D.key==="Tab"&&!D.altKey&&!D.ctrlKey&&!D.metaKey,G=document.activeElement;if(F&&G){const q=D.currentTarget,[H,K]=xN(q);H&&K?!D.shiftKey&&G===K?(D.preventDefault(),n&&is(H,{select:!0})):D.shiftKey&&G===H&&(D.preventDefault(),n&&is(K,{select:!0})):G===q&&D.preventDefault()}},[n,r,O.paused]);return M.jsx(Mt.div,{tabIndex:-1,...p,ref:I,onKeyDown:P})});D1.displayName=mN;function pN(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(is(r,{select:e}),document.activeElement!==n)return}function xN(t){const e=hv(t),n=zx(e,t),r=zx(e.reverse(),t);return[n,r]}function hv(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const l=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||l?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function zx(t,e){for(const n of t)if(!yN(n,{upTo:e}))return n}function yN(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function CN(t){return t instanceof HTMLInputElement&&"select"in t}function is(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&CN(t)&&e&&t.select()}}var Hx=vN();function vN(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Gx(t,e),t.unshift(e)},remove(e){var n;t=Gx(t,e),(n=t[0])==null||n.resume()}}}function Gx(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function EN(t){return t.filter(e=>e.tagName!=="A")}var wN="Portal",O1=B.forwardRef((t,e)=>{var v;const{container:n,...r}=t,[l,f]=B.useState(!1);di(()=>f(!0),[]);const p=n||l&&((v=globalThis==null?void 0:globalThis.document)==null?void 0:v.body);return p?dS.createPortal(M.jsx(Mt.div,{...r,ref:e}),p):null});O1.displayName=wN;var A0=0;function gv(){B.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??qx()),document.body.insertAdjacentElement("beforeend",t[1]??qx()),A0++,()=>{A0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),A0--}},[])}function qx(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var zr=function(){return zr=Object.assign||function(e){for(var n,r=1,l=arguments.length;r<l;r++){n=arguments[r];for(var f in n)Object.prototype.hasOwnProperty.call(n,f)&&(e[f]=n[f])}return e},zr.apply(this,arguments)};function mv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(t);l<r.length;l++)e.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(t,r[l])&&(n[r[l]]=t[r[l]]);return n}function AN(t,e,n){if(n||arguments.length===2)for(var r=0,l=e.length,f;r<l;r++)(f||!(r in e))&&(f||(f=Array.prototype.slice.call(e,0,r)),f[r]=e[r]);return t.concat(f||Array.prototype.slice.call(e))}var yf="right-scroll-bar-position",Cf="width-before-scroll-bar",TN="with-scroll-bars-hidden",SN="--removed-body-scroll-bar-size";function T0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function bN(t,e){var n=B.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var l=n.value;l!==r&&(n.value=r,n.callback(r,l))}}}})[0];return n.callback=e,n.facade}var _N=typeof window<"u"?B.useLayoutEffect:B.useEffect,Yx=new WeakMap;function NN(t,e){var n=bN(null,function(r){return t.forEach(function(l){return T0(l,r)})});return _N(function(){var r=Yx.get(n);if(r){var l=new Set(r),f=new Set(t),p=n.current;l.forEach(function(v){f.has(v)||T0(v,null)}),f.forEach(function(v){l.has(v)||T0(v,p)})}Yx.set(n,t)},[t]),n}function MN(t){return t}function IN(t,e){e===void 0&&(e=MN);var n=[],r=!1,l={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(f){var p=e(f,r);return n.push(p),function(){n=n.filter(function(v){return v!==p})}},assignSyncMedium:function(f){for(r=!0;n.length;){var p=n;n=[],p.forEach(f)}n={push:function(v){return f(v)},filter:function(){return n}}},assignMedium:function(f){r=!0;var p=[];if(n.length){var v=n;n=[],v.forEach(f),p=n}var w=function(){var T=p;p=[],T.forEach(f)},y=function(){return Promise.resolve().then(w)};y(),n={push:function(T){p.push(T),y()},filter:function(T){return p=p.filter(T),n}}}};return l}function RN(t){t===void 0&&(t={});var e=IN(null);return e.options=zr({async:!0,ssr:!1},t),e}var pv=function(t){var e=t.sideCar,n=mv(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return B.createElement(r,zr({},n))};pv.isSideCarExport=!0;function DN(t,e){return t.useMedium(e),pv}var xv=RN(),S0=function(){},$f=B.forwardRef(function(t,e){var n=B.useRef(null),r=B.useState({onScrollCapture:S0,onWheelCapture:S0,onTouchMoveCapture:S0}),l=r[0],f=r[1],p=t.forwardProps,v=t.children,w=t.className,y=t.removeScrollBar,T=t.enabled,_=t.shards,I=t.sideCar,O=t.noIsolation,P=t.inert,D=t.allowPinchZoom,F=t.as,G=F===void 0?"div":F,q=t.gapMode,H=mv(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),K=I,W=NN([n,e]),oe=zr(zr({},H),l);return B.createElement(B.Fragment,null,T&&B.createElement(K,{sideCar:xv,removeScrollBar:y,shards:_,noIsolation:O,inert:P,setCallbacks:f,allowPinchZoom:!!D,lockRef:n,gapMode:q}),p?B.cloneElement(B.Children.only(v),zr(zr({},oe),{ref:W})):B.createElement(G,zr({},oe,{className:w,ref:W}),v))});$f.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$f.classNames={fullWidth:Cf,zeroRight:yf};var ON=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function LN(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=ON();return e&&t.setAttribute("nonce",e),t}function PN(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function BN(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var kN=function(){var t=0,e=null;return{add:function(n){t==0&&(e=LN())&&(PN(e,n),BN(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},UN=function(){var t=kN();return function(e,n){B.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},yv=function(){var t=UN(),e=function(n){var r=n.styles,l=n.dynamic;return t(r,l),null};return e},FN={left:0,top:0,right:0,gap:0},b0=function(t){return parseInt(t||"",10)||0},VN=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],l=e[t==="padding"?"paddingRight":"marginRight"];return[b0(n),b0(r),b0(l)]},zN=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return FN;var e=VN(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},HN=yv(),Ka="data-scroll-locked",GN=function(t,e,n,r){var l=t.left,f=t.top,p=t.right,v=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(TN,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(v,"px ").concat(r,`;
  }
  body[`).concat(Ka,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(l,`px;
    padding-top: `).concat(f,`px;
    padding-right: `).concat(p,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(v,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(v,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(yf,` {
    right: `).concat(v,"px ").concat(r,`;
  }
  
  .`).concat(Cf,` {
    margin-right: `).concat(v,"px ").concat(r,`;
  }
  
  .`).concat(yf," .").concat(yf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Cf," .").concat(Cf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ka,`] {
    `).concat(SN,": ").concat(v,`px;
  }
`)},Xx=function(){var t=parseInt(document.body.getAttribute(Ka)||"0",10);return isFinite(t)?t:0},qN=function(){B.useEffect(function(){return document.body.setAttribute(Ka,(Xx()+1).toString()),function(){var t=Xx()-1;t<=0?document.body.removeAttribute(Ka):document.body.setAttribute(Ka,t.toString())}},[])},YN=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,l=r===void 0?"margin":r;qN();var f=B.useMemo(function(){return zN(l)},[l]);return B.createElement(HN,{styles:GN(f,!e,l,n?"":"!important")})},j0=!1;if(typeof window<"u")try{var rf=Object.defineProperty({},"passive",{get:function(){return j0=!0,!0}});window.addEventListener("test",rf,rf),window.removeEventListener("test",rf,rf)}catch{j0=!1}var Ha=j0?{passive:!1}:!1,XN=function(t){return t.tagName==="TEXTAREA"},Cv=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!XN(t)&&n[e]==="visible")},WN=function(t){return Cv(t,"overflowY")},jN=function(t){return Cv(t,"overflowX")},Wx=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var l=vv(t,r);if(l){var f=Ev(t,r),p=f[1],v=f[2];if(p>v)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},KN=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},ZN=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},vv=function(t,e){return t==="v"?WN(e):jN(e)},Ev=function(t,e){return t==="v"?KN(e):ZN(e)},QN=function(t,e){return t==="h"&&e==="rtl"?-1:1},JN=function(t,e,n,r,l){var f=QN(t,window.getComputedStyle(e).direction),p=f*r,v=n.target,w=e.contains(v),y=!1,T=p>0,_=0,I=0;do{var O=Ev(t,v),P=O[0],D=O[1],F=O[2],G=D-F-f*P;(P||G)&&vv(t,v)&&(_+=G,I+=P),v instanceof ShadowRoot?v=v.host:v=v.parentNode}while(!w&&v!==document.body||w&&(e.contains(v)||e===v));return(T&&Math.abs(_)<1||!T&&Math.abs(I)<1)&&(y=!0),y},of=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},jx=function(t){return[t.deltaX,t.deltaY]},Kx=function(t){return t&&"current"in t?t.current:t},$N=function(t,e){return t[0]===e[0]&&t[1]===e[1]},eM=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},tM=0,Ga=[];function nM(t){var e=B.useRef([]),n=B.useRef([0,0]),r=B.useRef(),l=B.useState(tM++)[0],f=B.useState(yv)[0],p=B.useRef(t);B.useEffect(function(){p.current=t},[t]),B.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(l));var D=AN([t.lockRef.current],(t.shards||[]).map(Kx),!0).filter(Boolean);return D.forEach(function(F){return F.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),D.forEach(function(F){return F.classList.remove("allow-interactivity-".concat(l))})}}},[t.inert,t.lockRef.current,t.shards]);var v=B.useCallback(function(D,F){if("touches"in D&&D.touches.length===2||D.type==="wheel"&&D.ctrlKey)return!p.current.allowPinchZoom;var G=of(D),q=n.current,H="deltaX"in D?D.deltaX:q[0]-G[0],K="deltaY"in D?D.deltaY:q[1]-G[1],W,oe=D.target,Z=Math.abs(H)>Math.abs(K)?"h":"v";if("touches"in D&&Z==="h"&&oe.type==="range")return!1;var ae=Wx(Z,oe);if(!ae)return!0;if(ae?W=Z:(W=Z==="v"?"h":"v",ae=Wx(Z,oe)),!ae)return!1;if(!r.current&&"changedTouches"in D&&(H||K)&&(r.current=W),!W)return!0;var ee=r.current||W;return JN(ee,F,D,ee==="h"?H:K)},[]),w=B.useCallback(function(D){var F=D;if(!(!Ga.length||Ga[Ga.length-1]!==f)){var G="deltaY"in F?jx(F):of(F),q=e.current.filter(function(W){return W.name===F.type&&(W.target===F.target||F.target===W.shadowParent)&&$N(W.delta,G)})[0];if(q&&q.should){F.cancelable&&F.preventDefault();return}if(!q){var H=(p.current.shards||[]).map(Kx).filter(Boolean).filter(function(W){return W.contains(F.target)}),K=H.length>0?v(F,H[0]):!p.current.noIsolation;K&&F.cancelable&&F.preventDefault()}}},[]),y=B.useCallback(function(D,F,G,q){var H={name:D,delta:F,target:G,should:q,shadowParent:iM(G)};e.current.push(H),setTimeout(function(){e.current=e.current.filter(function(K){return K!==H})},1)},[]),T=B.useCallback(function(D){n.current=of(D),r.current=void 0},[]),_=B.useCallback(function(D){y(D.type,jx(D),D.target,v(D,t.lockRef.current))},[]),I=B.useCallback(function(D){y(D.type,of(D),D.target,v(D,t.lockRef.current))},[]);B.useEffect(function(){return Ga.push(f),t.setCallbacks({onScrollCapture:_,onWheelCapture:_,onTouchMoveCapture:I}),document.addEventListener("wheel",w,Ha),document.addEventListener("touchmove",w,Ha),document.addEventListener("touchstart",T,Ha),function(){Ga=Ga.filter(function(D){return D!==f}),document.removeEventListener("wheel",w,Ha),document.removeEventListener("touchmove",w,Ha),document.removeEventListener("touchstart",T,Ha)}},[]);var O=t.removeScrollBar,P=t.inert;return B.createElement(B.Fragment,null,P?B.createElement(f,{styles:eM(l)}):null,O?B.createElement(YN,{gapMode:t.gapMode}):null)}function iM(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const rM=DN(xv,nM);var L1=B.forwardRef(function(t,e){return B.createElement($f,zr({},t,{ref:e,sideCar:rM}))});L1.classNames=$f.classNames;var oM=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},qa=new WeakMap,sf=new WeakMap,af={},_0=0,wv=function(t){return t&&(t.host||wv(t.parentNode))},sM=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=wv(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},aM=function(t,e,n,r){var l=sM(e,Array.isArray(t)?t:[t]);af[n]||(af[n]=new WeakMap);var f=af[n],p=[],v=new Set,w=new Set(l),y=function(_){!_||v.has(_)||(v.add(_),y(_.parentNode))};l.forEach(y);var T=function(_){!_||w.has(_)||Array.prototype.forEach.call(_.children,function(I){if(v.has(I))T(I);else try{var O=I.getAttribute(r),P=O!==null&&O!=="false",D=(qa.get(I)||0)+1,F=(f.get(I)||0)+1;qa.set(I,D),f.set(I,F),p.push(I),D===1&&P&&sf.set(I,!0),F===1&&I.setAttribute(n,"true"),P||I.setAttribute(r,"true")}catch(G){console.error("aria-hidden: cannot operate on ",I,G)}})};return T(e),v.clear(),_0++,function(){p.forEach(function(_){var I=qa.get(_)-1,O=f.get(_)-1;qa.set(_,I),f.set(_,O),I||(sf.has(_)||_.removeAttribute(r),sf.delete(_)),O||_.removeAttribute(n)}),_0--,_0||(qa=new WeakMap,qa=new WeakMap,sf=new WeakMap,af={})}},Av=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),l=oM(t);return l?(r.push.apply(r,Array.from(l.querySelectorAll("[aria-live]"))),aM(r,l,n,"aria-hidden")):function(){return null}},ed="Dialog",[Tv,XP]=al(ed),[lM,vr]=Tv(ed),Sv=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:l,onOpenChange:f,modal:p=!0}=t,v=B.useRef(null),w=B.useRef(null),[y,T]=bc({prop:r,defaultProp:l??!1,onChange:f,caller:ed});return M.jsx(lM,{scope:e,triggerRef:v,contentRef:w,contentId:os(),titleId:os(),descriptionId:os(),open:y,onOpenChange:T,onOpenToggle:B.useCallback(()=>T(_=>!_),[T]),modal:p,children:n})};Sv.displayName=ed;var bv="DialogTrigger",_v=B.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,l=vr(bv,n),f=gn(e,l.triggerRef);return M.jsx(Mt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":k1(l.open),...r,ref:f,onClick:St(t.onClick,l.onOpenToggle)})});_v.displayName=bv;var P1="DialogPortal",[cM,Nv]=Tv(P1,{forceMount:void 0}),Mv=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:l}=t,f=vr(P1,e);return M.jsx(cM,{scope:e,forceMount:n,children:B.Children.map(r,p=>M.jsx(Bc,{present:n||f.open,children:M.jsx(O1,{asChild:!0,container:l,children:p})}))})};Mv.displayName=P1;var Df="DialogOverlay",Iv=B.forwardRef((t,e)=>{const n=Nv(Df,t.__scopeDialog),{forceMount:r=n.forceMount,...l}=t,f=vr(Df,t.__scopeDialog);return f.modal?M.jsx(Bc,{present:r||f.open,children:M.jsx(fM,{...l,ref:e})}):null});Iv.displayName=Df;var uM=el("DialogOverlay.RemoveScroll"),fM=B.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,l=vr(Df,n);return M.jsx(L1,{as:uM,allowPinchZoom:!0,shards:[l.contentRef],children:M.jsx(Mt.div,{"data-state":k1(l.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ws="DialogContent",Rv=B.forwardRef((t,e)=>{const n=Nv(Ws,t.__scopeDialog),{forceMount:r=n.forceMount,...l}=t,f=vr(Ws,t.__scopeDialog);return M.jsx(Bc,{present:r||f.open,children:f.modal?M.jsx(dM,{...l,ref:e}):M.jsx(hM,{...l,ref:e})})});Rv.displayName=Ws;var dM=B.forwardRef((t,e)=>{const n=vr(Ws,t.__scopeDialog),r=B.useRef(null),l=gn(e,n.contentRef,r);return B.useEffect(()=>{const f=r.current;if(f)return Av(f)},[]),M.jsx(Dv,{...t,ref:l,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:St(t.onCloseAutoFocus,f=>{var p;f.preventDefault(),(p=n.triggerRef.current)==null||p.focus()}),onPointerDownOutside:St(t.onPointerDownOutside,f=>{const p=f.detail.originalEvent,v=p.button===0&&p.ctrlKey===!0;(p.button===2||v)&&f.preventDefault()}),onFocusOutside:St(t.onFocusOutside,f=>f.preventDefault())})}),hM=B.forwardRef((t,e)=>{const n=vr(Ws,t.__scopeDialog),r=B.useRef(!1),l=B.useRef(!1);return M.jsx(Dv,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:f=>{var p,v;(p=t.onCloseAutoFocus)==null||p.call(t,f),f.defaultPrevented||(r.current||(v=n.triggerRef.current)==null||v.focus(),f.preventDefault()),r.current=!1,l.current=!1},onInteractOutside:f=>{var w,y;(w=t.onInteractOutside)==null||w.call(t,f),f.defaultPrevented||(r.current=!0,f.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const p=f.target;((y=n.triggerRef.current)==null?void 0:y.contains(p))&&f.preventDefault(),f.detail.originalEvent.type==="focusin"&&l.current&&f.preventDefault()}})}),Dv=B.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:l,onCloseAutoFocus:f,...p}=t,v=vr(Ws,n),w=B.useRef(null),y=gn(e,w);return gv(),M.jsxs(M.Fragment,{children:[M.jsx(D1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:l,onUnmountAutoFocus:f,children:M.jsx(R1,{role:"dialog",id:v.contentId,"aria-describedby":v.descriptionId,"aria-labelledby":v.titleId,"data-state":k1(v.open),...p,ref:y,onDismiss:()=>v.onOpenChange(!1)})}),M.jsxs(M.Fragment,{children:[M.jsx(gM,{titleId:v.titleId}),M.jsx(pM,{contentRef:w,descriptionId:v.descriptionId})]})]})}),B1="DialogTitle",Ov=B.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,l=vr(B1,n);return M.jsx(Mt.h2,{id:l.titleId,...r,ref:e})});Ov.displayName=B1;var Lv="DialogDescription",Pv=B.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,l=vr(Lv,n);return M.jsx(Mt.p,{id:l.descriptionId,...r,ref:e})});Pv.displayName=Lv;var Bv="DialogClose",kv=B.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,l=vr(Bv,n);return M.jsx(Mt.button,{type:"button",...r,ref:e,onClick:St(t.onClick,()=>l.onOpenChange(!1))})});kv.displayName=Bv;function k1(t){return t?"open":"closed"}var Uv="DialogTitleWarning",[WP,Fv]=eb(Uv,{contentName:Ws,titleName:B1,docsSlug:"dialog"}),gM=({titleId:t})=>{const e=Fv(Uv),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return B.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},mM="DialogDescriptionWarning",pM=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Fv(mM).contentName}}.`;return B.useEffect(()=>{var f;const l=(f=t.current)==null?void 0:f.getAttribute("aria-describedby");e&&l&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},xM=Sv,yM=_v,CM=Mv,vM=Iv,EM=Rv,wM=Ov,AM=Pv,TM=kv;function vf({...t}){return M.jsx(xM,{"data-slot":"dialog",...t})}function N0({...t}){return M.jsx(yM,{"data-slot":"dialog-trigger",...t})}function SM({...t}){return M.jsx(CM,{"data-slot":"dialog-portal",...t})}function bM({className:t,...e}){return M.jsx(vM,{"data-slot":"dialog-overlay",className:Jt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function Ef({className:t,children:e,...n}){return M.jsxs(SM,{"data-slot":"dialog-portal",children:[M.jsx(bM,{}),M.jsxs(EM,{"data-slot":"dialog-content",className:Jt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[e,M.jsxs(TM,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[M.jsx(T3,{}),M.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function wf({className:t,...e}){return M.jsx("div",{"data-slot":"dialog-header",className:Jt("flex flex-col gap-2 text-center sm:text-left",t),...e})}function _M({className:t,...e}){return M.jsx("div",{"data-slot":"dialog-footer",className:Jt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function Af({className:t,...e}){return M.jsx(wM,{"data-slot":"dialog-title",className:Jt("text-lg leading-none font-semibold",t),...e})}function M0({className:t,...e}){return M.jsx(AM,{"data-slot":"dialog-description",className:Jt("text-muted-foreground text-sm",t),...e})}const NM=T1("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Za({className:t,variant:e,asChild:n=!1,...r}){const l=n?eC:"span";return M.jsx(l,{"data-slot":"badge",className:Jt(NM({variant:e}),t),...r})}const MM=()=>{const[t]=B.useState(av()),[e,n]=B.useState(null),[r,l]=B.useState([]),[f,p]=B.useState(null),[v,w]=B.useState(!0),[y,T]=B.useState(""),[_,I]=B.useState(""),O=fs(),[P,D]=B.useState({name:"",logo_url:"",contact_info:""}),[F,G]=B.useState({name:"",how_to_use_video_url:"",safety_tips:"",usage_guide:"",multilingual_content:[]}),[q,H]=B.useState(null),[K,W]=B.useState(null),[oe,Z]=B.useState(!1),[ae,ee]=B.useState(!1);B.useEffect(()=>{Me()},[]);const Me=async()=>{var ie,De,j,xe;try{w(!0);try{const Ee=await zs.getGym();n(Ee.data.gym),D(Ee.data.gym)}catch(Ee){if(((ie=Ee.response)==null?void 0:ie.status)!==404)throw Ee}try{const Ee=await zs.getMachines();l(Ee.data.machines)}catch(Ee){if(((De=Ee.response)==null?void 0:De.status)!==404)throw Ee}try{const Ee=await nN.getOverview();p(Ee.data.overview)}catch(Ee){console.error("Failed to load analytics:",Ee)}}catch(Ee){T(((xe=(j=Ee.response)==null?void 0:j.data)==null?void 0:xe.message)||"Failed to load data")}finally{w(!1)}},Re=()=>{cv(),O("/login")},Te=async ie=>{var De,j;ie.preventDefault();try{if(e)await zs.updateGym(P),I("Gym updated successfully");else{const xe=await zs.createGym(P);n(xe.data.gym),I("Gym created successfully")}Z(!1),Me()}catch(xe){T(((j=(De=xe.response)==null?void 0:De.data)==null?void 0:j.message)||"Failed to save gym")}},Be=async ie=>{var j,xe;ie.preventDefault(),T(""),I("");const De=new FormData;De.append("name",F.name),De.append("how_to_use_video_url",F.how_to_use_video_url||""),De.append("local_video_path",F.local_video_path||""),q&&q instanceof File&&De.append("video",q),De.append("safety_tips",F.safety_tips||""),De.append("usage_guide",F.usage_guide||""),q&&De.append("local_video_path",q);try{K?(await zs.updateMachine(K.id,De),I("Machine updated successfully")):(await zs.createMachine(De),I("Machine created successfully")),ee(!1),W(null),G({name:"",how_to_use_video_url:"",local_video_path:null,safety_tips:"",usage_guide:"",multilingual_content:[]}),H(null),Me()}catch(Ee){T(((xe=(j=Ee.response)==null?void 0:j.data)==null?void 0:xe.message)||"Failed to save machine")}},qe=ie=>{W(ie),G(ie),ee(!0)},re=async ie=>{var De,j;if(window.confirm("Are you sure you want to delete this machine?"))try{await zs.deleteMachine(ie),I("Machine deleted successfully"),Me()}catch(xe){T(((j=(De=xe.response)==null?void 0:De.data)==null?void 0:j.message)||"Failed to delete machine")}},ne=async ie=>{var De,j;try{await X0.generateQR(ie),I("QR code generated successfully"),Me()}catch(xe){T(((j=(De=xe.response)==null?void 0:De.data)==null?void 0:j.message)||"Failed to generate QR code")}},he=async ie=>{var De,j;try{const xe=await X0.getQRImage(ie),Ee=window.URL.createObjectURL(new Blob([xe.data])),Se=document.createElement("a");Se.href=Ee,Se.setAttribute("download",`qr_code_machine_${ie}.png`),document.body.appendChild(Se),Se.click(),Se.remove(),window.URL.revokeObjectURL(Ee)}catch(xe){T(((j=(De=xe.response)==null?void 0:De.data)==null?void 0:j.message)||"Failed to download QR code")}};return v?M.jsx("div",{className:"min-h-screen flex items-center justify-center",children:M.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):M.jsxs("div",{className:"min-h-screen bg-gray-50",children:[M.jsx("header",{className:"bg-white shadow-sm border-b",children:M.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:M.jsxs("div",{className:"flex justify-between items-center h-16",children:[M.jsxs("div",{className:"flex items-center",children:[M.jsx(_c,{className:"h-8 w-8 text-blue-600 mr-3"}),M.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"FitCode Dashboard"})]}),M.jsxs("div",{className:"flex items-center space-x-4",children:[M.jsxs("span",{className:"text-sm text-gray-600",children:["Welcome, ",t==null?void 0:t.username]}),M.jsxs(Lt,{variant:"outline",size:"sm",onClick:Re,children:[M.jsx(LC,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})}),M.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[y&&M.jsx(Yi,{className:"mb-6 border-red-200 bg-red-50",children:M.jsx(Xi,{className:"text-red-800",children:y})}),_&&M.jsx(Yi,{className:"mb-6 border-green-200 bg-green-50",children:M.jsx(Xi,{className:"text-green-800",children:_})}),f&&M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[M.jsx(tn,{children:M.jsx(an,{className:"p-6",children:M.jsxs("div",{className:"flex items-center",children:[M.jsx(Mf,{className:"h-8 w-8 text-blue-600"}),M.jsxs("div",{className:"ml-4",children:[M.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Machines"}),M.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.total_machines})]})]})})}),M.jsx(tn,{children:M.jsx(an,{className:"p-6",children:M.jsxs("div",{className:"flex items-center",children:[M.jsx(RC,{className:"h-8 w-8 text-green-600"}),M.jsxs("div",{className:"ml-4",children:[M.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Scans"}),M.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.total_scans})]})]})})}),M.jsx(tn,{children:M.jsx(an,{className:"p-6",children:M.jsxs("div",{className:"flex items-center",children:[M.jsx(C3,{className:"h-8 w-8 text-purple-600"}),M.jsxs("div",{className:"ml-4",children:[M.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Recent Scans"}),M.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.recent_scans})]})]})})}),M.jsx(tn,{children:M.jsx(an,{className:"p-6",children:M.jsxs("div",{className:"flex items-center",children:[M.jsx(w3,{className:"h-8 w-8 text-orange-600"}),M.jsxs("div",{className:"ml-4",children:[M.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Unique Users"}),M.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.unique_users})]})]})})})]}),M.jsxs(ll,{defaultValue:"gym",className:"space-y-6",children:[M.jsxs(cl,{children:[M.jsx(pi,{value:"gym",children:"Gym Settings"}),M.jsx(pi,{value:"machines",children:"Machines"}),M.jsx(pi,{value:"analytics",children:"Analytics"})]}),M.jsx(xi,{value:"gym",children:M.jsxs(tn,{children:[M.jsxs(Si,{children:[M.jsx(bi,{children:"Gym Information"}),M.jsx(qi,{children:"Manage your gym's basic information and branding"})]}),M.jsx(an,{children:e?M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{children:[M.jsx("h3",{className:"text-lg font-medium",children:e.name}),M.jsx("p",{className:"text-gray-600",children:e.contact_info}),e.logo_url&&M.jsx("img",{src:e.logo_url,alt:"Gym Logo",className:"mt-2 h-16 w-16 object-cover rounded"})]}),M.jsxs(vf,{open:oe,onOpenChange:Z,children:[M.jsx(N0,{asChild:!0,children:M.jsxs(Lt,{children:[M.jsx(Ax,{className:"h-4 w-4 mr-2"}),"Edit Gym Info"]})}),M.jsxs(Ef,{children:[M.jsxs(wf,{children:[M.jsx(Af,{children:"Edit Gym Information"}),M.jsx(M0,{children:"Update your gym's information and branding"})]}),M.jsxs("form",{onSubmit:Te,className:"space-y-4",children:[M.jsx(En,{placeholder:"Gym Name",value:P.name,onChange:ie=>D({...P,name:ie.target.value}),required:!0}),M.jsx(En,{placeholder:"Logo URL",value:P.logo_url,onChange:ie=>D({...P,logo_url:ie.target.value})}),M.jsx(Ya,{placeholder:"Contact Information",value:P.contact_info,onChange:ie=>D({...P,contact_info:ie.target.value})}),M.jsx(Lt,{type:"submit",children:"Update Gym"})]})]})]})]}):M.jsxs("div",{className:"text-center py-8",children:[M.jsx(Mf,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),M.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No gym registered"}),M.jsx("p",{className:"text-gray-600 mb-4",children:"Create your gym profile to get started"}),M.jsxs(vf,{open:oe,onOpenChange:Z,children:[M.jsx(N0,{asChild:!0,children:M.jsxs(Lt,{children:[M.jsx(wx,{className:"h-4 w-4 mr-2"}),"Create Gym"]})}),M.jsxs(Ef,{children:[M.jsxs(wf,{children:[M.jsx(Af,{children:"Create Gym"}),M.jsx(M0,{children:"Set up your gym's information and branding"})]}),M.jsxs("form",{onSubmit:Te,className:"space-y-4",children:[M.jsx(En,{placeholder:"Gym Name",value:P.name,onChange:ie=>D({...P,name:ie.target.value}),required:!0}),M.jsx(En,{placeholder:"Logo URL",value:P.logo_url,onChange:ie=>D({...P,logo_url:ie.target.value})}),M.jsx(Ya,{placeholder:"Contact Information",value:P.contact_info,onChange:ie=>D({...P,contact_info:ie.target.value})}),M.jsx(Lt,{type:"submit",children:"Create Gym"})]})]})]})]})})]})}),M.jsx(xi,{value:"machines",children:M.jsxs(tn,{children:[M.jsx(Si,{children:M.jsxs("div",{className:"flex justify-between items-center",children:[M.jsxs("div",{children:[M.jsx(bi,{children:"Gym Machines"}),M.jsx(qi,{children:"Manage your gym machines and generate QR codes"})]}),M.jsxs(vf,{open:ae,onOpenChange:ee,children:[M.jsx(N0,{asChild:!0,children:M.jsxs(Lt,{disabled:!e,children:[M.jsx(wx,{className:"h-4 w-4 mr-2"}),"Add Machine"]})}),M.jsxs(Ef,{className:"max-w-2xl",children:[M.jsxs(wf,{children:[M.jsx(Af,{children:K?"Edit Machine":"Add New Machine"}),M.jsx(M0,{children:K?"Update machine information":"Add a new machine to your gym"})]}),M.jsxs("form",{onSubmit:Be,className:"space-y-4",children:[M.jsx(En,{placeholder:"Machine Name",value:F.name,onChange:ie=>G({...F,name:ie.target.value}),required:!0}),M.jsx(En,{placeholder:"How-to-use Video URL",value:F.how_to_use_video_url,onChange:ie=>G({...F,how_to_use_video_url:ie.target.value})}),M.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Or Upload How-to Video"}),M.jsx(En,{type:"file",accept:"video/*",onChange:ie=>H(ie.target.files[0])}),M.jsx(Ya,{placeholder:"Safety Tips",value:F.safety_tips,onChange:ie=>G({...F,safety_tips:ie.target.value})}),M.jsx(Ya,{placeholder:"Usage Guide",value:F.usage_guide,onChange:ie=>G({...F,usage_guide:ie.target.value})}),M.jsx(Lt,{type:"submit",children:K?"Update Machine":"Add Machine"})]})]})]})]})}),M.jsx(an,{children:r.length>0?M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(ie=>M.jsx(tn,{children:M.jsxs(an,{className:"p-4",children:[M.jsx("h3",{className:"font-medium text-lg mb-2",children:ie.name}),M.jsxs("div",{className:"space-y-2 mb-4",children:[ie.how_to_use_video_url&&M.jsx(Za,{variant:"secondary",children:"Has Video"}),ie.safety_tips&&M.jsx(Za,{variant:"secondary",children:"Safety Tips"}),ie.usage_guide&&M.jsx(Za,{variant:"secondary",children:"Usage Guide"})]}),M.jsxs("div",{className:"flex flex-wrap gap-2",children:[M.jsx(Lt,{size:"sm",variant:"outline",onClick:()=>qe(ie),children:M.jsx(Ax,{className:"h-4 w-4"})}),M.jsx(Lt,{size:"sm",variant:"outline",onClick:()=>re(ie.id),children:M.jsx(x3,{className:"h-4 w-4"})}),M.jsx(Lt,{size:"sm",onClick:()=>ne(ie.id),children:M.jsx(Gs,{className:"h-4 w-4"})}),M.jsx(Lt,{size:"sm",variant:"outline",onClick:()=>he(ie.id),children:M.jsx(i3,{className:"h-4 w-4"})})]})]})},ie.id))}):M.jsxs("div",{className:"text-center py-8",children:[M.jsx(_c,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),M.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No machines added"}),M.jsx("p",{className:"text-gray-600",children:"Add your first machine to get started"})]})})]})}),M.jsx(xi,{value:"analytics",children:M.jsxs(tn,{children:[M.jsxs(Si,{children:[M.jsx(bi,{children:"Analytics Overview"}),M.jsx(qi,{children:"View your gym's usage statistics and insights"})]}),M.jsx(an,{children:f?M.jsxs("div",{className:"space-y-6",children:[M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[M.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg",children:[M.jsx("h3",{className:"text-lg font-medium text-blue-900 mb-2",children:"Total Activity"}),M.jsx("p",{className:"text-3xl font-bold text-blue-600",children:f.total_scans}),M.jsx("p",{className:"text-sm text-blue-700",children:"Total QR code scans"})]}),M.jsxs("div",{className:"bg-green-50 p-6 rounded-lg",children:[M.jsx("h3",{className:"text-lg font-medium text-green-900 mb-2",children:"Recent Activity"}),M.jsx("p",{className:"text-3xl font-bold text-green-600",children:f.recent_scans}),M.jsxs("p",{className:"text-sm text-green-700",children:["Scans in last ",f.date_range_days," days"]})]})]}),M.jsxs("div",{className:"text-center py-8",children:[M.jsx(vx,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),M.jsx("p",{className:"text-gray-600",children:"More detailed analytics coming soon!"})]})]}):M.jsxs("div",{className:"text-center py-8",children:[M.jsx(vx,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),M.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No analytics data"}),M.jsx("p",{className:"text-gray-600",children:"Analytics will appear once clients start scanning your QR codes"})]})})]})})]})]})]})};function Zx(t,[e,n]){return Math.min(n,Math.max(e,t))}const IM=["top","right","bottom","left"],as=Math.min,Hi=Math.max,Of=Math.round,lf=Math.floor,Hr=t=>({x:t,y:t}),RM={left:"right",right:"left",bottom:"top",top:"bottom"},DM={start:"end",end:"start"};function K0(t,e,n){return Hi(t,as(e,n))}function yo(t,e){return typeof t=="function"?t(e):t}function Co(t){return t.split("-")[0]}function dl(t){return t.split("-")[1]}function U1(t){return t==="x"?"y":"x"}function F1(t){return t==="y"?"height":"width"}function po(t){return["top","bottom"].includes(Co(t))?"y":"x"}function V1(t){return U1(po(t))}function OM(t,e,n){n===void 0&&(n=!1);const r=dl(t),l=V1(t),f=F1(l);let p=l==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[f]>e.floating[f]&&(p=Lf(p)),[p,Lf(p)]}function LM(t){const e=Lf(t);return[Z0(t),e,Z0(e)]}function Z0(t){return t.replace(/start|end/g,e=>DM[e])}function PM(t,e,n){const r=["left","right"],l=["right","left"],f=["top","bottom"],p=["bottom","top"];switch(t){case"top":case"bottom":return n?e?l:r:e?r:l;case"left":case"right":return e?f:p;default:return[]}}function BM(t,e,n,r){const l=dl(t);let f=PM(Co(t),n==="start",r);return l&&(f=f.map(p=>p+"-"+l),e&&(f=f.concat(f.map(Z0)))),f}function Lf(t){return t.replace(/left|right|bottom|top/g,e=>RM[e])}function kM(t){return{top:0,right:0,bottom:0,left:0,...t}}function Vv(t){return typeof t!="number"?kM(t):{top:t,right:t,bottom:t,left:t}}function Pf(t){const{x:e,y:n,width:r,height:l}=t;return{width:r,height:l,top:n,left:e,right:e+r,bottom:n+l,x:e,y:n}}function Qx(t,e,n){let{reference:r,floating:l}=t;const f=po(e),p=V1(e),v=F1(p),w=Co(e),y=f==="y",T=r.x+r.width/2-l.width/2,_=r.y+r.height/2-l.height/2,I=r[v]/2-l[v]/2;let O;switch(w){case"top":O={x:T,y:r.y-l.height};break;case"bottom":O={x:T,y:r.y+r.height};break;case"right":O={x:r.x+r.width,y:_};break;case"left":O={x:r.x-l.width,y:_};break;default:O={x:r.x,y:r.y}}switch(dl(e)){case"start":O[p]-=I*(n&&y?-1:1);break;case"end":O[p]+=I*(n&&y?-1:1);break}return O}const UM=async(t,e,n)=>{const{placement:r="bottom",strategy:l="absolute",middleware:f=[],platform:p}=n,v=f.filter(Boolean),w=await(p.isRTL==null?void 0:p.isRTL(e));let y=await p.getElementRects({reference:t,floating:e,strategy:l}),{x:T,y:_}=Qx(y,r,w),I=r,O={},P=0;for(let D=0;D<v.length;D++){const{name:F,fn:G}=v[D],{x:q,y:H,data:K,reset:W}=await G({x:T,y:_,initialPlacement:r,placement:I,strategy:l,middlewareData:O,rects:y,platform:p,elements:{reference:t,floating:e}});T=q??T,_=H??_,O={...O,[F]:{...O[F],...K}},W&&P<=50&&(P++,typeof W=="object"&&(W.placement&&(I=W.placement),W.rects&&(y=W.rects===!0?await p.getElementRects({reference:t,floating:e,strategy:l}):W.rects),{x:T,y:_}=Qx(y,I,w)),D=-1)}return{x:T,y:_,placement:I,strategy:l,middlewareData:O}};async function Ic(t,e){var n;e===void 0&&(e={});const{x:r,y:l,platform:f,rects:p,elements:v,strategy:w}=t,{boundary:y="clippingAncestors",rootBoundary:T="viewport",elementContext:_="floating",altBoundary:I=!1,padding:O=0}=yo(e,t),P=Vv(O),F=v[I?_==="floating"?"reference":"floating":_],G=Pf(await f.getClippingRect({element:(n=await(f.isElement==null?void 0:f.isElement(F)))==null||n?F:F.contextElement||await(f.getDocumentElement==null?void 0:f.getDocumentElement(v.floating)),boundary:y,rootBoundary:T,strategy:w})),q=_==="floating"?{x:r,y:l,width:p.floating.width,height:p.floating.height}:p.reference,H=await(f.getOffsetParent==null?void 0:f.getOffsetParent(v.floating)),K=await(f.isElement==null?void 0:f.isElement(H))?await(f.getScale==null?void 0:f.getScale(H))||{x:1,y:1}:{x:1,y:1},W=Pf(f.convertOffsetParentRelativeRectToViewportRelativeRect?await f.convertOffsetParentRelativeRectToViewportRelativeRect({elements:v,rect:q,offsetParent:H,strategy:w}):q);return{top:(G.top-W.top+P.top)/K.y,bottom:(W.bottom-G.bottom+P.bottom)/K.y,left:(G.left-W.left+P.left)/K.x,right:(W.right-G.right+P.right)/K.x}}const FM=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:l,rects:f,platform:p,elements:v,middlewareData:w}=e,{element:y,padding:T=0}=yo(t,e)||{};if(y==null)return{};const _=Vv(T),I={x:n,y:r},O=V1(l),P=F1(O),D=await p.getDimensions(y),F=O==="y",G=F?"top":"left",q=F?"bottom":"right",H=F?"clientHeight":"clientWidth",K=f.reference[P]+f.reference[O]-I[O]-f.floating[P],W=I[O]-f.reference[O],oe=await(p.getOffsetParent==null?void 0:p.getOffsetParent(y));let Z=oe?oe[H]:0;(!Z||!await(p.isElement==null?void 0:p.isElement(oe)))&&(Z=v.floating[H]||f.floating[P]);const ae=K/2-W/2,ee=Z/2-D[P]/2-1,Me=as(_[G],ee),Re=as(_[q],ee),Te=Me,Be=Z-D[P]-Re,qe=Z/2-D[P]/2+ae,re=K0(Te,qe,Be),ne=!w.arrow&&dl(l)!=null&&qe!==re&&f.reference[P]/2-(qe<Te?Me:Re)-D[P]/2<0,he=ne?qe<Te?qe-Te:qe-Be:0;return{[O]:I[O]+he,data:{[O]:re,centerOffset:qe-re-he,...ne&&{alignmentOffset:he}},reset:ne}}}),VM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:l,middlewareData:f,rects:p,initialPlacement:v,platform:w,elements:y}=e,{mainAxis:T=!0,crossAxis:_=!0,fallbackPlacements:I,fallbackStrategy:O="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:D=!0,...F}=yo(t,e);if((n=f.arrow)!=null&&n.alignmentOffset)return{};const G=Co(l),q=po(v),H=Co(v)===v,K=await(w.isRTL==null?void 0:w.isRTL(y.floating)),W=I||(H||!D?[Lf(v)]:LM(v)),oe=P!=="none";!I&&oe&&W.push(...BM(v,D,P,K));const Z=[v,...W],ae=await Ic(e,F),ee=[];let Me=((r=f.flip)==null?void 0:r.overflows)||[];if(T&&ee.push(ae[G]),_){const re=OM(l,p,K);ee.push(ae[re[0]],ae[re[1]])}if(Me=[...Me,{placement:l,overflows:ee}],!ee.every(re=>re<=0)){var Re,Te;const re=(((Re=f.flip)==null?void 0:Re.index)||0)+1,ne=Z[re];if(ne){var Be;const ie=_==="alignment"?q!==po(ne):!1,De=((Be=Me[0])==null?void 0:Be.overflows[0])>0;if(!ie||De)return{data:{index:re,overflows:Me},reset:{placement:ne}}}let he=(Te=Me.filter(ie=>ie.overflows[0]<=0).sort((ie,De)=>ie.overflows[1]-De.overflows[1])[0])==null?void 0:Te.placement;if(!he)switch(O){case"bestFit":{var qe;const ie=(qe=Me.filter(De=>{if(oe){const j=po(De.placement);return j===q||j==="y"}return!0}).map(De=>[De.placement,De.overflows.filter(j=>j>0).reduce((j,xe)=>j+xe,0)]).sort((De,j)=>De[1]-j[1])[0])==null?void 0:qe[0];ie&&(he=ie);break}case"initialPlacement":he=v;break}if(l!==he)return{reset:{placement:he}}}return{}}}};function Jx(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function $x(t){return IM.some(e=>t[e]>=0)}const zM=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...l}=yo(t,e);switch(r){case"referenceHidden":{const f=await Ic(e,{...l,elementContext:"reference"}),p=Jx(f,n.reference);return{data:{referenceHiddenOffsets:p,referenceHidden:$x(p)}}}case"escaped":{const f=await Ic(e,{...l,altBoundary:!0}),p=Jx(f,n.floating);return{data:{escapedOffsets:p,escaped:$x(p)}}}default:return{}}}}};async function HM(t,e){const{placement:n,platform:r,elements:l}=t,f=await(r.isRTL==null?void 0:r.isRTL(l.floating)),p=Co(n),v=dl(n),w=po(n)==="y",y=["left","top"].includes(p)?-1:1,T=f&&w?-1:1,_=yo(e,t);let{mainAxis:I,crossAxis:O,alignmentAxis:P}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return v&&typeof P=="number"&&(O=v==="end"?P*-1:P),w?{x:O*T,y:I*y}:{x:I*y,y:O*T}}const GM=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:l,y:f,placement:p,middlewareData:v}=e,w=await HM(e,t);return p===((n=v.offset)==null?void 0:n.placement)&&(r=v.arrow)!=null&&r.alignmentOffset?{}:{x:l+w.x,y:f+w.y,data:{...w,placement:p}}}}},qM=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:l}=e,{mainAxis:f=!0,crossAxis:p=!1,limiter:v={fn:F=>{let{x:G,y:q}=F;return{x:G,y:q}}},...w}=yo(t,e),y={x:n,y:r},T=await Ic(e,w),_=po(Co(l)),I=U1(_);let O=y[I],P=y[_];if(f){const F=I==="y"?"top":"left",G=I==="y"?"bottom":"right",q=O+T[F],H=O-T[G];O=K0(q,O,H)}if(p){const F=_==="y"?"top":"left",G=_==="y"?"bottom":"right",q=P+T[F],H=P-T[G];P=K0(q,P,H)}const D=v.fn({...e,[I]:O,[_]:P});return{...D,data:{x:D.x-n,y:D.y-r,enabled:{[I]:f,[_]:p}}}}}},YM=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:l,rects:f,middlewareData:p}=e,{offset:v=0,mainAxis:w=!0,crossAxis:y=!0}=yo(t,e),T={x:n,y:r},_=po(l),I=U1(_);let O=T[I],P=T[_];const D=yo(v,e),F=typeof D=="number"?{mainAxis:D,crossAxis:0}:{mainAxis:0,crossAxis:0,...D};if(w){const H=I==="y"?"height":"width",K=f.reference[I]-f.floating[H]+F.mainAxis,W=f.reference[I]+f.reference[H]-F.mainAxis;O<K?O=K:O>W&&(O=W)}if(y){var G,q;const H=I==="y"?"width":"height",K=["top","left"].includes(Co(l)),W=f.reference[_]-f.floating[H]+(K&&((G=p.offset)==null?void 0:G[_])||0)+(K?0:F.crossAxis),oe=f.reference[_]+f.reference[H]+(K?0:((q=p.offset)==null?void 0:q[_])||0)-(K?F.crossAxis:0);P<W?P=W:P>oe&&(P=oe)}return{[I]:O,[_]:P}}}},XM=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:l,rects:f,platform:p,elements:v}=e,{apply:w=()=>{},...y}=yo(t,e),T=await Ic(e,y),_=Co(l),I=dl(l),O=po(l)==="y",{width:P,height:D}=f.floating;let F,G;_==="top"||_==="bottom"?(F=_,G=I===(await(p.isRTL==null?void 0:p.isRTL(v.floating))?"start":"end")?"left":"right"):(G=_,F=I==="end"?"top":"bottom");const q=D-T.top-T.bottom,H=P-T.left-T.right,K=as(D-T[F],q),W=as(P-T[G],H),oe=!e.middlewareData.shift;let Z=K,ae=W;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(ae=H),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(Z=q),oe&&!I){const Me=Hi(T.left,0),Re=Hi(T.right,0),Te=Hi(T.top,0),Be=Hi(T.bottom,0);O?ae=P-2*(Me!==0||Re!==0?Me+Re:Hi(T.left,T.right)):Z=D-2*(Te!==0||Be!==0?Te+Be:Hi(T.top,T.bottom))}await w({...e,availableWidth:ae,availableHeight:Z});const ee=await p.getDimensions(v.floating);return P!==ee.width||D!==ee.height?{reset:{rects:!0}}:{}}}};function td(){return typeof window<"u"}function hl(t){return zv(t)?(t.nodeName||"").toLowerCase():"#document"}function Wi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function qr(t){var e;return(e=(zv(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function zv(t){return td()?t instanceof Node||t instanceof Wi(t).Node:!1}function mr(t){return td()?t instanceof Element||t instanceof Wi(t).Element:!1}function Gr(t){return td()?t instanceof HTMLElement||t instanceof Wi(t).HTMLElement:!1}function ey(t){return!td()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Wi(t).ShadowRoot}function Fc(t){const{overflow:e,overflowX:n,overflowY:r,display:l}=pr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(l)}function WM(t){return["table","td","th"].includes(hl(t))}function nd(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function z1(t){const e=H1(),n=mr(t)?pr(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function jM(t){let e=ls(t);for(;Gr(e)&&!tl(e);){if(z1(e))return e;if(nd(e))return null;e=ls(e)}return null}function H1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function tl(t){return["html","body","#document"].includes(hl(t))}function pr(t){return Wi(t).getComputedStyle(t)}function id(t){return mr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ls(t){if(hl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ey(t)&&t.host||qr(t);return ey(e)?e.host:e}function Hv(t){const e=ls(t);return tl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Gr(e)&&Fc(e)?e:Hv(e)}function Rc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const l=Hv(t),f=l===((r=t.ownerDocument)==null?void 0:r.body),p=Wi(l);if(f){const v=Q0(p);return e.concat(p,p.visualViewport||[],Fc(l)?l:[],v&&n?Rc(v):[])}return e.concat(l,Rc(l,[],n))}function Q0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Gv(t){const e=pr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const l=Gr(t),f=l?t.offsetWidth:n,p=l?t.offsetHeight:r,v=Of(n)!==f||Of(r)!==p;return v&&(n=f,r=p),{width:n,height:r,$:v}}function G1(t){return mr(t)?t:t.contextElement}function Qa(t){const e=G1(t);if(!Gr(e))return Hr(1);const n=e.getBoundingClientRect(),{width:r,height:l,$:f}=Gv(e);let p=(f?Of(n.width):n.width)/r,v=(f?Of(n.height):n.height)/l;return(!p||!Number.isFinite(p))&&(p=1),(!v||!Number.isFinite(v))&&(v=1),{x:p,y:v}}const KM=Hr(0);function qv(t){const e=Wi(t);return!H1()||!e.visualViewport?KM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ZM(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Wi(t)?!1:e}function js(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const l=t.getBoundingClientRect(),f=G1(t);let p=Hr(1);e&&(r?mr(r)&&(p=Qa(r)):p=Qa(t));const v=ZM(f,n,r)?qv(f):Hr(0);let w=(l.left+v.x)/p.x,y=(l.top+v.y)/p.y,T=l.width/p.x,_=l.height/p.y;if(f){const I=Wi(f),O=r&&mr(r)?Wi(r):r;let P=I,D=Q0(P);for(;D&&r&&O!==P;){const F=Qa(D),G=D.getBoundingClientRect(),q=pr(D),H=G.left+(D.clientLeft+parseFloat(q.paddingLeft))*F.x,K=G.top+(D.clientTop+parseFloat(q.paddingTop))*F.y;w*=F.x,y*=F.y,T*=F.x,_*=F.y,w+=H,y+=K,P=Wi(D),D=Q0(P)}}return Pf({width:T,height:_,x:w,y})}function q1(t,e){const n=id(t).scrollLeft;return e?e.left+n:js(qr(t)).left+n}function Yv(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),l=r.left+e.scrollLeft-(n?0:q1(t,r)),f=r.top+e.scrollTop;return{x:l,y:f}}function QM(t){let{elements:e,rect:n,offsetParent:r,strategy:l}=t;const f=l==="fixed",p=qr(r),v=e?nd(e.floating):!1;if(r===p||v&&f)return n;let w={scrollLeft:0,scrollTop:0},y=Hr(1);const T=Hr(0),_=Gr(r);if((_||!_&&!f)&&((hl(r)!=="body"||Fc(p))&&(w=id(r)),Gr(r))){const O=js(r);y=Qa(r),T.x=O.x+r.clientLeft,T.y=O.y+r.clientTop}const I=p&&!_&&!f?Yv(p,w,!0):Hr(0);return{width:n.width*y.x,height:n.height*y.y,x:n.x*y.x-w.scrollLeft*y.x+T.x+I.x,y:n.y*y.y-w.scrollTop*y.y+T.y+I.y}}function JM(t){return Array.from(t.getClientRects())}function $M(t){const e=qr(t),n=id(t),r=t.ownerDocument.body,l=Hi(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),f=Hi(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let p=-n.scrollLeft+q1(t);const v=-n.scrollTop;return pr(r).direction==="rtl"&&(p+=Hi(e.clientWidth,r.clientWidth)-l),{width:l,height:f,x:p,y:v}}function eI(t,e){const n=Wi(t),r=qr(t),l=n.visualViewport;let f=r.clientWidth,p=r.clientHeight,v=0,w=0;if(l){f=l.width,p=l.height;const y=H1();(!y||y&&e==="fixed")&&(v=l.offsetLeft,w=l.offsetTop)}return{width:f,height:p,x:v,y:w}}function tI(t,e){const n=js(t,!0,e==="fixed"),r=n.top+t.clientTop,l=n.left+t.clientLeft,f=Gr(t)?Qa(t):Hr(1),p=t.clientWidth*f.x,v=t.clientHeight*f.y,w=l*f.x,y=r*f.y;return{width:p,height:v,x:w,y}}function ty(t,e,n){let r;if(e==="viewport")r=eI(t,n);else if(e==="document")r=$M(qr(t));else if(mr(e))r=tI(e,n);else{const l=qv(t);r={x:e.x-l.x,y:e.y-l.y,width:e.width,height:e.height}}return Pf(r)}function Xv(t,e){const n=ls(t);return n===e||!mr(n)||tl(n)?!1:pr(n).position==="fixed"||Xv(n,e)}function nI(t,e){const n=e.get(t);if(n)return n;let r=Rc(t,[],!1).filter(v=>mr(v)&&hl(v)!=="body"),l=null;const f=pr(t).position==="fixed";let p=f?ls(t):t;for(;mr(p)&&!tl(p);){const v=pr(p),w=z1(p);!w&&v.position==="fixed"&&(l=null),(f?!w&&!l:!w&&v.position==="static"&&!!l&&["absolute","fixed"].includes(l.position)||Fc(p)&&!w&&Xv(t,p))?r=r.filter(T=>T!==p):l=v,p=ls(p)}return e.set(t,r),r}function iI(t){let{element:e,boundary:n,rootBoundary:r,strategy:l}=t;const p=[...n==="clippingAncestors"?nd(e)?[]:nI(e,this._c):[].concat(n),r],v=p[0],w=p.reduce((y,T)=>{const _=ty(e,T,l);return y.top=Hi(_.top,y.top),y.right=as(_.right,y.right),y.bottom=as(_.bottom,y.bottom),y.left=Hi(_.left,y.left),y},ty(e,v,l));return{width:w.right-w.left,height:w.bottom-w.top,x:w.left,y:w.top}}function rI(t){const{width:e,height:n}=Gv(t);return{width:e,height:n}}function oI(t,e,n){const r=Gr(e),l=qr(e),f=n==="fixed",p=js(t,!0,f,e);let v={scrollLeft:0,scrollTop:0};const w=Hr(0);function y(){w.x=q1(l)}if(r||!r&&!f)if((hl(e)!=="body"||Fc(l))&&(v=id(e)),r){const O=js(e,!0,f,e);w.x=O.x+e.clientLeft,w.y=O.y+e.clientTop}else l&&y();f&&!r&&l&&y();const T=l&&!r&&!f?Yv(l,v):Hr(0),_=p.left+v.scrollLeft-w.x-T.x,I=p.top+v.scrollTop-w.y-T.y;return{x:_,y:I,width:p.width,height:p.height}}function I0(t){return pr(t).position==="static"}function ny(t,e){if(!Gr(t)||pr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return qr(t)===n&&(n=n.ownerDocument.body),n}function Wv(t,e){const n=Wi(t);if(nd(t))return n;if(!Gr(t)){let l=ls(t);for(;l&&!tl(l);){if(mr(l)&&!I0(l))return l;l=ls(l)}return n}let r=ny(t,e);for(;r&&WM(r)&&I0(r);)r=ny(r,e);return r&&tl(r)&&I0(r)&&!z1(r)?n:r||jM(t)||n}const sI=async function(t){const e=this.getOffsetParent||Wv,n=this.getDimensions,r=await n(t.floating);return{reference:oI(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function aI(t){return pr(t).direction==="rtl"}const lI={convertOffsetParentRelativeRectToViewportRelativeRect:QM,getDocumentElement:qr,getClippingRect:iI,getOffsetParent:Wv,getElementRects:sI,getClientRects:JM,getDimensions:rI,getScale:Qa,isElement:mr,isRTL:aI};function jv(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function cI(t,e){let n=null,r;const l=qr(t);function f(){var v;clearTimeout(r),(v=n)==null||v.disconnect(),n=null}function p(v,w){v===void 0&&(v=!1),w===void 0&&(w=1),f();const y=t.getBoundingClientRect(),{left:T,top:_,width:I,height:O}=y;if(v||e(),!I||!O)return;const P=lf(_),D=lf(l.clientWidth-(T+I)),F=lf(l.clientHeight-(_+O)),G=lf(T),H={rootMargin:-P+"px "+-D+"px "+-F+"px "+-G+"px",threshold:Hi(0,as(1,w))||1};let K=!0;function W(oe){const Z=oe[0].intersectionRatio;if(Z!==w){if(!K)return p();Z?p(!1,Z):r=setTimeout(()=>{p(!1,1e-7)},1e3)}Z===1&&!jv(y,t.getBoundingClientRect())&&p(),K=!1}try{n=new IntersectionObserver(W,{...H,root:l.ownerDocument})}catch{n=new IntersectionObserver(W,H)}n.observe(t)}return p(!0),f}function uI(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:l=!0,ancestorResize:f=!0,elementResize:p=typeof ResizeObserver=="function",layoutShift:v=typeof IntersectionObserver=="function",animationFrame:w=!1}=r,y=G1(t),T=l||f?[...y?Rc(y):[],...Rc(e)]:[];T.forEach(G=>{l&&G.addEventListener("scroll",n,{passive:!0}),f&&G.addEventListener("resize",n)});const _=y&&v?cI(y,n):null;let I=-1,O=null;p&&(O=new ResizeObserver(G=>{let[q]=G;q&&q.target===y&&O&&(O.unobserve(e),cancelAnimationFrame(I),I=requestAnimationFrame(()=>{var H;(H=O)==null||H.observe(e)})),n()}),y&&!w&&O.observe(y),O.observe(e));let P,D=w?js(t):null;w&&F();function F(){const G=js(t);D&&!jv(D,G)&&n(),D=G,P=requestAnimationFrame(F)}return n(),()=>{var G;T.forEach(q=>{l&&q.removeEventListener("scroll",n),f&&q.removeEventListener("resize",n)}),_==null||_(),(G=O)==null||G.disconnect(),O=null,w&&cancelAnimationFrame(P)}}const fI=GM,dI=qM,hI=VM,gI=XM,mI=zM,iy=FM,pI=YM,xI=(t,e,n)=>{const r=new Map,l={platform:lI,...n},f={...l.platform,_c:r};return UM(t,e,{...l,platform:f})};var Tf=typeof document<"u"?B.useLayoutEffect:B.useEffect;function Bf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,l;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Bf(t[r],e[r]))return!1;return!0}if(l=Object.keys(t),n=l.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,l[r]))return!1;for(r=n;r--!==0;){const f=l[r];if(!(f==="_owner"&&t.$$typeof)&&!Bf(t[f],e[f]))return!1}return!0}return t!==t&&e!==e}function Kv(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ry(t,e){const n=Kv(t);return Math.round(e*n)/n}function R0(t){const e=B.useRef(t);return Tf(()=>{e.current=t}),e}function yI(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:l,elements:{reference:f,floating:p}={},transform:v=!0,whileElementsMounted:w,open:y}=t,[T,_]=B.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[I,O]=B.useState(r);Bf(I,r)||O(r);const[P,D]=B.useState(null),[F,G]=B.useState(null),q=B.useCallback(ie=>{ie!==oe.current&&(oe.current=ie,D(ie))},[]),H=B.useCallback(ie=>{ie!==Z.current&&(Z.current=ie,G(ie))},[]),K=f||P,W=p||F,oe=B.useRef(null),Z=B.useRef(null),ae=B.useRef(T),ee=w!=null,Me=R0(w),Re=R0(l),Te=R0(y),Be=B.useCallback(()=>{if(!oe.current||!Z.current)return;const ie={placement:e,strategy:n,middleware:I};Re.current&&(ie.platform=Re.current),xI(oe.current,Z.current,ie).then(De=>{const j={...De,isPositioned:Te.current!==!1};qe.current&&!Bf(ae.current,j)&&(ae.current=j,Lc.flushSync(()=>{_(j)}))})},[I,e,n,Re,Te]);Tf(()=>{y===!1&&ae.current.isPositioned&&(ae.current.isPositioned=!1,_(ie=>({...ie,isPositioned:!1})))},[y]);const qe=B.useRef(!1);Tf(()=>(qe.current=!0,()=>{qe.current=!1}),[]),Tf(()=>{if(K&&(oe.current=K),W&&(Z.current=W),K&&W){if(Me.current)return Me.current(K,W,Be);Be()}},[K,W,Be,Me,ee]);const re=B.useMemo(()=>({reference:oe,floating:Z,setReference:q,setFloating:H}),[q,H]),ne=B.useMemo(()=>({reference:K,floating:W}),[K,W]),he=B.useMemo(()=>{const ie={position:n,left:0,top:0};if(!ne.floating)return ie;const De=ry(ne.floating,T.x),j=ry(ne.floating,T.y);return v?{...ie,transform:"translate("+De+"px, "+j+"px)",...Kv(ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:De,top:j}},[n,v,ne.floating,T.x,T.y]);return B.useMemo(()=>({...T,update:Be,refs:re,elements:ne,floatingStyles:he}),[T,Be,re,ne,he])}const CI=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:l}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?iy({element:r.current,padding:l}).fn(n):{}:r?iy({element:r,padding:l}).fn(n):{}}}},vI=(t,e)=>({...fI(t),options:[t,e]}),EI=(t,e)=>({...dI(t),options:[t,e]}),wI=(t,e)=>({...pI(t),options:[t,e]}),AI=(t,e)=>({...hI(t),options:[t,e]}),TI=(t,e)=>({...gI(t),options:[t,e]}),SI=(t,e)=>({...mI(t),options:[t,e]}),bI=(t,e)=>({...CI(t),options:[t,e]});var _I="Arrow",Zv=B.forwardRef((t,e)=>{const{children:n,width:r=10,height:l=5,...f}=t;return M.jsx(Mt.svg,{...f,ref:e,width:r,height:l,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:M.jsx("polygon",{points:"0,0 30,0 15,10"})})});Zv.displayName=_I;var NI=Zv;function MI(t){const[e,n]=B.useState(void 0);return di(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(l=>{if(!Array.isArray(l)||!l.length)return;const f=l[0];let p,v;if("borderBoxSize"in f){const w=f.borderBoxSize,y=Array.isArray(w)?w[0]:w;p=y.inlineSize,v=y.blockSize}else p=t.offsetWidth,v=t.offsetHeight;n({width:p,height:v})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Y1="Popper",[Qv,Jv]=al(Y1),[II,$v]=Qv(Y1),eE=t=>{const{__scopePopper:e,children:n}=t,[r,l]=B.useState(null);return M.jsx(II,{scope:e,anchor:r,onAnchorChange:l,children:n})};eE.displayName=Y1;var tE="PopperAnchor",nE=B.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...l}=t,f=$v(tE,n),p=B.useRef(null),v=gn(e,p);return B.useEffect(()=>{f.onAnchorChange((r==null?void 0:r.current)||p.current)}),r?null:M.jsx(Mt.div,{...l,ref:v})});nE.displayName=tE;var X1="PopperContent",[RI,DI]=Qv(X1),iE=B.forwardRef((t,e)=>{var Pe,ke,Ct,lt,Qe,st;const{__scopePopper:n,side:r="bottom",sideOffset:l=0,align:f="center",alignOffset:p=0,arrowPadding:v=0,avoidCollisions:w=!0,collisionBoundary:y=[],collisionPadding:T=0,sticky:_="partial",hideWhenDetached:I=!1,updatePositionStrategy:O="optimized",onPlaced:P,...D}=t,F=$v(X1,n),[G,q]=B.useState(null),H=gn(e,et=>q(et)),[K,W]=B.useState(null),oe=MI(K),Z=(oe==null?void 0:oe.width)??0,ae=(oe==null?void 0:oe.height)??0,ee=r+(f!=="center"?"-"+f:""),Me=typeof T=="number"?T:{top:0,right:0,bottom:0,left:0,...T},Re=Array.isArray(y)?y:[y],Te=Re.length>0,Be={padding:Me,boundary:Re.filter(LI),altBoundary:Te},{refs:qe,floatingStyles:re,placement:ne,isPositioned:he,middlewareData:ie}=yI({strategy:"fixed",placement:ee,whileElementsMounted:(...et)=>uI(...et,{animationFrame:O==="always"}),elements:{reference:F.anchor},middleware:[vI({mainAxis:l+ae,alignmentAxis:p}),w&&EI({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?wI():void 0,...Be}),w&&AI({...Be}),TI({...Be,apply:({elements:et,rects:wn,availableWidth:Gn,availableHeight:Mi})=>{const{width:At,height:Rt}=wn.reference,ct=et.floating.style;ct.setProperty("--radix-popper-available-width",`${Gn}px`),ct.setProperty("--radix-popper-available-height",`${Mi}px`),ct.setProperty("--radix-popper-anchor-width",`${At}px`),ct.setProperty("--radix-popper-anchor-height",`${Rt}px`)}}),K&&bI({element:K,padding:v}),PI({arrowWidth:Z,arrowHeight:ae}),I&&SI({strategy:"referenceHidden",...Be})]}),[De,j]=sE(ne),xe=ss(P);di(()=>{he&&(xe==null||xe())},[he,xe]);const Ee=(Pe=ie.arrow)==null?void 0:Pe.x,Se=(ke=ie.arrow)==null?void 0:ke.y,Oe=((Ct=ie.arrow)==null?void 0:Ct.centerOffset)!==0,[tt,be]=B.useState();return di(()=>{G&&be(window.getComputedStyle(G).zIndex)},[G]),M.jsx("div",{ref:qe.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:he?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:tt,"--radix-popper-transform-origin":[(lt=ie.transformOrigin)==null?void 0:lt.x,(Qe=ie.transformOrigin)==null?void 0:Qe.y].join(" "),...((st=ie.hide)==null?void 0:st.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:M.jsx(RI,{scope:n,placedSide:De,onArrowChange:W,arrowX:Ee,arrowY:Se,shouldHideArrow:Oe,children:M.jsx(Mt.div,{"data-side":De,"data-align":j,...D,ref:H,style:{...D.style,animation:he?void 0:"none"}})})})});iE.displayName=X1;var rE="PopperArrow",OI={top:"bottom",right:"left",bottom:"top",left:"right"},oE=B.forwardRef(function(e,n){const{__scopePopper:r,...l}=e,f=DI(rE,r),p=OI[f.placedSide];return M.jsx("span",{ref:f.onArrowChange,style:{position:"absolute",left:f.arrowX,top:f.arrowY,[p]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[f.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[f.placedSide],visibility:f.shouldHideArrow?"hidden":void 0},children:M.jsx(NI,{...l,ref:n,style:{...l.style,display:"block"}})})});oE.displayName=rE;function LI(t){return t!==null}var PI=t=>({name:"transformOrigin",options:t,fn(e){var F,G,q;const{placement:n,rects:r,middlewareData:l}=e,p=((F=l.arrow)==null?void 0:F.centerOffset)!==0,v=p?0:t.arrowWidth,w=p?0:t.arrowHeight,[y,T]=sE(n),_={start:"0%",center:"50%",end:"100%"}[T],I=(((G=l.arrow)==null?void 0:G.x)??0)+v/2,O=(((q=l.arrow)==null?void 0:q.y)??0)+w/2;let P="",D="";return y==="bottom"?(P=p?_:`${I}px`,D=`${-w}px`):y==="top"?(P=p?_:`${I}px`,D=`${r.floating.height+w}px`):y==="right"?(P=`${-w}px`,D=p?_:`${O}px`):y==="left"&&(P=`${r.floating.width+w}px`,D=p?_:`${O}px`),{data:{x:P,y:D}}}});function sE(t){const[e,n="center"]=t.split("-");return[e,n]}var BI=eE,kI=nE,UI=iE,FI=oE;function VI(t){const e=B.useRef({value:t,previous:t});return B.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var aE=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),zI="VisuallyHidden",HI=B.forwardRef((t,e)=>M.jsx(Mt.span,{...t,ref:e,style:{...aE,...t.style}}));HI.displayName=zI;var GI=[" ","Enter","ArrowUp","ArrowDown"],qI=[" ","Enter"],Ks="Select",[rd,od,YI]=hC(Ks),[gl,jP]=al(Ks,[YI,Jv]),sd=Jv(),[XI,ds]=gl(Ks),[WI,jI]=gl(Ks),lE=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:l,onOpenChange:f,value:p,defaultValue:v,onValueChange:w,dir:y,name:T,autoComplete:_,disabled:I,required:O,form:P}=t,D=sd(e),[F,G]=B.useState(null),[q,H]=B.useState(null),[K,W]=B.useState(!1),oe=b1(y),[Z,ae]=bc({prop:r,defaultProp:l??!1,onChange:f,caller:Ks}),[ee,Me]=bc({prop:p,defaultProp:v,onChange:w,caller:Ks}),Re=B.useRef(null),Te=F?P||!!F.closest("form"):!0,[Be,qe]=B.useState(new Set),re=Array.from(Be).map(ne=>ne.props.value).join(";");return M.jsx(BI,{...D,children:M.jsxs(XI,{required:O,scope:e,trigger:F,onTriggerChange:G,valueNode:q,onValueNodeChange:H,valueNodeHasChildren:K,onValueNodeHasChildrenChange:W,contentId:os(),value:ee,onValueChange:Me,open:Z,onOpenChange:ae,dir:oe,triggerPointerDownPosRef:Re,disabled:I,children:[M.jsx(rd.Provider,{scope:e,children:M.jsx(WI,{scope:t.__scopeSelect,onNativeOptionAdd:B.useCallback(ne=>{qe(he=>new Set(he).add(ne))},[]),onNativeOptionRemove:B.useCallback(ne=>{qe(he=>{const ie=new Set(he);return ie.delete(ne),ie})},[]),children:n})}),Te?M.jsxs(IE,{"aria-hidden":!0,required:O,tabIndex:-1,name:T,autoComplete:_,value:ee,onChange:ne=>Me(ne.target.value),disabled:I,form:P,children:[ee===void 0?M.jsx("option",{value:""}):null,Array.from(Be)]},re):null]})})};lE.displayName=Ks;var cE="SelectTrigger",uE=B.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...l}=t,f=sd(n),p=ds(cE,n),v=p.disabled||r,w=gn(e,p.onTriggerChange),y=od(n),T=B.useRef("touch"),[_,I,O]=DE(D=>{const F=y().filter(H=>!H.disabled),G=F.find(H=>H.value===p.value),q=OE(F,D,G);q!==void 0&&p.onValueChange(q.value)}),P=D=>{v||(p.onOpenChange(!0),O()),D&&(p.triggerPointerDownPosRef.current={x:Math.round(D.pageX),y:Math.round(D.pageY)})};return M.jsx(kI,{asChild:!0,...f,children:M.jsx(Mt.button,{type:"button",role:"combobox","aria-controls":p.contentId,"aria-expanded":p.open,"aria-required":p.required,"aria-autocomplete":"none",dir:p.dir,"data-state":p.open?"open":"closed",disabled:v,"data-disabled":v?"":void 0,"data-placeholder":RE(p.value)?"":void 0,...l,ref:w,onClick:St(l.onClick,D=>{D.currentTarget.focus(),T.current!=="mouse"&&P(D)}),onPointerDown:St(l.onPointerDown,D=>{T.current=D.pointerType;const F=D.target;F.hasPointerCapture(D.pointerId)&&F.releasePointerCapture(D.pointerId),D.button===0&&D.ctrlKey===!1&&D.pointerType==="mouse"&&(P(D),D.preventDefault())}),onKeyDown:St(l.onKeyDown,D=>{const F=_.current!=="";!(D.ctrlKey||D.altKey||D.metaKey)&&D.key.length===1&&I(D.key),!(F&&D.key===" ")&&GI.includes(D.key)&&(P(),D.preventDefault())})})})});uE.displayName=cE;var fE="SelectValue",dE=B.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:l,children:f,placeholder:p="",...v}=t,w=ds(fE,n),{onValueNodeHasChildrenChange:y}=w,T=f!==void 0,_=gn(e,w.onValueNodeChange);return di(()=>{y(T)},[y,T]),M.jsx(Mt.span,{...v,ref:_,style:{pointerEvents:"none"},children:RE(w.value)?M.jsx(M.Fragment,{children:p}):f})});dE.displayName=fE;var KI="SelectIcon",hE=B.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...l}=t;return M.jsx(Mt.span,{"aria-hidden":!0,...l,ref:e,children:r||"▼"})});hE.displayName=KI;var ZI="SelectPortal",gE=t=>M.jsx(O1,{asChild:!0,...t});gE.displayName=ZI;var Zs="SelectContent",mE=B.forwardRef((t,e)=>{const n=ds(Zs,t.__scopeSelect),[r,l]=B.useState();if(di(()=>{l(new DocumentFragment)},[]),!n.open){const f=r;return f?Lc.createPortal(M.jsx(pE,{scope:t.__scopeSelect,children:M.jsx(rd.Slot,{scope:t.__scopeSelect,children:M.jsx("div",{children:t.children})})}),f):null}return M.jsx(xE,{...t,ref:e})});mE.displayName=Zs;var dr=10,[pE,hs]=gl(Zs),QI="SelectContentImpl",JI=el("SelectContent.RemoveScroll"),xE=B.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:f,onPointerDownOutside:p,side:v,sideOffset:w,align:y,alignOffset:T,arrowPadding:_,collisionBoundary:I,collisionPadding:O,sticky:P,hideWhenDetached:D,avoidCollisions:F,...G}=t,q=ds(Zs,n),[H,K]=B.useState(null),[W,oe]=B.useState(null),Z=gn(e,Pe=>K(Pe)),[ae,ee]=B.useState(null),[Me,Re]=B.useState(null),Te=od(n),[Be,qe]=B.useState(!1),re=B.useRef(!1);B.useEffect(()=>{if(H)return Av(H)},[H]),gv();const ne=B.useCallback(Pe=>{const[ke,...Ct]=Te().map(st=>st.ref.current),[lt]=Ct.slice(-1),Qe=document.activeElement;for(const st of Pe)if(st===Qe||(st==null||st.scrollIntoView({block:"nearest"}),st===ke&&W&&(W.scrollTop=0),st===lt&&W&&(W.scrollTop=W.scrollHeight),st==null||st.focus(),document.activeElement!==Qe))return},[Te,W]),he=B.useCallback(()=>ne([ae,H]),[ne,ae,H]);B.useEffect(()=>{Be&&he()},[Be,he]);const{onOpenChange:ie,triggerPointerDownPosRef:De}=q;B.useEffect(()=>{if(H){let Pe={x:0,y:0};const ke=lt=>{var Qe,st;Pe={x:Math.abs(Math.round(lt.pageX)-(((Qe=De.current)==null?void 0:Qe.x)??0)),y:Math.abs(Math.round(lt.pageY)-(((st=De.current)==null?void 0:st.y)??0))}},Ct=lt=>{Pe.x<=10&&Pe.y<=10?lt.preventDefault():H.contains(lt.target)||ie(!1),document.removeEventListener("pointermove",ke),De.current=null};return De.current!==null&&(document.addEventListener("pointermove",ke),document.addEventListener("pointerup",Ct,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ke),document.removeEventListener("pointerup",Ct,{capture:!0})}}},[H,ie,De]),B.useEffect(()=>{const Pe=()=>ie(!1);return window.addEventListener("blur",Pe),window.addEventListener("resize",Pe),()=>{window.removeEventListener("blur",Pe),window.removeEventListener("resize",Pe)}},[ie]);const[j,xe]=DE(Pe=>{const ke=Te().filter(Qe=>!Qe.disabled),Ct=ke.find(Qe=>Qe.ref.current===document.activeElement),lt=OE(ke,Pe,Ct);lt&&setTimeout(()=>lt.ref.current.focus())}),Ee=B.useCallback((Pe,ke,Ct)=>{const lt=!re.current&&!Ct;(q.value!==void 0&&q.value===ke||lt)&&(ee(Pe),lt&&(re.current=!0))},[q.value]),Se=B.useCallback(()=>H==null?void 0:H.focus(),[H]),Oe=B.useCallback((Pe,ke,Ct)=>{const lt=!re.current&&!Ct;(q.value!==void 0&&q.value===ke||lt)&&Re(Pe)},[q.value]),tt=r==="popper"?J0:yE,be=tt===J0?{side:v,sideOffset:w,align:y,alignOffset:T,arrowPadding:_,collisionBoundary:I,collisionPadding:O,sticky:P,hideWhenDetached:D,avoidCollisions:F}:{};return M.jsx(pE,{scope:n,content:H,viewport:W,onViewportChange:oe,itemRefCallback:Ee,selectedItem:ae,onItemLeave:Se,itemTextRefCallback:Oe,focusSelectedItem:he,selectedItemText:Me,position:r,isPositioned:Be,searchRef:j,children:M.jsx(L1,{as:JI,allowPinchZoom:!0,children:M.jsx(D1,{asChild:!0,trapped:q.open,onMountAutoFocus:Pe=>{Pe.preventDefault()},onUnmountAutoFocus:St(l,Pe=>{var ke;(ke=q.trigger)==null||ke.focus({preventScroll:!0}),Pe.preventDefault()}),children:M.jsx(R1,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:Pe=>Pe.preventDefault(),onDismiss:()=>q.onOpenChange(!1),children:M.jsx(tt,{role:"listbox",id:q.contentId,"data-state":q.open?"open":"closed",dir:q.dir,onContextMenu:Pe=>Pe.preventDefault(),...G,...be,onPlaced:()=>qe(!0),ref:Z,style:{display:"flex",flexDirection:"column",outline:"none",...G.style},onKeyDown:St(G.onKeyDown,Pe=>{const ke=Pe.ctrlKey||Pe.altKey||Pe.metaKey;if(Pe.key==="Tab"&&Pe.preventDefault(),!ke&&Pe.key.length===1&&xe(Pe.key),["ArrowUp","ArrowDown","Home","End"].includes(Pe.key)){let lt=Te().filter(Qe=>!Qe.disabled).map(Qe=>Qe.ref.current);if(["ArrowUp","End"].includes(Pe.key)&&(lt=lt.slice().reverse()),["ArrowUp","ArrowDown"].includes(Pe.key)){const Qe=Pe.target,st=lt.indexOf(Qe);lt=lt.slice(st+1)}setTimeout(()=>ne(lt)),Pe.preventDefault()}})})})})})})});xE.displayName=QI;var $I="SelectItemAlignedPosition",yE=B.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...l}=t,f=ds(Zs,n),p=hs(Zs,n),[v,w]=B.useState(null),[y,T]=B.useState(null),_=gn(e,Z=>T(Z)),I=od(n),O=B.useRef(!1),P=B.useRef(!0),{viewport:D,selectedItem:F,selectedItemText:G,focusSelectedItem:q}=p,H=B.useCallback(()=>{if(f.trigger&&f.valueNode&&v&&y&&D&&F&&G){const Z=f.trigger.getBoundingClientRect(),ae=y.getBoundingClientRect(),ee=f.valueNode.getBoundingClientRect(),Me=G.getBoundingClientRect();if(f.dir!=="rtl"){const Qe=Me.left-ae.left,st=ee.left-Qe,et=Z.left-st,wn=Z.width+et,Gn=Math.max(wn,ae.width),Mi=window.innerWidth-dr,At=Zx(st,[dr,Math.max(dr,Mi-Gn)]);v.style.minWidth=wn+"px",v.style.left=At+"px"}else{const Qe=ae.right-Me.right,st=window.innerWidth-ee.right-Qe,et=window.innerWidth-Z.right-st,wn=Z.width+et,Gn=Math.max(wn,ae.width),Mi=window.innerWidth-dr,At=Zx(st,[dr,Math.max(dr,Mi-Gn)]);v.style.minWidth=wn+"px",v.style.right=At+"px"}const Re=I(),Te=window.innerHeight-dr*2,Be=D.scrollHeight,qe=window.getComputedStyle(y),re=parseInt(qe.borderTopWidth,10),ne=parseInt(qe.paddingTop,10),he=parseInt(qe.borderBottomWidth,10),ie=parseInt(qe.paddingBottom,10),De=re+ne+Be+ie+he,j=Math.min(F.offsetHeight*5,De),xe=window.getComputedStyle(D),Ee=parseInt(xe.paddingTop,10),Se=parseInt(xe.paddingBottom,10),Oe=Z.top+Z.height/2-dr,tt=Te-Oe,be=F.offsetHeight/2,Pe=F.offsetTop+be,ke=re+ne+Pe,Ct=De-ke;if(ke<=Oe){const Qe=Re.length>0&&F===Re[Re.length-1].ref.current;v.style.bottom="0px";const st=y.clientHeight-D.offsetTop-D.offsetHeight,et=Math.max(tt,be+(Qe?Se:0)+st+he),wn=ke+et;v.style.height=wn+"px"}else{const Qe=Re.length>0&&F===Re[0].ref.current;v.style.top="0px";const et=Math.max(Oe,re+D.offsetTop+(Qe?Ee:0)+be)+Ct;v.style.height=et+"px",D.scrollTop=ke-Oe+D.offsetTop}v.style.margin=`${dr}px 0`,v.style.minHeight=j+"px",v.style.maxHeight=Te+"px",r==null||r(),requestAnimationFrame(()=>O.current=!0)}},[I,f.trigger,f.valueNode,v,y,D,F,G,f.dir,r]);di(()=>H(),[H]);const[K,W]=B.useState();di(()=>{y&&W(window.getComputedStyle(y).zIndex)},[y]);const oe=B.useCallback(Z=>{Z&&P.current===!0&&(H(),q==null||q(),P.current=!1)},[H,q]);return M.jsx(tR,{scope:n,contentWrapper:v,shouldExpandOnScrollRef:O,onScrollButtonChange:oe,children:M.jsx("div",{ref:w,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:K},children:M.jsx(Mt.div,{...l,ref:_,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});yE.displayName=$I;var eR="SelectPopperPosition",J0=B.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:l=dr,...f}=t,p=sd(n);return M.jsx(UI,{...p,...f,ref:e,align:r,collisionPadding:l,style:{boxSizing:"border-box",...f.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});J0.displayName=eR;var[tR,W1]=gl(Zs,{}),$0="SelectViewport",CE=B.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...l}=t,f=hs($0,n),p=W1($0,n),v=gn(e,f.onViewportChange),w=B.useRef(0);return M.jsxs(M.Fragment,{children:[M.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),M.jsx(rd.Slot,{scope:n,children:M.jsx(Mt.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:v,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:St(l.onScroll,y=>{const T=y.currentTarget,{contentWrapper:_,shouldExpandOnScrollRef:I}=p;if(I!=null&&I.current&&_){const O=Math.abs(w.current-T.scrollTop);if(O>0){const P=window.innerHeight-dr*2,D=parseFloat(_.style.minHeight),F=parseFloat(_.style.height),G=Math.max(D,F);if(G<P){const q=G+O,H=Math.min(P,q),K=q-H;_.style.height=H+"px",_.style.bottom==="0px"&&(T.scrollTop=K>0?K:0,_.style.justifyContent="flex-end")}}}w.current=T.scrollTop})})})]})});CE.displayName=$0;var vE="SelectGroup",[nR,iR]=gl(vE),rR=B.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,l=os();return M.jsx(nR,{scope:n,id:l,children:M.jsx(Mt.div,{role:"group","aria-labelledby":l,...r,ref:e})})});rR.displayName=vE;var EE="SelectLabel",oR=B.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,l=iR(EE,n);return M.jsx(Mt.div,{id:l.id,...r,ref:e})});oR.displayName=EE;var kf="SelectItem",[sR,wE]=gl(kf),AE=B.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:l=!1,textValue:f,...p}=t,v=ds(kf,n),w=hs(kf,n),y=v.value===r,[T,_]=B.useState(f??""),[I,O]=B.useState(!1),P=gn(e,q=>{var H;return(H=w.itemRefCallback)==null?void 0:H.call(w,q,r,l)}),D=os(),F=B.useRef("touch"),G=()=>{l||(v.onValueChange(r),v.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return M.jsx(sR,{scope:n,value:r,disabled:l,textId:D,isSelected:y,onItemTextChange:B.useCallback(q=>{_(H=>H||((q==null?void 0:q.textContent)??"").trim())},[]),children:M.jsx(rd.ItemSlot,{scope:n,value:r,disabled:l,textValue:T,children:M.jsx(Mt.div,{role:"option","aria-labelledby":D,"data-highlighted":I?"":void 0,"aria-selected":y&&I,"data-state":y?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...p,ref:P,onFocus:St(p.onFocus,()=>O(!0)),onBlur:St(p.onBlur,()=>O(!1)),onClick:St(p.onClick,()=>{F.current!=="mouse"&&G()}),onPointerUp:St(p.onPointerUp,()=>{F.current==="mouse"&&G()}),onPointerDown:St(p.onPointerDown,q=>{F.current=q.pointerType}),onPointerMove:St(p.onPointerMove,q=>{var H;F.current=q.pointerType,l?(H=w.onItemLeave)==null||H.call(w):F.current==="mouse"&&q.currentTarget.focus({preventScroll:!0})}),onPointerLeave:St(p.onPointerLeave,q=>{var H;q.currentTarget===document.activeElement&&((H=w.onItemLeave)==null||H.call(w))}),onKeyDown:St(p.onKeyDown,q=>{var K;((K=w.searchRef)==null?void 0:K.current)!==""&&q.key===" "||(qI.includes(q.key)&&G(),q.key===" "&&q.preventDefault())})})})})});AE.displayName=kf;var wc="SelectItemText",TE=B.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:l,...f}=t,p=ds(wc,n),v=hs(wc,n),w=wE(wc,n),y=jI(wc,n),[T,_]=B.useState(null),I=gn(e,G=>_(G),w.onItemTextChange,G=>{var q;return(q=v.itemTextRefCallback)==null?void 0:q.call(v,G,w.value,w.disabled)}),O=T==null?void 0:T.textContent,P=B.useMemo(()=>M.jsx("option",{value:w.value,disabled:w.disabled,children:O},w.value),[w.disabled,w.value,O]),{onNativeOptionAdd:D,onNativeOptionRemove:F}=y;return di(()=>(D(P),()=>F(P)),[D,F,P]),M.jsxs(M.Fragment,{children:[M.jsx(Mt.span,{id:w.textId,...f,ref:I}),w.isSelected&&p.valueNode&&!p.valueNodeHasChildren?Lc.createPortal(f.children,p.valueNode):null]})});TE.displayName=wc;var SE="SelectItemIndicator",bE=B.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return wE(SE,n).isSelected?M.jsx(Mt.span,{"aria-hidden":!0,...r,ref:e}):null});bE.displayName=SE;var e1="SelectScrollUpButton",_E=B.forwardRef((t,e)=>{const n=hs(e1,t.__scopeSelect),r=W1(e1,t.__scopeSelect),[l,f]=B.useState(!1),p=gn(e,r.onScrollButtonChange);return di(()=>{if(n.viewport&&n.isPositioned){let v=function(){const y=w.scrollTop>0;f(y)};const w=n.viewport;return v(),w.addEventListener("scroll",v),()=>w.removeEventListener("scroll",v)}},[n.viewport,n.isPositioned]),l?M.jsx(ME,{...t,ref:p,onAutoScroll:()=>{const{viewport:v,selectedItem:w}=n;v&&w&&(v.scrollTop=v.scrollTop-w.offsetHeight)}}):null});_E.displayName=e1;var t1="SelectScrollDownButton",NE=B.forwardRef((t,e)=>{const n=hs(t1,t.__scopeSelect),r=W1(t1,t.__scopeSelect),[l,f]=B.useState(!1),p=gn(e,r.onScrollButtonChange);return di(()=>{if(n.viewport&&n.isPositioned){let v=function(){const y=w.scrollHeight-w.clientHeight,T=Math.ceil(w.scrollTop)<y;f(T)};const w=n.viewport;return v(),w.addEventListener("scroll",v),()=>w.removeEventListener("scroll",v)}},[n.viewport,n.isPositioned]),l?M.jsx(ME,{...t,ref:p,onAutoScroll:()=>{const{viewport:v,selectedItem:w}=n;v&&w&&(v.scrollTop=v.scrollTop+w.offsetHeight)}}):null});NE.displayName=t1;var ME=B.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...l}=t,f=hs("SelectScrollButton",n),p=B.useRef(null),v=od(n),w=B.useCallback(()=>{p.current!==null&&(window.clearInterval(p.current),p.current=null)},[]);return B.useEffect(()=>()=>w(),[w]),di(()=>{var T;const y=v().find(_=>_.ref.current===document.activeElement);(T=y==null?void 0:y.ref.current)==null||T.scrollIntoView({block:"nearest"})},[v]),M.jsx(Mt.div,{"aria-hidden":!0,...l,ref:e,style:{flexShrink:0,...l.style},onPointerDown:St(l.onPointerDown,()=>{p.current===null&&(p.current=window.setInterval(r,50))}),onPointerMove:St(l.onPointerMove,()=>{var y;(y=f.onItemLeave)==null||y.call(f),p.current===null&&(p.current=window.setInterval(r,50))}),onPointerLeave:St(l.onPointerLeave,()=>{w()})})}),aR="SelectSeparator",lR=B.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return M.jsx(Mt.div,{"aria-hidden":!0,...r,ref:e})});lR.displayName=aR;var n1="SelectArrow",cR=B.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,l=sd(n),f=ds(n1,n),p=hs(n1,n);return f.open&&p.position==="popper"?M.jsx(FI,{...l,...r,ref:e}):null});cR.displayName=n1;var uR="SelectBubbleInput",IE=B.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const l=B.useRef(null),f=gn(r,l),p=VI(e);return B.useEffect(()=>{const v=l.current;if(!v)return;const w=window.HTMLSelectElement.prototype,T=Object.getOwnPropertyDescriptor(w,"value").set;if(p!==e&&T){const _=new Event("change",{bubbles:!0});T.call(v,e),v.dispatchEvent(_)}},[p,e]),M.jsx(Mt.select,{...n,style:{...aE,...n.style},ref:f,defaultValue:e})});IE.displayName=uR;function RE(t){return t===""||t===void 0}function DE(t){const e=ss(t),n=B.useRef(""),r=B.useRef(0),l=B.useCallback(p=>{const v=n.current+p;e(v),function w(y){n.current=y,window.clearTimeout(r.current),y!==""&&(r.current=window.setTimeout(()=>w(""),1e3))}(v)},[e]),f=B.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return B.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,l,f]}function OE(t,e,n){const l=e.length>1&&Array.from(e).every(y=>y===e[0])?e[0]:e,f=n?t.indexOf(n):-1;let p=fR(t,Math.max(f,0));l.length===1&&(p=p.filter(y=>y!==n));const w=p.find(y=>y.textValue.toLowerCase().startsWith(l.toLowerCase()));return w!==n?w:void 0}function fR(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var dR=lE,hR=uE,gR=dE,mR=hE,pR=gE,xR=mE,yR=CE,CR=AE,vR=TE,ER=bE,wR=_E,AR=NE;function TR({...t}){return M.jsx(dR,{"data-slot":"select",...t})}function SR({...t}){return M.jsx(gR,{"data-slot":"select-value",...t})}function bR({className:t,size:e="default",children:n,...r}){return M.jsxs(hR,{"data-slot":"select-trigger","data-size":e,className:Jt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[n,M.jsx(mR,{asChild:!0,children:M.jsx(OC,{className:"size-4 opacity-50"})})]})}function _R({className:t,children:e,position:n="popper",...r}){return M.jsx(pR,{children:M.jsxs(xR,{"data-slot":"select-content",className:Jt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[M.jsx(NR,{}),M.jsx(yR,{className:Jt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),M.jsx(MR,{})]})})}function D0({className:t,children:e,...n}){return M.jsxs(CR,{"data-slot":"select-item",className:Jt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[M.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:M.jsx(ER,{children:M.jsx(Zb,{className:"size-4"})})}),M.jsx(vR,{children:e})]})}function NR({className:t,...e}){return M.jsx(wR,{"data-slot":"select-scroll-up-button",className:Jt("flex cursor-default items-center justify-center py-1",t),...e,children:M.jsx($b,{className:"size-4"})})}function MR({className:t,...e}){return M.jsx(AR,{"data-slot":"select-scroll-down-button",className:Jt("flex cursor-default items-center justify-center py-1",t),...e,children:M.jsx(OC,{className:"size-4"})})}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let IR,RR;function DR(){return{geminiUrl:IR,vertexUrl:RR}}function OR(t,e,n){var r,l,f;if(!(!((r=t.httpOptions)===null||r===void 0)&&r.baseUrl)){const p=DR();return t.vertexai?(l=p.vertexUrl)!==null&&l!==void 0?l:e:(f=p.geminiUrl)!==null&&f!==void 0?f:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Js{}function Xe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const f=e[l];return f!=null?String(f):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function m(t,e,n){for(let f=0;f<e.length-1;f++){const p=e[f];if(p.endsWith("[]")){const v=p.slice(0,-2);if(!(v in t))if(Array.isArray(n))t[v]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(t[v])){const w=t[v];if(Array.isArray(n))for(let y=0;y<w.length;y++){const T=w[y];m(T,e.slice(f+1),n[y])}else for(const y of w)m(y,e.slice(f+1),n)}return}else if(p.endsWith("[0]")){const v=p.slice(0,-3);v in t||(t[v]=[{}]);const w=t[v];m(w[0],e.slice(f+1),n);return}(!t[p]||typeof t[p]!="object")&&(t[p]={}),t=t[p]}const r=e[e.length-1],l=t[r];if(l!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===l)return;if(typeof l=="object"&&typeof n=="object"&&l!==null&&n!==null)Object.assign(l,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function g(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const l=r.slice(0,-2);if(l in t){const f=t[l];return Array.isArray(f)?f.map(p=>g(p,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var oy;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(oy||(oy={}));var sy;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(sy||(sy={}));var rs;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(rs||(rs={}));var ay;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(ay||(ay={}));var ly;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(ly||(ly={}));var cy;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(cy||(cy={}));var uy;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(uy||(uy={}));var fy;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(fy||(fy={}));var dy;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(dy||(dy={}));var hy;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(hy||(hy={}));var gy;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(gy||(gy={}));var my;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(my||(my={}));var py;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(py||(py={}));var xy;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(xy||(xy={}));var yy;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(yy||(yy={}));var Cy;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Cy||(Cy={}));var Uf;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Uf||(Uf={}));var vy;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(vy||(vy={}));var i1;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(i1||(i1={}));var Ey;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Ey||(Ey={}));var wy;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(wy||(wy={}));var Ay;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Ay||(Ay={}));var Ty;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Ty||(Ty={}));var Sy;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(Sy||(Sy={}));var by;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(by||(by={}));var _y;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(_y||(_y={}));var Ny;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Ny||(Ny={}));var My;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(My||(My={}));var Iy;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Iy||(Iy={}));var Ry;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Ry||(Ry={}));var Dy;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Dy||(Dy={}));var Oy;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Oy||(Oy={}));var Ly;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Ly||(Ly={}));var Py;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Py||(Py={}));var By;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(By||(By={}));var ky;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ky||(ky={}));var Uy;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Uy||(Uy={}));var Fy;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Fy||(Fy={}));var Vy;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Vy||(Vy={}));var zy;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(zy||(zy={}));var Hy;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Hy||(Hy={}));var Xa;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Xa||(Xa={}));class r1{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ec{get text(){var e,n,r,l,f,p,v,w;if(((l=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let y="",T=!1;const _=[];for(const I of(w=(v=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||v===void 0?void 0:v.parts)!==null&&w!==void 0?w:[]){for(const[O,P]of Object.entries(I))O!=="text"&&O!=="thought"&&(P!==null||P!==void 0)&&_.push(O);if(typeof I.text=="string"){if(typeof I.thought=="boolean"&&I.thought)continue;T=!0,y+=I.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),T?y:void 0}get data(){var e,n,r,l,f,p,v,w;if(((l=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let y="";const T=[];for(const _ of(w=(v=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||v===void 0?void 0:v.parts)!==null&&w!==void 0?w:[]){for(const[I,O]of Object.entries(_))I!=="inlineData"&&(O!==null||O!==void 0)&&T.push(I);_.inlineData&&typeof _.inlineData.data=="string"&&(y+=atob(_.inlineData.data))}return T.length>0&&console.warn(`there are non-data parts ${T} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),y.length>0?btoa(y):void 0}get functionCalls(){var e,n,r,l,f,p,v,w;if(((l=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const y=(w=(v=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||v===void 0?void 0:v.parts)===null||w===void 0?void 0:w.filter(T=>T.functionCall).map(T=>T.functionCall).filter(T=>T!==void 0);if((y==null?void 0:y.length)!==0)return y}get executableCode(){var e,n,r,l,f,p,v,w,y;if(((l=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const T=(w=(v=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||v===void 0?void 0:v.parts)===null||w===void 0?void 0:w.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((T==null?void 0:T.length)!==0)return(y=T==null?void 0:T[0])===null||y===void 0?void 0:y.code}get codeExecutionResult(){var e,n,r,l,f,p,v,w,y;if(((l=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const T=(w=(v=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||v===void 0?void 0:v.parts)===null||w===void 0?void 0:w.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((T==null?void 0:T.length)!==0)return(y=T==null?void 0:T[0])===null||y===void 0?void 0:y.output}}class Gy{}class qy{}class LR{}class PR{}class Yy{}class Xy{}class Wy{}class BR{}class jy{}class Ky{}class Zy{}class kR{}class UR{}class FR{}class Qy{}class VR{get text(){var e,n,r;let l="",f=!1;const p=[];for(const v of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[w,y]of Object.entries(v))w!=="text"&&w!=="thought"&&y!==null&&p.push(w);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;f=!0,l+=v.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?l:void 0}get data(){var e,n,r;let l="";const f=[];for(const p of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[v,w]of Object.entries(p))v!=="inlineData"&&w!==null&&f.push(v);p.inlineData&&typeof p.inlineData.data=="string"&&(l+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class zR{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function LE(t,e){const n=Gt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function PE(t){return Array.isArray(t)?t.map(e=>Ff(e)):[Ff(t)]}function Ff(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function BE(t){const e=Ff(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function kE(t){const e=Ff(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Jy(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function UE(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Jy(e)):[Jy(t)]}function o1(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function $y(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function e2(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function fi(t){if(t==null)throw new Error("ContentUnion is required");return o1(t)?t:{role:"user",parts:UE(t)}}function FE(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=fi(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=fi(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>fi(n)):[fi(e)]}function ir(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if($y(t)||e2(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[fi(t)]}const e=[],n=[],r=o1(t[0]);for(const l of t){const f=o1(l);if(f!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)e.push(l);else{if($y(l)||e2(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(l)}}return r||e.push({role:"user",parts:UE(n)}),e}function HR(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(rs).includes(n[0].toUpperCase())?n[0].toUpperCase():rs.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(rs).includes(r.toUpperCase())?r.toUpperCase():rs.TYPE_UNSPECIFIED})}}function Ja(t){const e={},n=["items"],r=["anyOf"],l=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=t.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(e.nullable=!0,t=f[1]):f[1].type==="null"&&(e.nullable=!0,t=f[0])),t.type instanceof Array&&HR(t.type,e);for(const[p,v]of Object.entries(t))if(v!=null)if(p=="type"){if(v==="null")throw new Error("type: null can not be the only possible type for the field.");if(v instanceof Array)continue;e.type=Object.values(rs).includes(v.toUpperCase())?v.toUpperCase():rs.TYPE_UNSPECIFIED}else if(n.includes(p))e[p]=Ja(v);else if(r.includes(p)){const w=[];for(const y of v){if(y.type=="null"){e.nullable=!0;continue}w.push(Ja(y))}e[p]=w}else if(l.includes(p)){const w={};for(const[y,T]of Object.entries(v))w[y]=Ja(T);e[p]=w}else{if(p==="additionalProperties")continue;e[p]=v}return e}function j1(t){return Ja(t)}function K1(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Z1(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ml(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ja(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ja(e.response));return t}function pl(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function GR(t,e,n,r=1){const l=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:l?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:l?`${n}/${e}`:e}function vo(t,e){if(typeof e!="string")throw new Error("name must be a string");return GR(t,e,"cachedContents")}function VE(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Eo(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function qR(t){return t!=null&&typeof t=="object"&&"name"in t}function YR(t){return t!=null&&typeof t=="object"&&"video"in t}function XR(t){return t!=null&&typeof t=="object"&&"uri"in t}function zE(t){var e;let n;if(qR(t)&&(n=t.name),!(XR(t)&&(n=t.uri,n===void 0))&&!(YR(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const l=n.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${n}`);n=l[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function HE(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function GE(t){for(const e of["models","tunedModels","publisherModels"])if(WR(t,e))return t[e];return[]}function WR(t,e){return t!==null&&typeof t=="object"&&e in t}function jR(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function KR(t,e={}){const n=[],r=new Set;for(const l of t){const f=l.name;if(r.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);r.add(f);const p=jR(l,e);p.functionDeclarations&&n.push(...p.functionDeclarations)}return{functionDeclarations:n}}function qE(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function ZR(t){const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function xl(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function YE(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QR(t){const e={},n=g(t,["fps"]);n!=null&&m(e,["fps"],n);const r=g(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const l=g(t,["startOffset"]);return l!=null&&m(e,["startOffset"],l),e}function JR(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["data"]);n!=null&&m(e,["data"],n);const r=g(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function $R(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function e4(t){const e={},n=g(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],QR(n));const r=g(t,["thought"]);r!=null&&m(e,["thought"],r);const l=g(t,["inlineData"]);l!=null&&m(e,["inlineData"],JR(l));const f=g(t,["fileData"]);f!=null&&m(e,["fileData"],$R(f));const p=g(t,["thoughtSignature"]);p!=null&&m(e,["thoughtSignature"],p);const v=g(t,["codeExecutionResult"]);v!=null&&m(e,["codeExecutionResult"],v);const w=g(t,["executableCode"]);w!=null&&m(e,["executableCode"],w);const y=g(t,["functionCall"]);y!=null&&m(e,["functionCall"],y);const T=g(t,["functionResponse"]);T!=null&&m(e,["functionResponse"],T);const _=g(t,["text"]);return _!=null&&m(e,["text"],_),e}function XE(t){const e={},n=g(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(f=>e4(f))),m(e,["parts"],l)}const r=g(t,["role"]);return r!=null&&m(e,["role"],r),e}function t4(t){const e={},n=g(t,["anyOf"]);n!=null&&m(e,["anyOf"],n);const r=g(t,["default"]);r!=null&&m(e,["default"],r);const l=g(t,["description"]);l!=null&&m(e,["description"],l);const f=g(t,["enum"]);f!=null&&m(e,["enum"],f);const p=g(t,["example"]);p!=null&&m(e,["example"],p);const v=g(t,["format"]);v!=null&&m(e,["format"],v);const w=g(t,["items"]);w!=null&&m(e,["items"],w);const y=g(t,["maxItems"]);y!=null&&m(e,["maxItems"],y);const T=g(t,["maxLength"]);T!=null&&m(e,["maxLength"],T);const _=g(t,["maxProperties"]);_!=null&&m(e,["maxProperties"],_);const I=g(t,["maximum"]);I!=null&&m(e,["maximum"],I);const O=g(t,["minItems"]);O!=null&&m(e,["minItems"],O);const P=g(t,["minLength"]);P!=null&&m(e,["minLength"],P);const D=g(t,["minProperties"]);D!=null&&m(e,["minProperties"],D);const F=g(t,["minimum"]);F!=null&&m(e,["minimum"],F);const G=g(t,["nullable"]);G!=null&&m(e,["nullable"],G);const q=g(t,["pattern"]);q!=null&&m(e,["pattern"],q);const H=g(t,["properties"]);H!=null&&m(e,["properties"],H);const K=g(t,["propertyOrdering"]);K!=null&&m(e,["propertyOrdering"],K);const W=g(t,["required"]);W!=null&&m(e,["required"],W);const oe=g(t,["title"]);oe!=null&&m(e,["title"],oe);const Z=g(t,["type"]);return Z!=null&&m(e,["type"],Z),e}function n4(t){const e={};if(g(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=g(t,["category"]);n!=null&&m(e,["category"],n);const r=g(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function i4(t){const e={},n=g(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=g(t,["description"]);r!=null&&m(e,["description"],r);const l=g(t,["name"]);l!=null&&m(e,["name"],l);const f=g(t,["parameters"]);f!=null&&m(e,["parameters"],f);const p=g(t,["parametersJsonSchema"]);p!=null&&m(e,["parametersJsonSchema"],p);const v=g(t,["response"]);v!=null&&m(e,["response"],v);const w=g(t,["responseJsonSchema"]);return w!=null&&m(e,["responseJsonSchema"],w),e}function r4(t){const e={},n=g(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=g(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function o4(t){const e={},n=g(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],r4(n)),e}function s4(t){const e={},n=g(t,["mode"]);n!=null&&m(e,["mode"],n);const r=g(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function a4(t){const e={},n=g(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],s4(n)),e}function l4(){return{}}function c4(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let w=n;Array.isArray(w)&&(w=w.map(y=>i4(y))),m(e,["functionDeclarations"],w)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],o4(r));const l=g(t,["googleSearchRetrieval"]);if(l!=null&&m(e,["googleSearchRetrieval"],a4(l)),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(g(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");g(t,["urlContext"])!=null&&m(e,["urlContext"],l4());const p=g(t,["codeExecution"]);p!=null&&m(e,["codeExecution"],p);const v=g(t,["computerUse"]);return v!=null&&m(e,["computerUse"],v),e}function u4(t){const e={},n=g(t,["mode"]);n!=null&&m(e,["mode"],n);const r=g(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function f4(t){const e={},n=g(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=g(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function d4(t){const e={},n=g(t,["latLng"]);n!=null&&m(e,["latLng"],f4(n));const r=g(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function h4(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],u4(n));const r=g(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],d4(r)),e}function g4(t){const e={},n=g(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function WE(t){const e={},n=g(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],g4(n)),e}function m4(t){const e={},n=g(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=g(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],WE(r)),e}function p4(t){const e={},n=g(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>m4(l))),m(e,["speakerVoiceConfigs"],r)}return e}function x4(t){const e={},n=g(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],WE(n));const r=g(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],p4(r));const l=g(t,["languageCode"]);return l!=null&&m(e,["languageCode"],l),e}function y4(t){const e={},n=g(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const r=g(t,["thinkingBudget"]);return r!=null&&m(e,["thinkingBudget"],r),e}function C4(t,e,n){const r={},l=g(e,["systemInstruction"]);n!==void 0&&l!=null&&m(n,["systemInstruction"],XE(fi(l)));const f=g(e,["temperature"]);f!=null&&m(r,["temperature"],f);const p=g(e,["topP"]);p!=null&&m(r,["topP"],p);const v=g(e,["topK"]);v!=null&&m(r,["topK"],v);const w=g(e,["candidateCount"]);w!=null&&m(r,["candidateCount"],w);const y=g(e,["maxOutputTokens"]);y!=null&&m(r,["maxOutputTokens"],y);const T=g(e,["stopSequences"]);T!=null&&m(r,["stopSequences"],T);const _=g(e,["responseLogprobs"]);_!=null&&m(r,["responseLogprobs"],_);const I=g(e,["logprobs"]);I!=null&&m(r,["logprobs"],I);const O=g(e,["presencePenalty"]);O!=null&&m(r,["presencePenalty"],O);const P=g(e,["frequencyPenalty"]);P!=null&&m(r,["frequencyPenalty"],P);const D=g(e,["seed"]);D!=null&&m(r,["seed"],D);const F=g(e,["responseMimeType"]);F!=null&&m(r,["responseMimeType"],F);const G=g(e,["responseSchema"]);G!=null&&m(r,["responseSchema"],t4(j1(G)));const q=g(e,["responseJsonSchema"]);if(q!=null&&m(r,["responseJsonSchema"],q),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=g(e,["safetySettings"]);if(n!==void 0&&H!=null){let Re=H;Array.isArray(Re)&&(Re=Re.map(Te=>n4(Te))),m(n,["safetySettings"],Re)}const K=g(e,["tools"]);if(n!==void 0&&K!=null){let Re=pl(K);Array.isArray(Re)&&(Re=Re.map(Te=>c4(ml(Te)))),m(n,["tools"],Re)}const W=g(e,["toolConfig"]);if(n!==void 0&&W!=null&&m(n,["toolConfig"],h4(W)),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const oe=g(e,["cachedContent"]);n!==void 0&&oe!=null&&m(n,["cachedContent"],vo(t,oe));const Z=g(e,["responseModalities"]);Z!=null&&m(r,["responseModalities"],Z);const ae=g(e,["mediaResolution"]);ae!=null&&m(r,["mediaResolution"],ae);const ee=g(e,["speechConfig"]);if(ee!=null&&m(r,["speechConfig"],x4(K1(ee))),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Me=g(e,["thinkingConfig"]);return Me!=null&&m(r,["thinkingConfig"],y4(Me)),r}function v4(t,e){const n={},r=g(e,["model"]);r!=null&&m(n,["request","model"],Gt(t,r));const l=g(e,["contents"]);if(l!=null){let p=ir(l);Array.isArray(p)&&(p=p.map(v=>XE(v))),m(n,["request","contents"],p)}const f=g(e,["config"]);return f!=null&&m(n,["request","generationConfig"],C4(t,f,n)),n}function E4(t,e){const n={};if(g(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=g(e,["fileName"]);r!=null&&m(n,["fileName"],r);const l=g(e,["inlinedRequests"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>v4(t,p))),m(n,["requests","requests"],f)}return n}function w4(t,e){const n={},r=g(t,["displayName"]);if(e!==void 0&&r!=null&&m(e,["batch","displayName"],r),g(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function A4(t,e){const n={},r=g(e,["model"]);r!=null&&m(n,["_url","model"],Gt(t,r));const l=g(e,["src"]);l!=null&&m(n,["batch","inputConfig"],E4(t,qE(t,l)));const f=g(e,["config"]);return f!=null&&m(n,["config"],w4(f,n)),n}function T4(t,e){const n={},r=g(e,["name"]);r!=null&&m(n,["_url","name"],xl(t,r));const l=g(e,["config"]);return l!=null&&m(n,["config"],l),n}function S4(t,e){const n={},r=g(e,["name"]);r!=null&&m(n,["_url","name"],xl(t,r));const l=g(e,["config"]);return l!=null&&m(n,["config"],l),n}function b4(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const l=g(t,["pageToken"]);if(e!==void 0&&l!=null&&m(e,["_query","pageToken"],l),g(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function _4(t){const e={},n=g(t,["config"]);return n!=null&&m(e,["config"],b4(n,e)),e}function N4(t,e){const n={},r=g(e,["name"]);r!=null&&m(n,["_url","name"],xl(t,r));const l=g(e,["config"]);return l!=null&&m(n,["config"],l),n}function M4(t){const e={},n=g(t,["format"]);n!=null&&m(e,["instancesFormat"],n);const r=g(t,["gcsUri"]);r!=null&&m(e,["gcsSource","uris"],r);const l=g(t,["bigqueryUri"]);if(l!=null&&m(e,["bigquerySource","inputUri"],l),g(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function I4(t){const e={},n=g(t,["format"]);n!=null&&m(e,["predictionsFormat"],n);const r=g(t,["gcsUri"]);r!=null&&m(e,["gcsDestination","outputUriPrefix"],r);const l=g(t,["bigqueryUri"]);if(l!=null&&m(e,["bigqueryDestination","outputUri"],l),g(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function R4(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const l=g(t,["dest"]);return e!==void 0&&l!=null&&m(e,["outputConfig"],I4(ZR(l))),n}function D4(t,e){const n={},r=g(e,["model"]);r!=null&&m(n,["model"],Gt(t,r));const l=g(e,["src"]);l!=null&&m(n,["inputConfig"],M4(qE(t,l)));const f=g(e,["config"]);return f!=null&&m(n,["config"],R4(f,n)),n}function O4(t,e){const n={},r=g(e,["name"]);r!=null&&m(n,["_url","name"],xl(t,r));const l=g(e,["config"]);return l!=null&&m(n,["config"],l),n}function L4(t,e){const n={},r=g(e,["name"]);r!=null&&m(n,["_url","name"],xl(t,r));const l=g(e,["config"]);return l!=null&&m(n,["config"],l),n}function P4(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const l=g(t,["pageToken"]);e!==void 0&&l!=null&&m(e,["_query","pageToken"],l);const f=g(t,["filter"]);return e!==void 0&&f!=null&&m(e,["_query","filter"],f),n}function B4(t){const e={},n=g(t,["config"]);return n!=null&&m(e,["config"],P4(n,e)),e}function k4(t,e){const n={},r=g(e,["name"]);r!=null&&m(n,["_url","name"],xl(t,r));const l=g(e,["config"]);return l!=null&&m(n,["config"],l),n}function jE(){return{}}function U4(t){const e={},n=g(t,["fps"]);n!=null&&m(e,["fps"],n);const r=g(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const l=g(t,["startOffset"]);return l!=null&&m(e,["startOffset"],l),e}function F4(t){const e={},n=g(t,["data"]);n!=null&&m(e,["data"],n);const r=g(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function V4(t){const e={},n=g(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function z4(t){const e={},n=g(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],U4(n));const r=g(t,["thought"]);r!=null&&m(e,["thought"],r);const l=g(t,["inlineData"]);l!=null&&m(e,["inlineData"],F4(l));const f=g(t,["fileData"]);f!=null&&m(e,["fileData"],V4(f));const p=g(t,["thoughtSignature"]);p!=null&&m(e,["thoughtSignature"],p);const v=g(t,["codeExecutionResult"]);v!=null&&m(e,["codeExecutionResult"],v);const w=g(t,["executableCode"]);w!=null&&m(e,["executableCode"],w);const y=g(t,["functionCall"]);y!=null&&m(e,["functionCall"],y);const T=g(t,["functionResponse"]);T!=null&&m(e,["functionResponse"],T);const _=g(t,["text"]);return _!=null&&m(e,["text"],_),e}function H4(t){const e={},n=g(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(f=>z4(f))),m(e,["parts"],l)}const r=g(t,["role"]);return r!=null&&m(e,["role"],r),e}function G4(t){const e={},n=g(t,["citationSources"]);return n!=null&&m(e,["citations"],n),e}function q4(t){const e={},n=g(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=g(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function Y4(t){const e={},n=g(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>q4(l))),m(e,["urlMetadata"],r)}return e}function X4(t){const e={},n=g(t,["content"]);n!=null&&m(e,["content"],H4(n));const r=g(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],G4(r));const l=g(t,["tokenCount"]);l!=null&&m(e,["tokenCount"],l);const f=g(t,["finishReason"]);f!=null&&m(e,["finishReason"],f);const p=g(t,["urlContextMetadata"]);p!=null&&m(e,["urlContextMetadata"],Y4(p));const v=g(t,["avgLogprobs"]);v!=null&&m(e,["avgLogprobs"],v);const w=g(t,["groundingMetadata"]);w!=null&&m(e,["groundingMetadata"],w);const y=g(t,["index"]);y!=null&&m(e,["index"],y);const T=g(t,["logprobsResult"]);T!=null&&m(e,["logprobsResult"],T);const _=g(t,["safetyRatings"]);return _!=null&&m(e,["safetyRatings"],_),e}function W4(t){const e={},n=g(t,["candidates"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(v=>X4(v))),m(e,["candidates"],p)}const r=g(t,["modelVersion"]);r!=null&&m(e,["modelVersion"],r);const l=g(t,["promptFeedback"]);l!=null&&m(e,["promptFeedback"],l);const f=g(t,["usageMetadata"]);return f!=null&&m(e,["usageMetadata"],f),e}function j4(t){const e={},n=g(t,["response"]);return n!=null&&m(e,["response"],W4(n)),g(t,["error"])!=null&&m(e,["error"],jE()),e}function K4(t){const e={},n=g(t,["responsesFile"]);n!=null&&m(e,["fileName"],n);const r=g(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(f=>j4(f))),m(e,["inlinedResponses"],l)}return e}function s1(t){const e={},n=g(t,["name"]);n!=null&&m(e,["name"],n);const r=g(t,["metadata","displayName"]);r!=null&&m(e,["displayName"],r);const l=g(t,["metadata","state"]);l!=null&&m(e,["state"],YE(l));const f=g(t,["metadata","createTime"]);f!=null&&m(e,["createTime"],f);const p=g(t,["metadata","endTime"]);p!=null&&m(e,["endTime"],p);const v=g(t,["metadata","updateTime"]);v!=null&&m(e,["updateTime"],v);const w=g(t,["metadata","model"]);w!=null&&m(e,["model"],w);const y=g(t,["metadata","output"]);return y!=null&&m(e,["dest"],K4(y)),e}function Z4(t){const e={},n=g(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const r=g(t,["operations"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(f=>s1(f))),m(e,["batchJobs"],l)}return e}function Q4(t){const e={},n=g(t,["name"]);n!=null&&m(e,["name"],n);const r=g(t,["done"]);return r!=null&&m(e,["done"],r),g(t,["error"])!=null&&m(e,["error"],jE()),e}function KE(t){const e={},n=g(t,["details"]);n!=null&&m(e,["details"],n);const r=g(t,["code"]);r!=null&&m(e,["code"],r);const l=g(t,["message"]);return l!=null&&m(e,["message"],l),e}function J4(t){const e={},n=g(t,["instancesFormat"]);n!=null&&m(e,["format"],n);const r=g(t,["gcsSource","uris"]);r!=null&&m(e,["gcsUri"],r);const l=g(t,["bigquerySource","inputUri"]);return l!=null&&m(e,["bigqueryUri"],l),e}function $4(t){const e={},n=g(t,["predictionsFormat"]);n!=null&&m(e,["format"],n);const r=g(t,["gcsDestination","outputUriPrefix"]);r!=null&&m(e,["gcsUri"],r);const l=g(t,["bigqueryDestination","outputUri"]);return l!=null&&m(e,["bigqueryUri"],l),e}function a1(t){const e={},n=g(t,["name"]);n!=null&&m(e,["name"],n);const r=g(t,["displayName"]);r!=null&&m(e,["displayName"],r);const l=g(t,["state"]);l!=null&&m(e,["state"],YE(l));const f=g(t,["error"]);f!=null&&m(e,["error"],KE(f));const p=g(t,["createTime"]);p!=null&&m(e,["createTime"],p);const v=g(t,["startTime"]);v!=null&&m(e,["startTime"],v);const w=g(t,["endTime"]);w!=null&&m(e,["endTime"],w);const y=g(t,["updateTime"]);y!=null&&m(e,["updateTime"],y);const T=g(t,["model"]);T!=null&&m(e,["model"],T);const _=g(t,["inputConfig"]);_!=null&&m(e,["src"],J4(_));const I=g(t,["outputConfig"]);return I!=null&&m(e,["dest"],$4(I)),e}function e8(t){const e={},n=g(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const r=g(t,["batchPredictionJobs"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(f=>a1(f))),m(e,["batchJobs"],l)}return e}function t8(t){const e={},n=g(t,["name"]);n!=null&&m(e,["name"],n);const r=g(t,["done"]);r!=null&&m(e,["done"],r);const l=g(t,["error"]);return l!=null&&m(e,["error"],KE(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Qs;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Qs||(Qs={}));class Vc{constructor(e,n,r,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,l)}init(e,n,r){var l,f;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let p={config:{}};r?typeof r=="object"?p=Object.assign({},r):p=r:p={config:{}},p.config&&(p.config.pageToken=n.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(f=(l=p.config)===null||l===void 0?void 0:l.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class n8 extends Js{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){const l=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${l}`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new Vc(Qs.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}async createInternal(e){var n,r,l,f;let p,v="",w={};if(this.apiClient.isVertexAI()){const y=D4(this.apiClient,e);return v=Xe("batchPredictionJobs",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json()),p.then(T=>a1(T))}else{const y=A4(this.apiClient,e);return v=Xe("{model}:batchGenerateContent",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),p.then(T=>s1(T))}}async get(e){var n,r,l,f;let p,v="",w={};if(this.apiClient.isVertexAI()){const y=O4(this.apiClient,e);return v=Xe("batchPredictionJobs/{name}",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json()),p.then(T=>a1(T))}else{const y=T4(this.apiClient,e);return v=Xe("batches/{name}",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),p.then(T=>s1(T))}}async cancel(e){var n,r,l,f;let p="",v={};if(this.apiClient.isVertexAI()){const w=L4(this.apiClient,e);p=Xe("batchPredictionJobs/{name}:cancel",w._url),v=w._query,delete w.config,delete w._url,delete w._query,await this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(w),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const w=S4(this.apiClient,e);p=Xe("batches/{name}:cancel",w._url),v=w._query,delete w.config,delete w._url,delete w._query,await this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(w),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(e){var n,r,l,f;let p,v="",w={};if(this.apiClient.isVertexAI()){const y=B4(e);return v=Xe("batchPredictionJobs",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json()),p.then(T=>{const _=e8(T),I=new Qy;return Object.assign(I,_),I})}else{const y=_4(e);return v=Xe("batches",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),p.then(T=>{const _=Z4(T),I=new Qy;return Object.assign(I,_),I})}}async delete(e){var n,r,l,f;let p,v="",w={};if(this.apiClient.isVertexAI()){const y=k4(this.apiClient,e);return v=Xe("batchPredictionJobs/{name}",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json()),p.then(T=>t8(T))}else{const y=N4(this.apiClient,e);return v=Xe("batches/{name}",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),p.then(T=>Q4(T))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function i8(t){const e={},n=g(t,["fps"]);n!=null&&m(e,["fps"],n);const r=g(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const l=g(t,["startOffset"]);return l!=null&&m(e,["startOffset"],l),e}function r8(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["data"]);n!=null&&m(e,["data"],n);const r=g(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function o8(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function s8(t){const e={},n=g(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],i8(n));const r=g(t,["thought"]);r!=null&&m(e,["thought"],r);const l=g(t,["inlineData"]);l!=null&&m(e,["inlineData"],r8(l));const f=g(t,["fileData"]);f!=null&&m(e,["fileData"],o8(f));const p=g(t,["thoughtSignature"]);p!=null&&m(e,["thoughtSignature"],p);const v=g(t,["codeExecutionResult"]);v!=null&&m(e,["codeExecutionResult"],v);const w=g(t,["executableCode"]);w!=null&&m(e,["executableCode"],w);const y=g(t,["functionCall"]);y!=null&&m(e,["functionCall"],y);const T=g(t,["functionResponse"]);T!=null&&m(e,["functionResponse"],T);const _=g(t,["text"]);return _!=null&&m(e,["text"],_),e}function t2(t){const e={},n=g(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(f=>s8(f))),m(e,["parts"],l)}const r=g(t,["role"]);return r!=null&&m(e,["role"],r),e}function a8(t){const e={},n=g(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=g(t,["description"]);r!=null&&m(e,["description"],r);const l=g(t,["name"]);l!=null&&m(e,["name"],l);const f=g(t,["parameters"]);f!=null&&m(e,["parameters"],f);const p=g(t,["parametersJsonSchema"]);p!=null&&m(e,["parametersJsonSchema"],p);const v=g(t,["response"]);v!=null&&m(e,["response"],v);const w=g(t,["responseJsonSchema"]);return w!=null&&m(e,["responseJsonSchema"],w),e}function l8(t){const e={},n=g(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=g(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function c8(t){const e={},n=g(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],l8(n)),e}function u8(t){const e={},n=g(t,["mode"]);n!=null&&m(e,["mode"],n);const r=g(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function f8(t){const e={},n=g(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],u8(n)),e}function d8(){return{}}function h8(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let w=n;Array.isArray(w)&&(w=w.map(y=>a8(y))),m(e,["functionDeclarations"],w)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],c8(r));const l=g(t,["googleSearchRetrieval"]);if(l!=null&&m(e,["googleSearchRetrieval"],f8(l)),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(g(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");g(t,["urlContext"])!=null&&m(e,["urlContext"],d8());const p=g(t,["codeExecution"]);p!=null&&m(e,["codeExecution"],p);const v=g(t,["computerUse"]);return v!=null&&m(e,["computerUse"],v),e}function g8(t){const e={},n=g(t,["mode"]);n!=null&&m(e,["mode"],n);const r=g(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function m8(t){const e={},n=g(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=g(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function p8(t){const e={},n=g(t,["latLng"]);n!=null&&m(e,["latLng"],m8(n));const r=g(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function x8(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],g8(n));const r=g(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],p8(r)),e}function y8(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const l=g(t,["expireTime"]);e!==void 0&&l!=null&&m(e,["expireTime"],l);const f=g(t,["displayName"]);e!==void 0&&f!=null&&m(e,["displayName"],f);const p=g(t,["contents"]);if(e!==void 0&&p!=null){let T=ir(p);Array.isArray(T)&&(T=T.map(_=>t2(_))),m(e,["contents"],T)}const v=g(t,["systemInstruction"]);e!==void 0&&v!=null&&m(e,["systemInstruction"],t2(fi(v)));const w=g(t,["tools"]);if(e!==void 0&&w!=null){let T=w;Array.isArray(T)&&(T=T.map(_=>h8(_))),m(e,["tools"],T)}const y=g(t,["toolConfig"]);if(e!==void 0&&y!=null&&m(e,["toolConfig"],x8(y)),g(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function C8(t,e){const n={},r=g(e,["model"]);r!=null&&m(n,["model"],LE(t,r));const l=g(e,["config"]);return l!=null&&m(n,["config"],y8(l,n)),n}function v8(t,e){const n={},r=g(e,["name"]);r!=null&&m(n,["_url","name"],vo(t,r));const l=g(e,["config"]);return l!=null&&m(n,["config"],l),n}function E8(t,e){const n={},r=g(e,["name"]);r!=null&&m(n,["_url","name"],vo(t,r));const l=g(e,["config"]);return l!=null&&m(n,["config"],l),n}function w8(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const l=g(t,["expireTime"]);return e!==void 0&&l!=null&&m(e,["expireTime"],l),n}function A8(t,e){const n={},r=g(e,["name"]);r!=null&&m(n,["_url","name"],vo(t,r));const l=g(e,["config"]);return l!=null&&m(n,["config"],w8(l,n)),n}function T8(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const l=g(t,["pageToken"]);return e!==void 0&&l!=null&&m(e,["_query","pageToken"],l),n}function S8(t){const e={},n=g(t,["config"]);return n!=null&&m(e,["config"],T8(n,e)),e}function b8(t){const e={},n=g(t,["fps"]);n!=null&&m(e,["fps"],n);const r=g(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const l=g(t,["startOffset"]);return l!=null&&m(e,["startOffset"],l),e}function _8(t){const e={},n=g(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=g(t,["data"]);r!=null&&m(e,["data"],r);const l=g(t,["mimeType"]);return l!=null&&m(e,["mimeType"],l),e}function N8(t){const e={},n=g(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=g(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const l=g(t,["mimeType"]);return l!=null&&m(e,["mimeType"],l),e}function M8(t){const e={},n=g(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],b8(n));const r=g(t,["thought"]);r!=null&&m(e,["thought"],r);const l=g(t,["inlineData"]);l!=null&&m(e,["inlineData"],_8(l));const f=g(t,["fileData"]);f!=null&&m(e,["fileData"],N8(f));const p=g(t,["thoughtSignature"]);p!=null&&m(e,["thoughtSignature"],p);const v=g(t,["codeExecutionResult"]);v!=null&&m(e,["codeExecutionResult"],v);const w=g(t,["executableCode"]);w!=null&&m(e,["executableCode"],w);const y=g(t,["functionCall"]);y!=null&&m(e,["functionCall"],y);const T=g(t,["functionResponse"]);T!=null&&m(e,["functionResponse"],T);const _=g(t,["text"]);return _!=null&&m(e,["text"],_),e}function n2(t){const e={},n=g(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(f=>M8(f))),m(e,["parts"],l)}const r=g(t,["role"]);return r!=null&&m(e,["role"],r),e}function I8(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&m(e,["description"],n);const r=g(t,["name"]);r!=null&&m(e,["name"],r);const l=g(t,["parameters"]);l!=null&&m(e,["parameters"],l);const f=g(t,["parametersJsonSchema"]);f!=null&&m(e,["parametersJsonSchema"],f);const p=g(t,["response"]);p!=null&&m(e,["response"],p);const v=g(t,["responseJsonSchema"]);return v!=null&&m(e,["responseJsonSchema"],v),e}function R8(t){const e={},n=g(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=g(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function D8(t){const e={},n=g(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],R8(n)),e}function O8(t){const e={},n=g(t,["mode"]);n!=null&&m(e,["mode"],n);const r=g(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function L8(t){const e={},n=g(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],O8(n)),e}function P8(){return{}}function B8(t){const e={},n=g(t,["apiKeyString"]);return n!=null&&m(e,["apiKeyString"],n),e}function k8(t){const e={},n=g(t,["apiKeyConfig"]);n!=null&&m(e,["apiKeyConfig"],B8(n));const r=g(t,["authType"]);r!=null&&m(e,["authType"],r);const l=g(t,["googleServiceAccountConfig"]);l!=null&&m(e,["googleServiceAccountConfig"],l);const f=g(t,["httpBasicAuthConfig"]);f!=null&&m(e,["httpBasicAuthConfig"],f);const p=g(t,["oauthConfig"]);p!=null&&m(e,["oauthConfig"],p);const v=g(t,["oidcConfig"]);return v!=null&&m(e,["oidcConfig"],v),e}function U8(t){const e={},n=g(t,["authConfig"]);return n!=null&&m(e,["authConfig"],k8(n)),e}function F8(){return{}}function V8(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(I=>I8(I))),m(e,["functionDeclarations"],_)}const r=g(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const l=g(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],D8(l));const f=g(t,["googleSearchRetrieval"]);f!=null&&m(e,["googleSearchRetrieval"],L8(f)),g(t,["enterpriseWebSearch"])!=null&&m(e,["enterpriseWebSearch"],P8());const v=g(t,["googleMaps"]);v!=null&&m(e,["googleMaps"],U8(v)),g(t,["urlContext"])!=null&&m(e,["urlContext"],F8());const y=g(t,["codeExecution"]);y!=null&&m(e,["codeExecution"],y);const T=g(t,["computerUse"]);return T!=null&&m(e,["computerUse"],T),e}function z8(t){const e={},n=g(t,["mode"]);n!=null&&m(e,["mode"],n);const r=g(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function H8(t){const e={},n=g(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=g(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function G8(t){const e={},n=g(t,["latLng"]);n!=null&&m(e,["latLng"],H8(n));const r=g(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function q8(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],z8(n));const r=g(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],G8(r)),e}function Y8(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const l=g(t,["expireTime"]);e!==void 0&&l!=null&&m(e,["expireTime"],l);const f=g(t,["displayName"]);e!==void 0&&f!=null&&m(e,["displayName"],f);const p=g(t,["contents"]);if(e!==void 0&&p!=null){let _=ir(p);Array.isArray(_)&&(_=_.map(I=>n2(I))),m(e,["contents"],_)}const v=g(t,["systemInstruction"]);e!==void 0&&v!=null&&m(e,["systemInstruction"],n2(fi(v)));const w=g(t,["tools"]);if(e!==void 0&&w!=null){let _=w;Array.isArray(_)&&(_=_.map(I=>V8(I))),m(e,["tools"],_)}const y=g(t,["toolConfig"]);e!==void 0&&y!=null&&m(e,["toolConfig"],q8(y));const T=g(t,["kmsKeyName"]);return e!==void 0&&T!=null&&m(e,["encryption_spec","kmsKeyName"],T),n}function X8(t,e){const n={},r=g(e,["model"]);r!=null&&m(n,["model"],LE(t,r));const l=g(e,["config"]);return l!=null&&m(n,["config"],Y8(l,n)),n}function W8(t,e){const n={},r=g(e,["name"]);r!=null&&m(n,["_url","name"],vo(t,r));const l=g(e,["config"]);return l!=null&&m(n,["config"],l),n}function j8(t,e){const n={},r=g(e,["name"]);r!=null&&m(n,["_url","name"],vo(t,r));const l=g(e,["config"]);return l!=null&&m(n,["config"],l),n}function K8(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const l=g(t,["expireTime"]);return e!==void 0&&l!=null&&m(e,["expireTime"],l),n}function Z8(t,e){const n={},r=g(e,["name"]);r!=null&&m(n,["_url","name"],vo(t,r));const l=g(e,["config"]);return l!=null&&m(n,["config"],K8(l,n)),n}function Q8(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const l=g(t,["pageToken"]);return e!==void 0&&l!=null&&m(e,["_query","pageToken"],l),n}function J8(t){const e={},n=g(t,["config"]);return n!=null&&m(e,["config"],Q8(n,e)),e}function Sf(t){const e={},n=g(t,["name"]);n!=null&&m(e,["name"],n);const r=g(t,["displayName"]);r!=null&&m(e,["displayName"],r);const l=g(t,["model"]);l!=null&&m(e,["model"],l);const f=g(t,["createTime"]);f!=null&&m(e,["createTime"],f);const p=g(t,["updateTime"]);p!=null&&m(e,["updateTime"],p);const v=g(t,["expireTime"]);v!=null&&m(e,["expireTime"],v);const w=g(t,["usageMetadata"]);return w!=null&&m(e,["usageMetadata"],w),e}function $8(){return{}}function eD(t){const e={},n=g(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const r=g(t,["cachedContents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(f=>Sf(f))),m(e,["cachedContents"],l)}return e}function bf(t){const e={},n=g(t,["name"]);n!=null&&m(e,["name"],n);const r=g(t,["displayName"]);r!=null&&m(e,["displayName"],r);const l=g(t,["model"]);l!=null&&m(e,["model"],l);const f=g(t,["createTime"]);f!=null&&m(e,["createTime"],f);const p=g(t,["updateTime"]);p!=null&&m(e,["updateTime"],p);const v=g(t,["expireTime"]);v!=null&&m(e,["expireTime"],v);const w=g(t,["usageMetadata"]);return w!=null&&m(e,["usageMetadata"],w),e}function tD(){return{}}function nD(t){const e={},n=g(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const r=g(t,["cachedContents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(f=>bf(f))),m(e,["cachedContents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iD extends Js{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Vc(Qs.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,l,f;let p,v="",w={};if(this.apiClient.isVertexAI()){const y=X8(this.apiClient,e);return v=Xe("cachedContents",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json()),p.then(T=>bf(T))}else{const y=C8(this.apiClient,e);return v=Xe("cachedContents",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),p.then(T=>Sf(T))}}async get(e){var n,r,l,f;let p,v="",w={};if(this.apiClient.isVertexAI()){const y=W8(this.apiClient,e);return v=Xe("{name}",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json()),p.then(T=>bf(T))}else{const y=v8(this.apiClient,e);return v=Xe("{name}",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),p.then(T=>Sf(T))}}async delete(e){var n,r,l,f;let p,v="",w={};if(this.apiClient.isVertexAI()){const y=j8(this.apiClient,e);return v=Xe("{name}",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json()),p.then(()=>{const T=tD(),_=new Ky;return Object.assign(_,T),_})}else{const y=E8(this.apiClient,e);return v=Xe("{name}",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),p.then(()=>{const T=$8(),_=new Ky;return Object.assign(_,T),_})}}async update(e){var n,r,l,f;let p,v="",w={};if(this.apiClient.isVertexAI()){const y=Z8(this.apiClient,e);return v=Xe("{name}",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json()),p.then(T=>bf(T))}else{const y=A8(this.apiClient,e);return v=Xe("{name}",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),p.then(T=>Sf(T))}}async listInternal(e){var n,r,l,f;let p,v="",w={};if(this.apiClient.isVertexAI()){const y=J8(e);return v=Xe("cachedContents",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json()),p.then(T=>{const _=nD(T),I=new Zy;return Object.assign(I,_),I})}else{const y=S8(e);return v=Xe("cachedContents",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),p.then(T=>{const _=eD(T),I=new Zy;return Object.assign(I,_),I})}}}function i2(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function sn(t){return this instanceof sn?(this.v=t,this):new sn(t)}function $a(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),l,f=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),v("next"),v("throw"),v("return",p),l[Symbol.asyncIterator]=function(){return this},l;function p(O){return function(P){return Promise.resolve(P).then(O,_)}}function v(O,P){r[O]&&(l[O]=function(D){return new Promise(function(F,G){f.push([O,D,F,G])>1||w(O,D)})},P&&(l[O]=P(l[O])))}function w(O,P){try{y(r[O](P))}catch(D){I(f[0][3],D)}}function y(O){O.value instanceof sn?Promise.resolve(O.value.v).then(T,_):I(f[0][2],O)}function T(O){w("next",O)}function _(O){w("throw",O)}function I(O,P){O(P),f.shift(),f.length&&w(f[0][0],f[0][1])}}function Tc(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof i2=="function"?i2(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(f){n[f]=t[f]&&function(p){return new Promise(function(v,w){p=t[f](p),l(v,w,p.done,p.value)})}}function l(f,p,v,w){Promise.resolve(w).then(function(y){f({value:y,done:v})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rD(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:ZE(n)}function ZE(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function oD(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function r2(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const l=[];let f=!0;for(;r<n&&t[r].role==="model";)l.push(t[r]),f&&!ZE(t[r])&&(f=!1),r++;f?e.push(...l):e.pop()}return e}class sD{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new aD(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class aD{constructor(e,n,r,l={},f=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=l,this.history=f,this.sendPromise=Promise.resolve(),oD(f)}async sendMessage(e){var n;await this.sendPromise;const r=fi(e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var f,p,v;const w=await l,y=(p=(f=w.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content,T=w.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let I=[];T!=null&&(I=(v=T.slice(_))!==null&&v!==void 0?v:[]);const O=y?[y]:[];this.recordHistory(r,O,I)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(e){var n;await this.sendPromise;const r=fi(e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const f=await l;return this.processStreamResponse(f,r)}getHistory(e=!1){const n=e?r2(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,l;return $a(this,arguments,function*(){var p,v,w,y;const T=[];try{for(var _=!0,I=Tc(e),O;O=yield sn(I.next()),p=O.done,!p;_=!0){y=O.value,_=!1;const P=y;if(rD(P)){const D=(l=(r=P.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content;D!==void 0&&T.push(D)}yield yield sn(P)}}catch(P){v={error:P}}finally{try{!_&&!p&&(w=I.return)&&(yield sn(w.call(I)))}finally{if(v)throw v.error}}this.recordHistory(n,T)})}recordHistory(e,n,r){let l=[];n.length>0&&n.every(f=>f.role!==void 0)?l=n:l.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...r2(r)):this.history.push(e),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ad extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ad.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lD(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const l=g(t,["pageToken"]);return e!==void 0&&l!=null&&m(e,["_query","pageToken"],l),n}function cD(t){const e={},n=g(t,["config"]);return n!=null&&m(e,["config"],lD(n,e)),e}function uD(t){const e={},n=g(t,["details"]);n!=null&&m(e,["details"],n);const r=g(t,["message"]);r!=null&&m(e,["message"],r);const l=g(t,["code"]);return l!=null&&m(e,["code"],l),e}function fD(t){const e={},n=g(t,["name"]);n!=null&&m(e,["name"],n);const r=g(t,["displayName"]);r!=null&&m(e,["displayName"],r);const l=g(t,["mimeType"]);l!=null&&m(e,["mimeType"],l);const f=g(t,["sizeBytes"]);f!=null&&m(e,["sizeBytes"],f);const p=g(t,["createTime"]);p!=null&&m(e,["createTime"],p);const v=g(t,["expirationTime"]);v!=null&&m(e,["expirationTime"],v);const w=g(t,["updateTime"]);w!=null&&m(e,["updateTime"],w);const y=g(t,["sha256Hash"]);y!=null&&m(e,["sha256Hash"],y);const T=g(t,["uri"]);T!=null&&m(e,["uri"],T);const _=g(t,["downloadUri"]);_!=null&&m(e,["downloadUri"],_);const I=g(t,["state"]);I!=null&&m(e,["state"],I);const O=g(t,["source"]);O!=null&&m(e,["source"],O);const P=g(t,["videoMetadata"]);P!=null&&m(e,["videoMetadata"],P);const D=g(t,["error"]);return D!=null&&m(e,["error"],uD(D)),e}function dD(t){const e={},n=g(t,["file"]);n!=null&&m(e,["file"],fD(n));const r=g(t,["config"]);return r!=null&&m(e,["config"],r),e}function hD(t){const e={},n=g(t,["name"]);n!=null&&m(e,["_url","file"],zE(n));const r=g(t,["config"]);return r!=null&&m(e,["config"],r),e}function gD(t){const e={},n=g(t,["name"]);n!=null&&m(e,["_url","file"],zE(n));const r=g(t,["config"]);return r!=null&&m(e,["config"],r),e}function mD(t){const e={},n=g(t,["details"]);n!=null&&m(e,["details"],n);const r=g(t,["message"]);r!=null&&m(e,["message"],r);const l=g(t,["code"]);return l!=null&&m(e,["code"],l),e}function l1(t){const e={},n=g(t,["name"]);n!=null&&m(e,["name"],n);const r=g(t,["displayName"]);r!=null&&m(e,["displayName"],r);const l=g(t,["mimeType"]);l!=null&&m(e,["mimeType"],l);const f=g(t,["sizeBytes"]);f!=null&&m(e,["sizeBytes"],f);const p=g(t,["createTime"]);p!=null&&m(e,["createTime"],p);const v=g(t,["expirationTime"]);v!=null&&m(e,["expirationTime"],v);const w=g(t,["updateTime"]);w!=null&&m(e,["updateTime"],w);const y=g(t,["sha256Hash"]);y!=null&&m(e,["sha256Hash"],y);const T=g(t,["uri"]);T!=null&&m(e,["uri"],T);const _=g(t,["downloadUri"]);_!=null&&m(e,["downloadUri"],_);const I=g(t,["state"]);I!=null&&m(e,["state"],I);const O=g(t,["source"]);O!=null&&m(e,["source"],O);const P=g(t,["videoMetadata"]);P!=null&&m(e,["videoMetadata"],P);const D=g(t,["error"]);return D!=null&&m(e,["error"],mD(D)),e}function pD(t){const e={},n=g(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const r=g(t,["files"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(f=>l1(f))),m(e,["files"],l)}return e}function xD(){return{}}function yD(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CD extends Js{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Vc(Qs.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>l1(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let l,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=cD(e);return f=Xe("files",v._url),p=v._query,delete v.config,delete v._url,delete v._query,l=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(w=>w.json()),l.then(w=>{const y=pD(w),T=new kR;return Object.assign(T,y),T})}}async createInternal(e){var n,r;let l,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=dD(e);return f=Xe("upload/v1beta/files",v._url),p=v._query,delete v.config,delete v._url,delete v._query,l=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(w=>w.json()),l.then(()=>{const w=xD(),y=new UR;return Object.assign(y,w),y})}}async get(e){var n,r;let l,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=hD(e);return f=Xe("files/{file}",v._url),p=v._query,delete v.config,delete v._url,delete v._query,l=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(w=>w.json()),l.then(w=>l1(w))}}async delete(e){var n,r;let l,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=gD(e);return f=Xe("files/{file}",v._url),p=v._query,delete v.config,delete v._url,delete v._query,l=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(w=>w.json()),l.then(()=>{const w=yD(),y=new FR;return Object.assign(y,w),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vD(t){const e={},n=g(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function ED(t){const e={},n=g(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function QE(t){const e={},n=g(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],vD(n)),e}function wD(t){const e={},n=g(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],ED(n)),e}function AD(t){const e={},n=g(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=g(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],QE(r)),e}function TD(t){const e={},n=g(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>AD(l))),m(e,["speakerVoiceConfigs"],r)}return e}function SD(t){const e={},n=g(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],QE(n));const r=g(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],TD(r));const l=g(t,["languageCode"]);return l!=null&&m(e,["languageCode"],l),e}function bD(t){const e={},n=g(t,["voiceConfig"]);if(n!=null&&m(e,["voiceConfig"],wD(n)),g(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=g(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function _D(t){const e={},n=g(t,["fps"]);n!=null&&m(e,["fps"],n);const r=g(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const l=g(t,["startOffset"]);return l!=null&&m(e,["startOffset"],l),e}function ND(t){const e={},n=g(t,["fps"]);n!=null&&m(e,["fps"],n);const r=g(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const l=g(t,["startOffset"]);return l!=null&&m(e,["startOffset"],l),e}function MD(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["data"]);n!=null&&m(e,["data"],n);const r=g(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function ID(t){const e={},n=g(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=g(t,["data"]);r!=null&&m(e,["data"],r);const l=g(t,["mimeType"]);return l!=null&&m(e,["mimeType"],l),e}function RD(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function DD(t){const e={},n=g(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=g(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const l=g(t,["mimeType"]);return l!=null&&m(e,["mimeType"],l),e}function OD(t){const e={},n=g(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],_D(n));const r=g(t,["thought"]);r!=null&&m(e,["thought"],r);const l=g(t,["inlineData"]);l!=null&&m(e,["inlineData"],MD(l));const f=g(t,["fileData"]);f!=null&&m(e,["fileData"],RD(f));const p=g(t,["thoughtSignature"]);p!=null&&m(e,["thoughtSignature"],p);const v=g(t,["codeExecutionResult"]);v!=null&&m(e,["codeExecutionResult"],v);const w=g(t,["executableCode"]);w!=null&&m(e,["executableCode"],w);const y=g(t,["functionCall"]);y!=null&&m(e,["functionCall"],y);const T=g(t,["functionResponse"]);T!=null&&m(e,["functionResponse"],T);const _=g(t,["text"]);return _!=null&&m(e,["text"],_),e}function LD(t){const e={},n=g(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],ND(n));const r=g(t,["thought"]);r!=null&&m(e,["thought"],r);const l=g(t,["inlineData"]);l!=null&&m(e,["inlineData"],ID(l));const f=g(t,["fileData"]);f!=null&&m(e,["fileData"],DD(f));const p=g(t,["thoughtSignature"]);p!=null&&m(e,["thoughtSignature"],p);const v=g(t,["codeExecutionResult"]);v!=null&&m(e,["codeExecutionResult"],v);const w=g(t,["executableCode"]);w!=null&&m(e,["executableCode"],w);const y=g(t,["functionCall"]);y!=null&&m(e,["functionCall"],y);const T=g(t,["functionResponse"]);T!=null&&m(e,["functionResponse"],T);const _=g(t,["text"]);return _!=null&&m(e,["text"],_),e}function PD(t){const e={},n=g(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(f=>OD(f))),m(e,["parts"],l)}const r=g(t,["role"]);return r!=null&&m(e,["role"],r),e}function BD(t){const e={},n=g(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(f=>LD(f))),m(e,["parts"],l)}const r=g(t,["role"]);return r!=null&&m(e,["role"],r),e}function kD(t){const e={},n=g(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=g(t,["description"]);r!=null&&m(e,["description"],r);const l=g(t,["name"]);l!=null&&m(e,["name"],l);const f=g(t,["parameters"]);f!=null&&m(e,["parameters"],f);const p=g(t,["parametersJsonSchema"]);p!=null&&m(e,["parametersJsonSchema"],p);const v=g(t,["response"]);v!=null&&m(e,["response"],v);const w=g(t,["responseJsonSchema"]);return w!=null&&m(e,["responseJsonSchema"],w),e}function UD(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&m(e,["description"],n);const r=g(t,["name"]);r!=null&&m(e,["name"],r);const l=g(t,["parameters"]);l!=null&&m(e,["parameters"],l);const f=g(t,["parametersJsonSchema"]);f!=null&&m(e,["parametersJsonSchema"],f);const p=g(t,["response"]);p!=null&&m(e,["response"],p);const v=g(t,["responseJsonSchema"]);return v!=null&&m(e,["responseJsonSchema"],v),e}function FD(t){const e={},n=g(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=g(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function VD(t){const e={},n=g(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=g(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function zD(t){const e={},n=g(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],FD(n)),e}function HD(t){const e={},n=g(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],VD(n)),e}function GD(t){const e={},n=g(t,["mode"]);n!=null&&m(e,["mode"],n);const r=g(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function qD(t){const e={},n=g(t,["mode"]);n!=null&&m(e,["mode"],n);const r=g(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function YD(t){const e={},n=g(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],GD(n)),e}function XD(t){const e={},n=g(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],qD(n)),e}function WD(){return{}}function jD(t){const e={},n=g(t,["apiKeyString"]);return n!=null&&m(e,["apiKeyString"],n),e}function KD(t){const e={},n=g(t,["apiKeyConfig"]);n!=null&&m(e,["apiKeyConfig"],jD(n));const r=g(t,["authType"]);r!=null&&m(e,["authType"],r);const l=g(t,["googleServiceAccountConfig"]);l!=null&&m(e,["googleServiceAccountConfig"],l);const f=g(t,["httpBasicAuthConfig"]);f!=null&&m(e,["httpBasicAuthConfig"],f);const p=g(t,["oauthConfig"]);p!=null&&m(e,["oauthConfig"],p);const v=g(t,["oidcConfig"]);return v!=null&&m(e,["oidcConfig"],v),e}function ZD(t){const e={},n=g(t,["authConfig"]);return n!=null&&m(e,["authConfig"],KD(n)),e}function QD(){return{}}function JD(){return{}}function $D(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let w=n;Array.isArray(w)&&(w=w.map(y=>kD(y))),m(e,["functionDeclarations"],w)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],zD(r));const l=g(t,["googleSearchRetrieval"]);if(l!=null&&m(e,["googleSearchRetrieval"],YD(l)),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(g(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");g(t,["urlContext"])!=null&&m(e,["urlContext"],QD());const p=g(t,["codeExecution"]);p!=null&&m(e,["codeExecution"],p);const v=g(t,["computerUse"]);return v!=null&&m(e,["computerUse"],v),e}function e6(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(I=>UD(I))),m(e,["functionDeclarations"],_)}const r=g(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const l=g(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],HD(l));const f=g(t,["googleSearchRetrieval"]);f!=null&&m(e,["googleSearchRetrieval"],XD(f)),g(t,["enterpriseWebSearch"])!=null&&m(e,["enterpriseWebSearch"],WD());const v=g(t,["googleMaps"]);v!=null&&m(e,["googleMaps"],ZD(v)),g(t,["urlContext"])!=null&&m(e,["urlContext"],JD());const y=g(t,["codeExecution"]);y!=null&&m(e,["codeExecution"],y);const T=g(t,["computerUse"]);return T!=null&&m(e,["computerUse"],T),e}function t6(t){const e={},n=g(t,["handle"]);if(n!=null&&m(e,["handle"],n),g(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function n6(t){const e={},n=g(t,["handle"]);n!=null&&m(e,["handle"],n);const r=g(t,["transparent"]);return r!=null&&m(e,["transparent"],r),e}function o2(){return{}}function s2(){return{}}function i6(t){const e={},n=g(t,["disabled"]);n!=null&&m(e,["disabled"],n);const r=g(t,["startOfSpeechSensitivity"]);r!=null&&m(e,["startOfSpeechSensitivity"],r);const l=g(t,["endOfSpeechSensitivity"]);l!=null&&m(e,["endOfSpeechSensitivity"],l);const f=g(t,["prefixPaddingMs"]);f!=null&&m(e,["prefixPaddingMs"],f);const p=g(t,["silenceDurationMs"]);return p!=null&&m(e,["silenceDurationMs"],p),e}function r6(t){const e={},n=g(t,["disabled"]);n!=null&&m(e,["disabled"],n);const r=g(t,["startOfSpeechSensitivity"]);r!=null&&m(e,["startOfSpeechSensitivity"],r);const l=g(t,["endOfSpeechSensitivity"]);l!=null&&m(e,["endOfSpeechSensitivity"],l);const f=g(t,["prefixPaddingMs"]);f!=null&&m(e,["prefixPaddingMs"],f);const p=g(t,["silenceDurationMs"]);return p!=null&&m(e,["silenceDurationMs"],p),e}function o6(t){const e={},n=g(t,["automaticActivityDetection"]);n!=null&&m(e,["automaticActivityDetection"],i6(n));const r=g(t,["activityHandling"]);r!=null&&m(e,["activityHandling"],r);const l=g(t,["turnCoverage"]);return l!=null&&m(e,["turnCoverage"],l),e}function s6(t){const e={},n=g(t,["automaticActivityDetection"]);n!=null&&m(e,["automaticActivityDetection"],r6(n));const r=g(t,["activityHandling"]);r!=null&&m(e,["activityHandling"],r);const l=g(t,["turnCoverage"]);return l!=null&&m(e,["turnCoverage"],l),e}function a6(t){const e={},n=g(t,["targetTokens"]);return n!=null&&m(e,["targetTokens"],n),e}function l6(t){const e={},n=g(t,["targetTokens"]);return n!=null&&m(e,["targetTokens"],n),e}function c6(t){const e={},n=g(t,["triggerTokens"]);n!=null&&m(e,["triggerTokens"],n);const r=g(t,["slidingWindow"]);return r!=null&&m(e,["slidingWindow"],a6(r)),e}function u6(t){const e={},n=g(t,["triggerTokens"]);n!=null&&m(e,["triggerTokens"],n);const r=g(t,["slidingWindow"]);return r!=null&&m(e,["slidingWindow"],l6(r)),e}function f6(t){const e={},n=g(t,["proactiveAudio"]);return n!=null&&m(e,["proactiveAudio"],n),e}function d6(t){const e={},n=g(t,["proactiveAudio"]);return n!=null&&m(e,["proactiveAudio"],n),e}function h6(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const l=g(t,["responseModalities"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","responseModalities"],l);const f=g(t,["temperature"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","temperature"],f);const p=g(t,["topP"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","topP"],p);const v=g(t,["topK"]);e!==void 0&&v!=null&&m(e,["setup","generationConfig","topK"],v);const w=g(t,["maxOutputTokens"]);e!==void 0&&w!=null&&m(e,["setup","generationConfig","maxOutputTokens"],w);const y=g(t,["mediaResolution"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","mediaResolution"],y);const T=g(t,["seed"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","seed"],T);const _=g(t,["speechConfig"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","speechConfig"],SD(Z1(_)));const I=g(t,["enableAffectiveDialog"]);e!==void 0&&I!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],I);const O=g(t,["systemInstruction"]);e!==void 0&&O!=null&&m(e,["setup","systemInstruction"],PD(fi(O)));const P=g(t,["tools"]);if(e!==void 0&&P!=null){let W=pl(P);Array.isArray(W)&&(W=W.map(oe=>$D(ml(oe)))),m(e,["setup","tools"],W)}const D=g(t,["sessionResumption"]);e!==void 0&&D!=null&&m(e,["setup","sessionResumption"],t6(D));const F=g(t,["inputAudioTranscription"]);e!==void 0&&F!=null&&m(e,["setup","inputAudioTranscription"],o2());const G=g(t,["outputAudioTranscription"]);e!==void 0&&G!=null&&m(e,["setup","outputAudioTranscription"],o2());const q=g(t,["realtimeInputConfig"]);e!==void 0&&q!=null&&m(e,["setup","realtimeInputConfig"],o6(q));const H=g(t,["contextWindowCompression"]);e!==void 0&&H!=null&&m(e,["setup","contextWindowCompression"],c6(H));const K=g(t,["proactivity"]);return e!==void 0&&K!=null&&m(e,["setup","proactivity"],f6(K)),n}function g6(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const l=g(t,["responseModalities"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","responseModalities"],l);const f=g(t,["temperature"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","temperature"],f);const p=g(t,["topP"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","topP"],p);const v=g(t,["topK"]);e!==void 0&&v!=null&&m(e,["setup","generationConfig","topK"],v);const w=g(t,["maxOutputTokens"]);e!==void 0&&w!=null&&m(e,["setup","generationConfig","maxOutputTokens"],w);const y=g(t,["mediaResolution"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","mediaResolution"],y);const T=g(t,["seed"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","seed"],T);const _=g(t,["speechConfig"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","speechConfig"],bD(Z1(_)));const I=g(t,["enableAffectiveDialog"]);e!==void 0&&I!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],I);const O=g(t,["systemInstruction"]);e!==void 0&&O!=null&&m(e,["setup","systemInstruction"],BD(fi(O)));const P=g(t,["tools"]);if(e!==void 0&&P!=null){let W=pl(P);Array.isArray(W)&&(W=W.map(oe=>e6(ml(oe)))),m(e,["setup","tools"],W)}const D=g(t,["sessionResumption"]);e!==void 0&&D!=null&&m(e,["setup","sessionResumption"],n6(D));const F=g(t,["inputAudioTranscription"]);e!==void 0&&F!=null&&m(e,["setup","inputAudioTranscription"],s2());const G=g(t,["outputAudioTranscription"]);e!==void 0&&G!=null&&m(e,["setup","outputAudioTranscription"],s2());const q=g(t,["realtimeInputConfig"]);e!==void 0&&q!=null&&m(e,["setup","realtimeInputConfig"],s6(q));const H=g(t,["contextWindowCompression"]);e!==void 0&&H!=null&&m(e,["setup","contextWindowCompression"],u6(H));const K=g(t,["proactivity"]);return e!==void 0&&K!=null&&m(e,["setup","proactivity"],d6(K)),n}function m6(t,e){const n={},r=g(e,["model"]);r!=null&&m(n,["setup","model"],Gt(t,r));const l=g(e,["config"]);return l!=null&&m(n,["config"],h6(l,n)),n}function p6(t,e){const n={},r=g(e,["model"]);r!=null&&m(n,["setup","model"],Gt(t,r));const l=g(e,["config"]);return l!=null&&m(n,["config"],g6(l,n)),n}function x6(){return{}}function y6(){return{}}function C6(){return{}}function v6(){return{}}function E6(t){const e={},n=g(t,["media"]);n!=null&&m(e,["mediaChunks"],PE(n));const r=g(t,["audio"]);r!=null&&m(e,["audio"],kE(r));const l=g(t,["audioStreamEnd"]);l!=null&&m(e,["audioStreamEnd"],l);const f=g(t,["video"]);f!=null&&m(e,["video"],BE(f));const p=g(t,["text"]);return p!=null&&m(e,["text"],p),g(t,["activityStart"])!=null&&m(e,["activityStart"],x6()),g(t,["activityEnd"])!=null&&m(e,["activityEnd"],C6()),e}function w6(t){const e={},n=g(t,["media"]);n!=null&&m(e,["mediaChunks"],PE(n));const r=g(t,["audio"]);r!=null&&m(e,["audio"],kE(r));const l=g(t,["audioStreamEnd"]);l!=null&&m(e,["audioStreamEnd"],l);const f=g(t,["video"]);f!=null&&m(e,["video"],BE(f));const p=g(t,["text"]);return p!=null&&m(e,["text"],p),g(t,["activityStart"])!=null&&m(e,["activityStart"],y6()),g(t,["activityEnd"])!=null&&m(e,["activityEnd"],v6()),e}function JE(t){const e={},n=g(t,["text"]);n!=null&&m(e,["text"],n);const r=g(t,["weight"]);return r!=null&&m(e,["weight"],r),e}function A6(t){const e={},n=g(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>JE(l))),m(e,["weightedPrompts"],r)}return e}function $E(t){const e={},n=g(t,["temperature"]);n!=null&&m(e,["temperature"],n);const r=g(t,["topK"]);r!=null&&m(e,["topK"],r);const l=g(t,["seed"]);l!=null&&m(e,["seed"],l);const f=g(t,["guidance"]);f!=null&&m(e,["guidance"],f);const p=g(t,["bpm"]);p!=null&&m(e,["bpm"],p);const v=g(t,["density"]);v!=null&&m(e,["density"],v);const w=g(t,["brightness"]);w!=null&&m(e,["brightness"],w);const y=g(t,["scale"]);y!=null&&m(e,["scale"],y);const T=g(t,["muteBass"]);T!=null&&m(e,["muteBass"],T);const _=g(t,["muteDrums"]);_!=null&&m(e,["muteDrums"],_);const I=g(t,["onlyBassAndDrums"]);return I!=null&&m(e,["onlyBassAndDrums"],I),e}function T6(t){const e={},n=g(t,["musicGenerationConfig"]);return n!=null&&m(e,["musicGenerationConfig"],$E(n)),e}function ew(t){const e={},n=g(t,["model"]);return n!=null&&m(e,["model"],n),e}function tw(t){const e={},n=g(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>JE(l))),m(e,["weightedPrompts"],r)}return e}function c1(t){const e={},n=g(t,["setup"]);n!=null&&m(e,["setup"],ew(n));const r=g(t,["clientContent"]);r!=null&&m(e,["clientContent"],tw(r));const l=g(t,["musicGenerationConfig"]);l!=null&&m(e,["musicGenerationConfig"],$E(l));const f=g(t,["playbackControl"]);return f!=null&&m(e,["playbackControl"],f),e}function S6(){return{}}function b6(t){const e={},n=g(t,["sessionId"]);return n!=null&&m(e,["sessionId"],n),e}function _6(t){const e={},n=g(t,["fps"]);n!=null&&m(e,["fps"],n);const r=g(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const l=g(t,["startOffset"]);return l!=null&&m(e,["startOffset"],l),e}function N6(t){const e={},n=g(t,["fps"]);n!=null&&m(e,["fps"],n);const r=g(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const l=g(t,["startOffset"]);return l!=null&&m(e,["startOffset"],l),e}function M6(t){const e={},n=g(t,["data"]);n!=null&&m(e,["data"],n);const r=g(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function I6(t){const e={},n=g(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=g(t,["data"]);r!=null&&m(e,["data"],r);const l=g(t,["mimeType"]);return l!=null&&m(e,["mimeType"],l),e}function R6(t){const e={},n=g(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function D6(t){const e={},n=g(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=g(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const l=g(t,["mimeType"]);return l!=null&&m(e,["mimeType"],l),e}function O6(t){const e={},n=g(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],_6(n));const r=g(t,["thought"]);r!=null&&m(e,["thought"],r);const l=g(t,["inlineData"]);l!=null&&m(e,["inlineData"],M6(l));const f=g(t,["fileData"]);f!=null&&m(e,["fileData"],R6(f));const p=g(t,["thoughtSignature"]);p!=null&&m(e,["thoughtSignature"],p);const v=g(t,["codeExecutionResult"]);v!=null&&m(e,["codeExecutionResult"],v);const w=g(t,["executableCode"]);w!=null&&m(e,["executableCode"],w);const y=g(t,["functionCall"]);y!=null&&m(e,["functionCall"],y);const T=g(t,["functionResponse"]);T!=null&&m(e,["functionResponse"],T);const _=g(t,["text"]);return _!=null&&m(e,["text"],_),e}function L6(t){const e={},n=g(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],N6(n));const r=g(t,["thought"]);r!=null&&m(e,["thought"],r);const l=g(t,["inlineData"]);l!=null&&m(e,["inlineData"],I6(l));const f=g(t,["fileData"]);f!=null&&m(e,["fileData"],D6(f));const p=g(t,["thoughtSignature"]);p!=null&&m(e,["thoughtSignature"],p);const v=g(t,["codeExecutionResult"]);v!=null&&m(e,["codeExecutionResult"],v);const w=g(t,["executableCode"]);w!=null&&m(e,["executableCode"],w);const y=g(t,["functionCall"]);y!=null&&m(e,["functionCall"],y);const T=g(t,["functionResponse"]);T!=null&&m(e,["functionResponse"],T);const _=g(t,["text"]);return _!=null&&m(e,["text"],_),e}function P6(t){const e={},n=g(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(f=>O6(f))),m(e,["parts"],l)}const r=g(t,["role"]);return r!=null&&m(e,["role"],r),e}function B6(t){const e={},n=g(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(f=>L6(f))),m(e,["parts"],l)}const r=g(t,["role"]);return r!=null&&m(e,["role"],r),e}function a2(t){const e={},n=g(t,["text"]);n!=null&&m(e,["text"],n);const r=g(t,["finished"]);return r!=null&&m(e,["finished"],r),e}function l2(t){const e={},n=g(t,["text"]);n!=null&&m(e,["text"],n);const r=g(t,["finished"]);return r!=null&&m(e,["finished"],r),e}function k6(t){const e={},n=g(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=g(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function U6(t){const e={},n=g(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>k6(l))),m(e,["urlMetadata"],r)}return e}function F6(t){const e={},n=g(t,["modelTurn"]);n!=null&&m(e,["modelTurn"],P6(n));const r=g(t,["turnComplete"]);r!=null&&m(e,["turnComplete"],r);const l=g(t,["interrupted"]);l!=null&&m(e,["interrupted"],l);const f=g(t,["groundingMetadata"]);f!=null&&m(e,["groundingMetadata"],f);const p=g(t,["generationComplete"]);p!=null&&m(e,["generationComplete"],p);const v=g(t,["inputTranscription"]);v!=null&&m(e,["inputTranscription"],a2(v));const w=g(t,["outputTranscription"]);w!=null&&m(e,["outputTranscription"],a2(w));const y=g(t,["urlContextMetadata"]);return y!=null&&m(e,["urlContextMetadata"],U6(y)),e}function V6(t){const e={},n=g(t,["modelTurn"]);n!=null&&m(e,["modelTurn"],B6(n));const r=g(t,["turnComplete"]);r!=null&&m(e,["turnComplete"],r);const l=g(t,["interrupted"]);l!=null&&m(e,["interrupted"],l);const f=g(t,["groundingMetadata"]);f!=null&&m(e,["groundingMetadata"],f);const p=g(t,["generationComplete"]);p!=null&&m(e,["generationComplete"],p);const v=g(t,["inputTranscription"]);v!=null&&m(e,["inputTranscription"],l2(v));const w=g(t,["outputTranscription"]);return w!=null&&m(e,["outputTranscription"],l2(w)),e}function z6(t){const e={},n=g(t,["id"]);n!=null&&m(e,["id"],n);const r=g(t,["args"]);r!=null&&m(e,["args"],r);const l=g(t,["name"]);return l!=null&&m(e,["name"],l),e}function H6(t){const e={},n=g(t,["args"]);n!=null&&m(e,["args"],n);const r=g(t,["name"]);return r!=null&&m(e,["name"],r),e}function G6(t){const e={},n=g(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>z6(l))),m(e,["functionCalls"],r)}return e}function q6(t){const e={},n=g(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>H6(l))),m(e,["functionCalls"],r)}return e}function Y6(t){const e={},n=g(t,["ids"]);return n!=null&&m(e,["ids"],n),e}function X6(t){const e={},n=g(t,["ids"]);return n!=null&&m(e,["ids"],n),e}function cf(t){const e={},n=g(t,["modality"]);n!=null&&m(e,["modality"],n);const r=g(t,["tokenCount"]);return r!=null&&m(e,["tokenCount"],r),e}function uf(t){const e={},n=g(t,["modality"]);n!=null&&m(e,["modality"],n);const r=g(t,["tokenCount"]);return r!=null&&m(e,["tokenCount"],r),e}function W6(t){const e={},n=g(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const r=g(t,["cachedContentTokenCount"]);r!=null&&m(e,["cachedContentTokenCount"],r);const l=g(t,["responseTokenCount"]);l!=null&&m(e,["responseTokenCount"],l);const f=g(t,["toolUsePromptTokenCount"]);f!=null&&m(e,["toolUsePromptTokenCount"],f);const p=g(t,["thoughtsTokenCount"]);p!=null&&m(e,["thoughtsTokenCount"],p);const v=g(t,["totalTokenCount"]);v!=null&&m(e,["totalTokenCount"],v);const w=g(t,["promptTokensDetails"]);if(w!=null){let I=w;Array.isArray(I)&&(I=I.map(O=>cf(O))),m(e,["promptTokensDetails"],I)}const y=g(t,["cacheTokensDetails"]);if(y!=null){let I=y;Array.isArray(I)&&(I=I.map(O=>cf(O))),m(e,["cacheTokensDetails"],I)}const T=g(t,["responseTokensDetails"]);if(T!=null){let I=T;Array.isArray(I)&&(I=I.map(O=>cf(O))),m(e,["responseTokensDetails"],I)}const _=g(t,["toolUsePromptTokensDetails"]);if(_!=null){let I=_;Array.isArray(I)&&(I=I.map(O=>cf(O))),m(e,["toolUsePromptTokensDetails"],I)}return e}function j6(t){const e={},n=g(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const r=g(t,["cachedContentTokenCount"]);r!=null&&m(e,["cachedContentTokenCount"],r);const l=g(t,["candidatesTokenCount"]);l!=null&&m(e,["responseTokenCount"],l);const f=g(t,["toolUsePromptTokenCount"]);f!=null&&m(e,["toolUsePromptTokenCount"],f);const p=g(t,["thoughtsTokenCount"]);p!=null&&m(e,["thoughtsTokenCount"],p);const v=g(t,["totalTokenCount"]);v!=null&&m(e,["totalTokenCount"],v);const w=g(t,["promptTokensDetails"]);if(w!=null){let O=w;Array.isArray(O)&&(O=O.map(P=>uf(P))),m(e,["promptTokensDetails"],O)}const y=g(t,["cacheTokensDetails"]);if(y!=null){let O=y;Array.isArray(O)&&(O=O.map(P=>uf(P))),m(e,["cacheTokensDetails"],O)}const T=g(t,["candidatesTokensDetails"]);if(T!=null){let O=T;Array.isArray(O)&&(O=O.map(P=>uf(P))),m(e,["responseTokensDetails"],O)}const _=g(t,["toolUsePromptTokensDetails"]);if(_!=null){let O=_;Array.isArray(O)&&(O=O.map(P=>uf(P))),m(e,["toolUsePromptTokensDetails"],O)}const I=g(t,["trafficType"]);return I!=null&&m(e,["trafficType"],I),e}function K6(t){const e={},n=g(t,["timeLeft"]);return n!=null&&m(e,["timeLeft"],n),e}function Z6(t){const e={},n=g(t,["timeLeft"]);return n!=null&&m(e,["timeLeft"],n),e}function Q6(t){const e={},n=g(t,["newHandle"]);n!=null&&m(e,["newHandle"],n);const r=g(t,["resumable"]);r!=null&&m(e,["resumable"],r);const l=g(t,["lastConsumedClientMessageIndex"]);return l!=null&&m(e,["lastConsumedClientMessageIndex"],l),e}function J6(t){const e={},n=g(t,["newHandle"]);n!=null&&m(e,["newHandle"],n);const r=g(t,["resumable"]);r!=null&&m(e,["resumable"],r);const l=g(t,["lastConsumedClientMessageIndex"]);return l!=null&&m(e,["lastConsumedClientMessageIndex"],l),e}function $6(t){const e={};g(t,["setupComplete"])!=null&&m(e,["setupComplete"],S6());const r=g(t,["serverContent"]);r!=null&&m(e,["serverContent"],F6(r));const l=g(t,["toolCall"]);l!=null&&m(e,["toolCall"],G6(l));const f=g(t,["toolCallCancellation"]);f!=null&&m(e,["toolCallCancellation"],Y6(f));const p=g(t,["usageMetadata"]);p!=null&&m(e,["usageMetadata"],W6(p));const v=g(t,["goAway"]);v!=null&&m(e,["goAway"],K6(v));const w=g(t,["sessionResumptionUpdate"]);return w!=null&&m(e,["sessionResumptionUpdate"],Q6(w)),e}function eO(t){const e={},n=g(t,["setupComplete"]);n!=null&&m(e,["setupComplete"],b6(n));const r=g(t,["serverContent"]);r!=null&&m(e,["serverContent"],V6(r));const l=g(t,["toolCall"]);l!=null&&m(e,["toolCall"],q6(l));const f=g(t,["toolCallCancellation"]);f!=null&&m(e,["toolCallCancellation"],X6(f));const p=g(t,["usageMetadata"]);p!=null&&m(e,["usageMetadata"],j6(p));const v=g(t,["goAway"]);v!=null&&m(e,["goAway"],Z6(v));const w=g(t,["sessionResumptionUpdate"]);return w!=null&&m(e,["sessionResumptionUpdate"],J6(w)),e}function tO(){return{}}function nO(t){const e={},n=g(t,["text"]);n!=null&&m(e,["text"],n);const r=g(t,["weight"]);return r!=null&&m(e,["weight"],r),e}function iO(t){const e={},n=g(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>nO(l))),m(e,["weightedPrompts"],r)}return e}function rO(t){const e={},n=g(t,["temperature"]);n!=null&&m(e,["temperature"],n);const r=g(t,["topK"]);r!=null&&m(e,["topK"],r);const l=g(t,["seed"]);l!=null&&m(e,["seed"],l);const f=g(t,["guidance"]);f!=null&&m(e,["guidance"],f);const p=g(t,["bpm"]);p!=null&&m(e,["bpm"],p);const v=g(t,["density"]);v!=null&&m(e,["density"],v);const w=g(t,["brightness"]);w!=null&&m(e,["brightness"],w);const y=g(t,["scale"]);y!=null&&m(e,["scale"],y);const T=g(t,["muteBass"]);T!=null&&m(e,["muteBass"],T);const _=g(t,["muteDrums"]);_!=null&&m(e,["muteDrums"],_);const I=g(t,["onlyBassAndDrums"]);return I!=null&&m(e,["onlyBassAndDrums"],I),e}function oO(t){const e={},n=g(t,["clientContent"]);n!=null&&m(e,["clientContent"],iO(n));const r=g(t,["musicGenerationConfig"]);return r!=null&&m(e,["musicGenerationConfig"],rO(r)),e}function sO(t){const e={},n=g(t,["data"]);n!=null&&m(e,["data"],n);const r=g(t,["mimeType"]);r!=null&&m(e,["mimeType"],r);const l=g(t,["sourceMetadata"]);return l!=null&&m(e,["sourceMetadata"],oO(l)),e}function aO(t){const e={},n=g(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>sO(l))),m(e,["audioChunks"],r)}return e}function lO(t){const e={},n=g(t,["text"]);n!=null&&m(e,["text"],n);const r=g(t,["filteredReason"]);return r!=null&&m(e,["filteredReason"],r),e}function cO(t){const e={};g(t,["setupComplete"])!=null&&m(e,["setupComplete"],tO());const r=g(t,["serverContent"]);r!=null&&m(e,["serverContent"],aO(r));const l=g(t,["filteredPrompt"]);return l!=null&&m(e,["filteredPrompt"],lO(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uO(t){const e={},n=g(t,["fps"]);n!=null&&m(e,["fps"],n);const r=g(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const l=g(t,["startOffset"]);return l!=null&&m(e,["startOffset"],l),e}function fO(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["data"]);n!=null&&m(e,["data"],n);const r=g(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function dO(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function hO(t){const e={},n=g(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],uO(n));const r=g(t,["thought"]);r!=null&&m(e,["thought"],r);const l=g(t,["inlineData"]);l!=null&&m(e,["inlineData"],fO(l));const f=g(t,["fileData"]);f!=null&&m(e,["fileData"],dO(f));const p=g(t,["thoughtSignature"]);p!=null&&m(e,["thoughtSignature"],p);const v=g(t,["codeExecutionResult"]);v!=null&&m(e,["codeExecutionResult"],v);const w=g(t,["executableCode"]);w!=null&&m(e,["executableCode"],w);const y=g(t,["functionCall"]);y!=null&&m(e,["functionCall"],y);const T=g(t,["functionResponse"]);T!=null&&m(e,["functionResponse"],T);const _=g(t,["text"]);return _!=null&&m(e,["text"],_),e}function ld(t){const e={},n=g(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(f=>hO(f))),m(e,["parts"],l)}const r=g(t,["role"]);return r!=null&&m(e,["role"],r),e}function gO(t){const e={},n=g(t,["anyOf"]);n!=null&&m(e,["anyOf"],n);const r=g(t,["default"]);r!=null&&m(e,["default"],r);const l=g(t,["description"]);l!=null&&m(e,["description"],l);const f=g(t,["enum"]);f!=null&&m(e,["enum"],f);const p=g(t,["example"]);p!=null&&m(e,["example"],p);const v=g(t,["format"]);v!=null&&m(e,["format"],v);const w=g(t,["items"]);w!=null&&m(e,["items"],w);const y=g(t,["maxItems"]);y!=null&&m(e,["maxItems"],y);const T=g(t,["maxLength"]);T!=null&&m(e,["maxLength"],T);const _=g(t,["maxProperties"]);_!=null&&m(e,["maxProperties"],_);const I=g(t,["maximum"]);I!=null&&m(e,["maximum"],I);const O=g(t,["minItems"]);O!=null&&m(e,["minItems"],O);const P=g(t,["minLength"]);P!=null&&m(e,["minLength"],P);const D=g(t,["minProperties"]);D!=null&&m(e,["minProperties"],D);const F=g(t,["minimum"]);F!=null&&m(e,["minimum"],F);const G=g(t,["nullable"]);G!=null&&m(e,["nullable"],G);const q=g(t,["pattern"]);q!=null&&m(e,["pattern"],q);const H=g(t,["properties"]);H!=null&&m(e,["properties"],H);const K=g(t,["propertyOrdering"]);K!=null&&m(e,["propertyOrdering"],K);const W=g(t,["required"]);W!=null&&m(e,["required"],W);const oe=g(t,["title"]);oe!=null&&m(e,["title"],oe);const Z=g(t,["type"]);return Z!=null&&m(e,["type"],Z),e}function mO(t){const e={};if(g(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=g(t,["category"]);n!=null&&m(e,["category"],n);const r=g(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function pO(t){const e={},n=g(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=g(t,["description"]);r!=null&&m(e,["description"],r);const l=g(t,["name"]);l!=null&&m(e,["name"],l);const f=g(t,["parameters"]);f!=null&&m(e,["parameters"],f);const p=g(t,["parametersJsonSchema"]);p!=null&&m(e,["parametersJsonSchema"],p);const v=g(t,["response"]);v!=null&&m(e,["response"],v);const w=g(t,["responseJsonSchema"]);return w!=null&&m(e,["responseJsonSchema"],w),e}function xO(t){const e={},n=g(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=g(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function yO(t){const e={},n=g(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],xO(n)),e}function CO(t){const e={},n=g(t,["mode"]);n!=null&&m(e,["mode"],n);const r=g(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function vO(t){const e={},n=g(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],CO(n)),e}function EO(){return{}}function wO(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let w=n;Array.isArray(w)&&(w=w.map(y=>pO(y))),m(e,["functionDeclarations"],w)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],yO(r));const l=g(t,["googleSearchRetrieval"]);if(l!=null&&m(e,["googleSearchRetrieval"],vO(l)),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(g(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");g(t,["urlContext"])!=null&&m(e,["urlContext"],EO());const p=g(t,["codeExecution"]);p!=null&&m(e,["codeExecution"],p);const v=g(t,["computerUse"]);return v!=null&&m(e,["computerUse"],v),e}function AO(t){const e={},n=g(t,["mode"]);n!=null&&m(e,["mode"],n);const r=g(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function TO(t){const e={},n=g(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=g(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function SO(t){const e={},n=g(t,["latLng"]);n!=null&&m(e,["latLng"],TO(n));const r=g(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function bO(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],AO(n));const r=g(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],SO(r)),e}function _O(t){const e={},n=g(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function nw(t){const e={},n=g(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],_O(n)),e}function NO(t){const e={},n=g(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=g(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],nw(r)),e}function MO(t){const e={},n=g(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>NO(l))),m(e,["speakerVoiceConfigs"],r)}return e}function IO(t){const e={},n=g(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],nw(n));const r=g(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],MO(r));const l=g(t,["languageCode"]);return l!=null&&m(e,["languageCode"],l),e}function RO(t){const e={},n=g(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const r=g(t,["thinkingBudget"]);return r!=null&&m(e,["thinkingBudget"],r),e}function DO(t,e,n){const r={},l=g(e,["systemInstruction"]);n!==void 0&&l!=null&&m(n,["systemInstruction"],ld(fi(l)));const f=g(e,["temperature"]);f!=null&&m(r,["temperature"],f);const p=g(e,["topP"]);p!=null&&m(r,["topP"],p);const v=g(e,["topK"]);v!=null&&m(r,["topK"],v);const w=g(e,["candidateCount"]);w!=null&&m(r,["candidateCount"],w);const y=g(e,["maxOutputTokens"]);y!=null&&m(r,["maxOutputTokens"],y);const T=g(e,["stopSequences"]);T!=null&&m(r,["stopSequences"],T);const _=g(e,["responseLogprobs"]);_!=null&&m(r,["responseLogprobs"],_);const I=g(e,["logprobs"]);I!=null&&m(r,["logprobs"],I);const O=g(e,["presencePenalty"]);O!=null&&m(r,["presencePenalty"],O);const P=g(e,["frequencyPenalty"]);P!=null&&m(r,["frequencyPenalty"],P);const D=g(e,["seed"]);D!=null&&m(r,["seed"],D);const F=g(e,["responseMimeType"]);F!=null&&m(r,["responseMimeType"],F);const G=g(e,["responseSchema"]);G!=null&&m(r,["responseSchema"],gO(j1(G)));const q=g(e,["responseJsonSchema"]);if(q!=null&&m(r,["responseJsonSchema"],q),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=g(e,["safetySettings"]);if(n!==void 0&&H!=null){let Re=H;Array.isArray(Re)&&(Re=Re.map(Te=>mO(Te))),m(n,["safetySettings"],Re)}const K=g(e,["tools"]);if(n!==void 0&&K!=null){let Re=pl(K);Array.isArray(Re)&&(Re=Re.map(Te=>wO(ml(Te)))),m(n,["tools"],Re)}const W=g(e,["toolConfig"]);if(n!==void 0&&W!=null&&m(n,["toolConfig"],bO(W)),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const oe=g(e,["cachedContent"]);n!==void 0&&oe!=null&&m(n,["cachedContent"],vo(t,oe));const Z=g(e,["responseModalities"]);Z!=null&&m(r,["responseModalities"],Z);const ae=g(e,["mediaResolution"]);ae!=null&&m(r,["mediaResolution"],ae);const ee=g(e,["speechConfig"]);if(ee!=null&&m(r,["speechConfig"],IO(K1(ee))),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Me=g(e,["thinkingConfig"]);return Me!=null&&m(r,["thinkingConfig"],RO(Me)),r}function c2(t,e){const n={},r=g(e,["model"]);r!=null&&m(n,["_url","model"],Gt(t,r));const l=g(e,["contents"]);if(l!=null){let p=ir(l);Array.isArray(p)&&(p=p.map(v=>ld(v))),m(n,["contents"],p)}const f=g(e,["config"]);return f!=null&&m(n,["generationConfig"],DO(t,f,n)),n}function OO(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const l=g(t,["title"]);e!==void 0&&l!=null&&m(e,["requests[]","title"],l);const f=g(t,["outputDimensionality"]);if(e!==void 0&&f!=null&&m(e,["requests[]","outputDimensionality"],f),g(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function LO(t,e){const n={},r=g(e,["model"]);r!=null&&m(n,["_url","model"],Gt(t,r));const l=g(e,["contents"]);l!=null&&m(n,["requests[]","content"],FE(t,l));const f=g(e,["config"]);f!=null&&m(n,["config"],OO(f,n));const p=g(e,["model"]);return p!==void 0&&m(n,["requests[]","model"],Gt(t,p)),n}function PO(t,e){const n={};if(g(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=g(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const l=g(t,["aspectRatio"]);e!==void 0&&l!=null&&m(e,["parameters","aspectRatio"],l);const f=g(t,["guidanceScale"]);if(e!==void 0&&f!=null&&m(e,["parameters","guidanceScale"],f),g(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=g(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&m(e,["parameters","safetySetting"],p);const v=g(t,["personGeneration"]);e!==void 0&&v!=null&&m(e,["parameters","personGeneration"],v);const w=g(t,["includeSafetyAttributes"]);e!==void 0&&w!=null&&m(e,["parameters","includeSafetyAttributes"],w);const y=g(t,["includeRaiReason"]);e!==void 0&&y!=null&&m(e,["parameters","includeRaiReason"],y);const T=g(t,["language"]);e!==void 0&&T!=null&&m(e,["parameters","language"],T);const _=g(t,["outputMimeType"]);e!==void 0&&_!=null&&m(e,["parameters","outputOptions","mimeType"],_);const I=g(t,["outputCompressionQuality"]);if(e!==void 0&&I!=null&&m(e,["parameters","outputOptions","compressionQuality"],I),g(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(g(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function BO(t,e){const n={},r=g(e,["model"]);r!=null&&m(n,["_url","model"],Gt(t,r));const l=g(e,["prompt"]);l!=null&&m(n,["instances[0]","prompt"],l);const f=g(e,["config"]);return f!=null&&m(n,["config"],PO(f,n)),n}function kO(t,e){const n={},r=g(e,["model"]);r!=null&&m(n,["_url","name"],Gt(t,r));const l=g(e,["config"]);return l!=null&&m(n,["config"],l),n}function UO(t,e,n){const r={},l=g(e,["pageSize"]);n!==void 0&&l!=null&&m(n,["_query","pageSize"],l);const f=g(e,["pageToken"]);n!==void 0&&f!=null&&m(n,["_query","pageToken"],f);const p=g(e,["filter"]);n!==void 0&&p!=null&&m(n,["_query","filter"],p);const v=g(e,["queryBase"]);return n!==void 0&&v!=null&&m(n,["_url","models_url"],HE(t,v)),r}function FO(t,e){const n={},r=g(e,["config"]);return r!=null&&m(n,["config"],UO(t,r,n)),n}function VO(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const l=g(t,["description"]);e!==void 0&&l!=null&&m(e,["description"],l);const f=g(t,["defaultCheckpointId"]);return e!==void 0&&f!=null&&m(e,["defaultCheckpointId"],f),n}function zO(t,e){const n={},r=g(e,["model"]);r!=null&&m(n,["_url","name"],Gt(t,r));const l=g(e,["config"]);return l!=null&&m(n,["config"],VO(l,n)),n}function HO(t,e){const n={},r=g(e,["model"]);r!=null&&m(n,["_url","name"],Gt(t,r));const l=g(e,["config"]);return l!=null&&m(n,["config"],l),n}function GO(t){const e={};if(g(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(g(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(g(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function qO(t,e){const n={},r=g(e,["model"]);r!=null&&m(n,["_url","model"],Gt(t,r));const l=g(e,["contents"]);if(l!=null){let p=ir(l);Array.isArray(p)&&(p=p.map(v=>ld(v))),m(n,["contents"],p)}const f=g(e,["config"]);return f!=null&&m(n,["config"],GO(f)),n}function YO(t){const e={};if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=g(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],Eo(n));const r=g(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function XO(t,e){const n={},r=g(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r),g(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=g(t,["durationSeconds"]);if(e!==void 0&&l!=null&&m(e,["parameters","durationSeconds"],l),g(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=g(t,["aspectRatio"]);if(e!==void 0&&f!=null&&m(e,["parameters","aspectRatio"],f),g(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const p=g(t,["personGeneration"]);if(e!==void 0&&p!=null&&m(e,["parameters","personGeneration"],p),g(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const v=g(t,["negativePrompt"]);e!==void 0&&v!=null&&m(e,["parameters","negativePrompt"],v);const w=g(t,["enhancePrompt"]);if(e!==void 0&&w!=null&&m(e,["parameters","enhancePrompt"],w),g(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(g(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(g(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function WO(t,e){const n={},r=g(e,["model"]);r!=null&&m(n,["_url","model"],Gt(t,r));const l=g(e,["prompt"]);l!=null&&m(n,["instances[0]","prompt"],l);const f=g(e,["image"]);if(f!=null&&m(n,["instances[0]","image"],YO(f)),g(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const p=g(e,["config"]);return p!=null&&m(n,["config"],XO(p,n)),n}function jO(t){const e={},n=g(t,["fps"]);n!=null&&m(e,["fps"],n);const r=g(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const l=g(t,["startOffset"]);return l!=null&&m(e,["startOffset"],l),e}function KO(t){const e={},n=g(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=g(t,["data"]);r!=null&&m(e,["data"],r);const l=g(t,["mimeType"]);return l!=null&&m(e,["mimeType"],l),e}function ZO(t){const e={},n=g(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=g(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const l=g(t,["mimeType"]);return l!=null&&m(e,["mimeType"],l),e}function QO(t){const e={},n=g(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],jO(n));const r=g(t,["thought"]);r!=null&&m(e,["thought"],r);const l=g(t,["inlineData"]);l!=null&&m(e,["inlineData"],KO(l));const f=g(t,["fileData"]);f!=null&&m(e,["fileData"],ZO(f));const p=g(t,["thoughtSignature"]);p!=null&&m(e,["thoughtSignature"],p);const v=g(t,["codeExecutionResult"]);v!=null&&m(e,["codeExecutionResult"],v);const w=g(t,["executableCode"]);w!=null&&m(e,["executableCode"],w);const y=g(t,["functionCall"]);y!=null&&m(e,["functionCall"],y);const T=g(t,["functionResponse"]);T!=null&&m(e,["functionResponse"],T);const _=g(t,["text"]);return _!=null&&m(e,["text"],_),e}function yl(t){const e={},n=g(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(f=>QO(f))),m(e,["parts"],l)}const r=g(t,["role"]);return r!=null&&m(e,["role"],r),e}function JO(t){const e={},n=g(t,["anyOf"]);n!=null&&m(e,["anyOf"],n);const r=g(t,["default"]);r!=null&&m(e,["default"],r);const l=g(t,["description"]);l!=null&&m(e,["description"],l);const f=g(t,["enum"]);f!=null&&m(e,["enum"],f);const p=g(t,["example"]);p!=null&&m(e,["example"],p);const v=g(t,["format"]);v!=null&&m(e,["format"],v);const w=g(t,["items"]);w!=null&&m(e,["items"],w);const y=g(t,["maxItems"]);y!=null&&m(e,["maxItems"],y);const T=g(t,["maxLength"]);T!=null&&m(e,["maxLength"],T);const _=g(t,["maxProperties"]);_!=null&&m(e,["maxProperties"],_);const I=g(t,["maximum"]);I!=null&&m(e,["maximum"],I);const O=g(t,["minItems"]);O!=null&&m(e,["minItems"],O);const P=g(t,["minLength"]);P!=null&&m(e,["minLength"],P);const D=g(t,["minProperties"]);D!=null&&m(e,["minProperties"],D);const F=g(t,["minimum"]);F!=null&&m(e,["minimum"],F);const G=g(t,["nullable"]);G!=null&&m(e,["nullable"],G);const q=g(t,["pattern"]);q!=null&&m(e,["pattern"],q);const H=g(t,["properties"]);H!=null&&m(e,["properties"],H);const K=g(t,["propertyOrdering"]);K!=null&&m(e,["propertyOrdering"],K);const W=g(t,["required"]);W!=null&&m(e,["required"],W);const oe=g(t,["title"]);oe!=null&&m(e,["title"],oe);const Z=g(t,["type"]);return Z!=null&&m(e,["type"],Z),e}function $O(t){const e={},n=g(t,["featureSelectionPreference"]);return n!=null&&m(e,["featureSelectionPreference"],n),e}function e5(t){const e={},n=g(t,["method"]);n!=null&&m(e,["method"],n);const r=g(t,["category"]);r!=null&&m(e,["category"],r);const l=g(t,["threshold"]);return l!=null&&m(e,["threshold"],l),e}function t5(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&m(e,["description"],n);const r=g(t,["name"]);r!=null&&m(e,["name"],r);const l=g(t,["parameters"]);l!=null&&m(e,["parameters"],l);const f=g(t,["parametersJsonSchema"]);f!=null&&m(e,["parametersJsonSchema"],f);const p=g(t,["response"]);p!=null&&m(e,["response"],p);const v=g(t,["responseJsonSchema"]);return v!=null&&m(e,["responseJsonSchema"],v),e}function n5(t){const e={},n=g(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=g(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function i5(t){const e={},n=g(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n5(n)),e}function r5(t){const e={},n=g(t,["mode"]);n!=null&&m(e,["mode"],n);const r=g(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function o5(t){const e={},n=g(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],r5(n)),e}function s5(){return{}}function a5(t){const e={},n=g(t,["apiKeyString"]);return n!=null&&m(e,["apiKeyString"],n),e}function l5(t){const e={},n=g(t,["apiKeyConfig"]);n!=null&&m(e,["apiKeyConfig"],a5(n));const r=g(t,["authType"]);r!=null&&m(e,["authType"],r);const l=g(t,["googleServiceAccountConfig"]);l!=null&&m(e,["googleServiceAccountConfig"],l);const f=g(t,["httpBasicAuthConfig"]);f!=null&&m(e,["httpBasicAuthConfig"],f);const p=g(t,["oauthConfig"]);p!=null&&m(e,["oauthConfig"],p);const v=g(t,["oidcConfig"]);return v!=null&&m(e,["oidcConfig"],v),e}function c5(t){const e={},n=g(t,["authConfig"]);return n!=null&&m(e,["authConfig"],l5(n)),e}function u5(){return{}}function iw(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(I=>t5(I))),m(e,["functionDeclarations"],_)}const r=g(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const l=g(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],i5(l));const f=g(t,["googleSearchRetrieval"]);f!=null&&m(e,["googleSearchRetrieval"],o5(f)),g(t,["enterpriseWebSearch"])!=null&&m(e,["enterpriseWebSearch"],s5());const v=g(t,["googleMaps"]);v!=null&&m(e,["googleMaps"],c5(v)),g(t,["urlContext"])!=null&&m(e,["urlContext"],u5());const y=g(t,["codeExecution"]);y!=null&&m(e,["codeExecution"],y);const T=g(t,["computerUse"]);return T!=null&&m(e,["computerUse"],T),e}function f5(t){const e={},n=g(t,["mode"]);n!=null&&m(e,["mode"],n);const r=g(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function d5(t){const e={},n=g(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=g(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function h5(t){const e={},n=g(t,["latLng"]);n!=null&&m(e,["latLng"],d5(n));const r=g(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function g5(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],f5(n));const r=g(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],h5(r)),e}function m5(t){const e={},n=g(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function p5(t){const e={},n=g(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],m5(n)),e}function x5(t){const e={},n=g(t,["voiceConfig"]);if(n!=null&&m(e,["voiceConfig"],p5(n)),g(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=g(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function y5(t){const e={},n=g(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const r=g(t,["thinkingBudget"]);return r!=null&&m(e,["thinkingBudget"],r),e}function C5(t,e,n){const r={},l=g(e,["systemInstruction"]);n!==void 0&&l!=null&&m(n,["systemInstruction"],yl(fi(l)));const f=g(e,["temperature"]);f!=null&&m(r,["temperature"],f);const p=g(e,["topP"]);p!=null&&m(r,["topP"],p);const v=g(e,["topK"]);v!=null&&m(r,["topK"],v);const w=g(e,["candidateCount"]);w!=null&&m(r,["candidateCount"],w);const y=g(e,["maxOutputTokens"]);y!=null&&m(r,["maxOutputTokens"],y);const T=g(e,["stopSequences"]);T!=null&&m(r,["stopSequences"],T);const _=g(e,["responseLogprobs"]);_!=null&&m(r,["responseLogprobs"],_);const I=g(e,["logprobs"]);I!=null&&m(r,["logprobs"],I);const O=g(e,["presencePenalty"]);O!=null&&m(r,["presencePenalty"],O);const P=g(e,["frequencyPenalty"]);P!=null&&m(r,["frequencyPenalty"],P);const D=g(e,["seed"]);D!=null&&m(r,["seed"],D);const F=g(e,["responseMimeType"]);F!=null&&m(r,["responseMimeType"],F);const G=g(e,["responseSchema"]);G!=null&&m(r,["responseSchema"],JO(j1(G)));const q=g(e,["responseJsonSchema"]);q!=null&&m(r,["responseJsonSchema"],q);const H=g(e,["routingConfig"]);H!=null&&m(r,["routingConfig"],H);const K=g(e,["modelSelectionConfig"]);K!=null&&m(r,["modelConfig"],$O(K));const W=g(e,["safetySettings"]);if(n!==void 0&&W!=null){let re=W;Array.isArray(re)&&(re=re.map(ne=>e5(ne))),m(n,["safetySettings"],re)}const oe=g(e,["tools"]);if(n!==void 0&&oe!=null){let re=pl(oe);Array.isArray(re)&&(re=re.map(ne=>iw(ml(ne)))),m(n,["tools"],re)}const Z=g(e,["toolConfig"]);n!==void 0&&Z!=null&&m(n,["toolConfig"],g5(Z));const ae=g(e,["labels"]);n!==void 0&&ae!=null&&m(n,["labels"],ae);const ee=g(e,["cachedContent"]);n!==void 0&&ee!=null&&m(n,["cachedContent"],vo(t,ee));const Me=g(e,["responseModalities"]);Me!=null&&m(r,["responseModalities"],Me);const Re=g(e,["mediaResolution"]);Re!=null&&m(r,["mediaResolution"],Re);const Te=g(e,["speechConfig"]);Te!=null&&m(r,["speechConfig"],x5(K1(Te)));const Be=g(e,["audioTimestamp"]);Be!=null&&m(r,["audioTimestamp"],Be);const qe=g(e,["thinkingConfig"]);return qe!=null&&m(r,["thinkingConfig"],y5(qe)),r}function u2(t,e){const n={},r=g(e,["model"]);r!=null&&m(n,["_url","model"],Gt(t,r));const l=g(e,["contents"]);if(l!=null){let p=ir(l);Array.isArray(p)&&(p=p.map(v=>yl(v))),m(n,["contents"],p)}const f=g(e,["config"]);return f!=null&&m(n,["generationConfig"],C5(t,f,n)),n}function v5(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&m(e,["instances[]","task_type"],r);const l=g(t,["title"]);e!==void 0&&l!=null&&m(e,["instances[]","title"],l);const f=g(t,["outputDimensionality"]);e!==void 0&&f!=null&&m(e,["parameters","outputDimensionality"],f);const p=g(t,["mimeType"]);e!==void 0&&p!=null&&m(e,["instances[]","mimeType"],p);const v=g(t,["autoTruncate"]);return e!==void 0&&v!=null&&m(e,["parameters","autoTruncate"],v),n}function E5(t,e){const n={},r=g(e,["model"]);r!=null&&m(n,["_url","model"],Gt(t,r));const l=g(e,["contents"]);l!=null&&m(n,["instances[]","content"],FE(t,l));const f=g(e,["config"]);return f!=null&&m(n,["config"],v5(f,n)),n}function w5(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const l=g(t,["negativePrompt"]);e!==void 0&&l!=null&&m(e,["parameters","negativePrompt"],l);const f=g(t,["numberOfImages"]);e!==void 0&&f!=null&&m(e,["parameters","sampleCount"],f);const p=g(t,["aspectRatio"]);e!==void 0&&p!=null&&m(e,["parameters","aspectRatio"],p);const v=g(t,["guidanceScale"]);e!==void 0&&v!=null&&m(e,["parameters","guidanceScale"],v);const w=g(t,["seed"]);e!==void 0&&w!=null&&m(e,["parameters","seed"],w);const y=g(t,["safetyFilterLevel"]);e!==void 0&&y!=null&&m(e,["parameters","safetySetting"],y);const T=g(t,["personGeneration"]);e!==void 0&&T!=null&&m(e,["parameters","personGeneration"],T);const _=g(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&m(e,["parameters","includeSafetyAttributes"],_);const I=g(t,["includeRaiReason"]);e!==void 0&&I!=null&&m(e,["parameters","includeRaiReason"],I);const O=g(t,["language"]);e!==void 0&&O!=null&&m(e,["parameters","language"],O);const P=g(t,["outputMimeType"]);e!==void 0&&P!=null&&m(e,["parameters","outputOptions","mimeType"],P);const D=g(t,["outputCompressionQuality"]);e!==void 0&&D!=null&&m(e,["parameters","outputOptions","compressionQuality"],D);const F=g(t,["addWatermark"]);e!==void 0&&F!=null&&m(e,["parameters","addWatermark"],F);const G=g(t,["enhancePrompt"]);return e!==void 0&&G!=null&&m(e,["parameters","enhancePrompt"],G),n}function A5(t,e){const n={},r=g(e,["model"]);r!=null&&m(n,["_url","model"],Gt(t,r));const l=g(e,["prompt"]);l!=null&&m(n,["instances[0]","prompt"],l);const f=g(e,["config"]);return f!=null&&m(n,["config"],w5(f,n)),n}function cd(t){const e={},n=g(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=g(t,["imageBytes"]);r!=null&&m(e,["bytesBase64Encoded"],Eo(r));const l=g(t,["mimeType"]);return l!=null&&m(e,["mimeType"],l),e}function T5(t){const e={},n=g(t,["maskMode"]);n!=null&&m(e,["maskMode"],n);const r=g(t,["segmentationClasses"]);r!=null&&m(e,["maskClasses"],r);const l=g(t,["maskDilation"]);return l!=null&&m(e,["dilation"],l),e}function S5(t){const e={},n=g(t,["controlType"]);n!=null&&m(e,["controlType"],n);const r=g(t,["enableControlImageComputation"]);return r!=null&&m(e,["computeControl"],r),e}function b5(t){const e={},n=g(t,["styleDescription"]);return n!=null&&m(e,["styleDescription"],n),e}function _5(t){const e={},n=g(t,["subjectType"]);n!=null&&m(e,["subjectType"],n);const r=g(t,["subjectDescription"]);return r!=null&&m(e,["subjectDescription"],r),e}function N5(t){const e={},n=g(t,["referenceImage"]);n!=null&&m(e,["referenceImage"],cd(n));const r=g(t,["referenceId"]);r!=null&&m(e,["referenceId"],r);const l=g(t,["referenceType"]);l!=null&&m(e,["referenceType"],l);const f=g(t,["maskImageConfig"]);f!=null&&m(e,["maskImageConfig"],T5(f));const p=g(t,["controlImageConfig"]);p!=null&&m(e,["controlImageConfig"],S5(p));const v=g(t,["styleImageConfig"]);v!=null&&m(e,["styleImageConfig"],b5(v));const w=g(t,["subjectImageConfig"]);return w!=null&&m(e,["subjectImageConfig"],_5(w)),e}function M5(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const l=g(t,["negativePrompt"]);e!==void 0&&l!=null&&m(e,["parameters","negativePrompt"],l);const f=g(t,["numberOfImages"]);e!==void 0&&f!=null&&m(e,["parameters","sampleCount"],f);const p=g(t,["aspectRatio"]);e!==void 0&&p!=null&&m(e,["parameters","aspectRatio"],p);const v=g(t,["guidanceScale"]);e!==void 0&&v!=null&&m(e,["parameters","guidanceScale"],v);const w=g(t,["seed"]);e!==void 0&&w!=null&&m(e,["parameters","seed"],w);const y=g(t,["safetyFilterLevel"]);e!==void 0&&y!=null&&m(e,["parameters","safetySetting"],y);const T=g(t,["personGeneration"]);e!==void 0&&T!=null&&m(e,["parameters","personGeneration"],T);const _=g(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&m(e,["parameters","includeSafetyAttributes"],_);const I=g(t,["includeRaiReason"]);e!==void 0&&I!=null&&m(e,["parameters","includeRaiReason"],I);const O=g(t,["language"]);e!==void 0&&O!=null&&m(e,["parameters","language"],O);const P=g(t,["outputMimeType"]);e!==void 0&&P!=null&&m(e,["parameters","outputOptions","mimeType"],P);const D=g(t,["outputCompressionQuality"]);e!==void 0&&D!=null&&m(e,["parameters","outputOptions","compressionQuality"],D);const F=g(t,["editMode"]);e!==void 0&&F!=null&&m(e,["parameters","editMode"],F);const G=g(t,["baseSteps"]);return e!==void 0&&G!=null&&m(e,["parameters","editConfig","baseSteps"],G),n}function I5(t,e){const n={},r=g(e,["model"]);r!=null&&m(n,["_url","model"],Gt(t,r));const l=g(e,["prompt"]);l!=null&&m(n,["instances[0]","prompt"],l);const f=g(e,["referenceImages"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(w=>N5(w))),m(n,["instances[0]","referenceImages"],v)}const p=g(e,["config"]);return p!=null&&m(n,["config"],M5(p,n)),n}function R5(t,e){const n={},r=g(t,["includeRaiReason"]);e!==void 0&&r!=null&&m(e,["parameters","includeRaiReason"],r);const l=g(t,["outputMimeType"]);e!==void 0&&l!=null&&m(e,["parameters","outputOptions","mimeType"],l);const f=g(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","compressionQuality"],f);const p=g(t,["enhanceInputImage"]);e!==void 0&&p!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],p);const v=g(t,["imagePreservationFactor"]);e!==void 0&&v!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const w=g(t,["numberOfImages"]);e!==void 0&&w!=null&&m(e,["parameters","sampleCount"],w);const y=g(t,["mode"]);return e!==void 0&&y!=null&&m(e,["parameters","mode"],y),n}function D5(t,e){const n={},r=g(e,["model"]);r!=null&&m(n,["_url","model"],Gt(t,r));const l=g(e,["image"]);l!=null&&m(n,["instances[0]","image"],cd(l));const f=g(e,["upscaleFactor"]);f!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],f);const p=g(e,["config"]);return p!=null&&m(n,["config"],R5(p,n)),n}function O5(t,e){const n={},r=g(e,["model"]);r!=null&&m(n,["_url","name"],Gt(t,r));const l=g(e,["config"]);return l!=null&&m(n,["config"],l),n}function L5(t,e,n){const r={},l=g(e,["pageSize"]);n!==void 0&&l!=null&&m(n,["_query","pageSize"],l);const f=g(e,["pageToken"]);n!==void 0&&f!=null&&m(n,["_query","pageToken"],f);const p=g(e,["filter"]);n!==void 0&&p!=null&&m(n,["_query","filter"],p);const v=g(e,["queryBase"]);return n!==void 0&&v!=null&&m(n,["_url","models_url"],HE(t,v)),r}function P5(t,e){const n={},r=g(e,["config"]);return r!=null&&m(n,["config"],L5(t,r,n)),n}function B5(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const l=g(t,["description"]);e!==void 0&&l!=null&&m(e,["description"],l);const f=g(t,["defaultCheckpointId"]);return e!==void 0&&f!=null&&m(e,["defaultCheckpointId"],f),n}function k5(t,e){const n={},r=g(e,["model"]);r!=null&&m(n,["_url","model"],Gt(t,r));const l=g(e,["config"]);return l!=null&&m(n,["config"],B5(l,n)),n}function U5(t,e){const n={},r=g(e,["model"]);r!=null&&m(n,["_url","name"],Gt(t,r));const l=g(e,["config"]);return l!=null&&m(n,["config"],l),n}function F5(t,e){const n={},r=g(t,["systemInstruction"]);e!==void 0&&r!=null&&m(e,["systemInstruction"],yl(fi(r)));const l=g(t,["tools"]);if(e!==void 0&&l!=null){let p=l;Array.isArray(p)&&(p=p.map(v=>iw(v))),m(e,["tools"],p)}const f=g(t,["generationConfig"]);return e!==void 0&&f!=null&&m(e,["generationConfig"],f),n}function V5(t,e){const n={},r=g(e,["model"]);r!=null&&m(n,["_url","model"],Gt(t,r));const l=g(e,["contents"]);if(l!=null){let p=ir(l);Array.isArray(p)&&(p=p.map(v=>yl(v))),m(n,["contents"],p)}const f=g(e,["config"]);return f!=null&&m(n,["config"],F5(f,n)),n}function z5(t,e){const n={},r=g(e,["model"]);r!=null&&m(n,["_url","model"],Gt(t,r));const l=g(e,["contents"]);if(l!=null){let p=ir(l);Array.isArray(p)&&(p=p.map(v=>yl(v))),m(n,["contents"],p)}const f=g(e,["config"]);return f!=null&&m(n,["config"],f),n}function H5(t){const e={},n=g(t,["uri"]);n!=null&&m(e,["gcsUri"],n);const r=g(t,["videoBytes"]);r!=null&&m(e,["bytesBase64Encoded"],Eo(r));const l=g(t,["mimeType"]);return l!=null&&m(e,["mimeType"],l),e}function G5(t,e){const n={},r=g(t,["numberOfVideos"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const l=g(t,["outputGcsUri"]);e!==void 0&&l!=null&&m(e,["parameters","storageUri"],l);const f=g(t,["fps"]);e!==void 0&&f!=null&&m(e,["parameters","fps"],f);const p=g(t,["durationSeconds"]);e!==void 0&&p!=null&&m(e,["parameters","durationSeconds"],p);const v=g(t,["seed"]);e!==void 0&&v!=null&&m(e,["parameters","seed"],v);const w=g(t,["aspectRatio"]);e!==void 0&&w!=null&&m(e,["parameters","aspectRatio"],w);const y=g(t,["resolution"]);e!==void 0&&y!=null&&m(e,["parameters","resolution"],y);const T=g(t,["personGeneration"]);e!==void 0&&T!=null&&m(e,["parameters","personGeneration"],T);const _=g(t,["pubsubTopic"]);e!==void 0&&_!=null&&m(e,["parameters","pubsubTopic"],_);const I=g(t,["negativePrompt"]);e!==void 0&&I!=null&&m(e,["parameters","negativePrompt"],I);const O=g(t,["enhancePrompt"]);e!==void 0&&O!=null&&m(e,["parameters","enhancePrompt"],O);const P=g(t,["generateAudio"]);e!==void 0&&P!=null&&m(e,["parameters","generateAudio"],P);const D=g(t,["lastFrame"]);e!==void 0&&D!=null&&m(e,["instances[0]","lastFrame"],cd(D));const F=g(t,["compressionQuality"]);return e!==void 0&&F!=null&&m(e,["parameters","compressionQuality"],F),n}function q5(t,e){const n={},r=g(e,["model"]);r!=null&&m(n,["_url","model"],Gt(t,r));const l=g(e,["prompt"]);l!=null&&m(n,["instances[0]","prompt"],l);const f=g(e,["image"]);f!=null&&m(n,["instances[0]","image"],cd(f));const p=g(e,["video"]);p!=null&&m(n,["instances[0]","video"],H5(p));const v=g(e,["config"]);return v!=null&&m(n,["config"],G5(v,n)),n}function Y5(t){const e={},n=g(t,["fps"]);n!=null&&m(e,["fps"],n);const r=g(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const l=g(t,["startOffset"]);return l!=null&&m(e,["startOffset"],l),e}function X5(t){const e={},n=g(t,["data"]);n!=null&&m(e,["data"],n);const r=g(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function W5(t){const e={},n=g(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function j5(t){const e={},n=g(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Y5(n));const r=g(t,["thought"]);r!=null&&m(e,["thought"],r);const l=g(t,["inlineData"]);l!=null&&m(e,["inlineData"],X5(l));const f=g(t,["fileData"]);f!=null&&m(e,["fileData"],W5(f));const p=g(t,["thoughtSignature"]);p!=null&&m(e,["thoughtSignature"],p);const v=g(t,["codeExecutionResult"]);v!=null&&m(e,["codeExecutionResult"],v);const w=g(t,["executableCode"]);w!=null&&m(e,["executableCode"],w);const y=g(t,["functionCall"]);y!=null&&m(e,["functionCall"],y);const T=g(t,["functionResponse"]);T!=null&&m(e,["functionResponse"],T);const _=g(t,["text"]);return _!=null&&m(e,["text"],_),e}function K5(t){const e={},n=g(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(f=>j5(f))),m(e,["parts"],l)}const r=g(t,["role"]);return r!=null&&m(e,["role"],r),e}function Z5(t){const e={},n=g(t,["citationSources"]);return n!=null&&m(e,["citations"],n),e}function Q5(t){const e={},n=g(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=g(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function J5(t){const e={},n=g(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>Q5(l))),m(e,["urlMetadata"],r)}return e}function $5(t){const e={},n=g(t,["content"]);n!=null&&m(e,["content"],K5(n));const r=g(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],Z5(r));const l=g(t,["tokenCount"]);l!=null&&m(e,["tokenCount"],l);const f=g(t,["finishReason"]);f!=null&&m(e,["finishReason"],f);const p=g(t,["urlContextMetadata"]);p!=null&&m(e,["urlContextMetadata"],J5(p));const v=g(t,["avgLogprobs"]);v!=null&&m(e,["avgLogprobs"],v);const w=g(t,["groundingMetadata"]);w!=null&&m(e,["groundingMetadata"],w);const y=g(t,["index"]);y!=null&&m(e,["index"],y);const T=g(t,["logprobsResult"]);T!=null&&m(e,["logprobsResult"],T);const _=g(t,["safetyRatings"]);return _!=null&&m(e,["safetyRatings"],_),e}function f2(t){const e={},n=g(t,["candidates"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(v=>$5(v))),m(e,["candidates"],p)}const r=g(t,["modelVersion"]);r!=null&&m(e,["modelVersion"],r);const l=g(t,["promptFeedback"]);l!=null&&m(e,["promptFeedback"],l);const f=g(t,["usageMetadata"]);return f!=null&&m(e,["usageMetadata"],f),e}function eL(t){const e={},n=g(t,["values"]);return n!=null&&m(e,["values"],n),e}function tL(){return{}}function nL(t){const e={},n=g(t,["embeddings"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(f=>eL(f))),m(e,["embeddings"],l)}return g(t,["metadata"])!=null&&m(e,["metadata"],tL()),e}function iL(t){const e={},n=g(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],Eo(n));const r=g(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function rw(t){const e={},n=g(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=g(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const l=g(t,["contentType"]);return l!=null&&m(e,["contentType"],l),e}function rL(t){const e={},n=g(t,["_self"]);n!=null&&m(e,["image"],iL(n));const r=g(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const l=g(t,["_self"]);return l!=null&&m(e,["safetyAttributes"],rw(l)),e}function oL(t){const e={},n=g(t,["predictions"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(f=>rL(f))),m(e,["generatedImages"],l)}const r=g(t,["positivePromptSafetyAttributes"]);return r!=null&&m(e,["positivePromptSafetyAttributes"],rw(r)),e}function sL(t){const e={},n=g(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=g(t,["createTime"]);r!=null&&m(e,["createTime"],r);const l=g(t,["updateTime"]);return l!=null&&m(e,["updateTime"],l),e}function u1(t){const e={},n=g(t,["name"]);n!=null&&m(e,["name"],n);const r=g(t,["displayName"]);r!=null&&m(e,["displayName"],r);const l=g(t,["description"]);l!=null&&m(e,["description"],l);const f=g(t,["version"]);f!=null&&m(e,["version"],f);const p=g(t,["_self"]);p!=null&&m(e,["tunedModelInfo"],sL(p));const v=g(t,["inputTokenLimit"]);v!=null&&m(e,["inputTokenLimit"],v);const w=g(t,["outputTokenLimit"]);w!=null&&m(e,["outputTokenLimit"],w);const y=g(t,["supportedGenerationMethods"]);return y!=null&&m(e,["supportedActions"],y),e}function aL(t){const e={},n=g(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const r=g(t,["_self"]);if(r!=null){let l=GE(r);Array.isArray(l)&&(l=l.map(f=>u1(f))),m(e,["models"],l)}return e}function lL(){return{}}function cL(t){const e={},n=g(t,["totalTokens"]);n!=null&&m(e,["totalTokens"],n);const r=g(t,["cachedContentTokenCount"]);return r!=null&&m(e,["cachedContentTokenCount"],r),e}function uL(t){const e={},n=g(t,["video","uri"]);n!=null&&m(e,["uri"],n);const r=g(t,["video","encodedVideo"]);r!=null&&m(e,["videoBytes"],Eo(r));const l=g(t,["encoding"]);return l!=null&&m(e,["mimeType"],l),e}function fL(t){const e={},n=g(t,["_self"]);return n!=null&&m(e,["video"],uL(n)),e}function dL(t){const e={},n=g(t,["generatedSamples"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>fL(p))),m(e,["generatedVideos"],f)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const l=g(t,["raiMediaFilteredReasons"]);return l!=null&&m(e,["raiMediaFilteredReasons"],l),e}function hL(t){const e={},n=g(t,["name"]);n!=null&&m(e,["name"],n);const r=g(t,["metadata"]);r!=null&&m(e,["metadata"],r);const l=g(t,["done"]);l!=null&&m(e,["done"],l);const f=g(t,["error"]);f!=null&&m(e,["error"],f);const p=g(t,["response","generateVideoResponse"]);return p!=null&&m(e,["response"],dL(p)),e}function gL(t){const e={},n=g(t,["fps"]);n!=null&&m(e,["fps"],n);const r=g(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const l=g(t,["startOffset"]);return l!=null&&m(e,["startOffset"],l),e}function mL(t){const e={},n=g(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=g(t,["data"]);r!=null&&m(e,["data"],r);const l=g(t,["mimeType"]);return l!=null&&m(e,["mimeType"],l),e}function pL(t){const e={},n=g(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=g(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const l=g(t,["mimeType"]);return l!=null&&m(e,["mimeType"],l),e}function xL(t){const e={},n=g(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],gL(n));const r=g(t,["thought"]);r!=null&&m(e,["thought"],r);const l=g(t,["inlineData"]);l!=null&&m(e,["inlineData"],mL(l));const f=g(t,["fileData"]);f!=null&&m(e,["fileData"],pL(f));const p=g(t,["thoughtSignature"]);p!=null&&m(e,["thoughtSignature"],p);const v=g(t,["codeExecutionResult"]);v!=null&&m(e,["codeExecutionResult"],v);const w=g(t,["executableCode"]);w!=null&&m(e,["executableCode"],w);const y=g(t,["functionCall"]);y!=null&&m(e,["functionCall"],y);const T=g(t,["functionResponse"]);T!=null&&m(e,["functionResponse"],T);const _=g(t,["text"]);return _!=null&&m(e,["text"],_),e}function yL(t){const e={},n=g(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(f=>xL(f))),m(e,["parts"],l)}const r=g(t,["role"]);return r!=null&&m(e,["role"],r),e}function CL(t){const e={},n=g(t,["citations"]);return n!=null&&m(e,["citations"],n),e}function vL(t){const e={},n=g(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=g(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function EL(t){const e={},n=g(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>vL(l))),m(e,["urlMetadata"],r)}return e}function wL(t){const e={},n=g(t,["content"]);n!=null&&m(e,["content"],yL(n));const r=g(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],CL(r));const l=g(t,["finishMessage"]);l!=null&&m(e,["finishMessage"],l);const f=g(t,["finishReason"]);f!=null&&m(e,["finishReason"],f);const p=g(t,["urlContextMetadata"]);p!=null&&m(e,["urlContextMetadata"],EL(p));const v=g(t,["avgLogprobs"]);v!=null&&m(e,["avgLogprobs"],v);const w=g(t,["groundingMetadata"]);w!=null&&m(e,["groundingMetadata"],w);const y=g(t,["index"]);y!=null&&m(e,["index"],y);const T=g(t,["logprobsResult"]);T!=null&&m(e,["logprobsResult"],T);const _=g(t,["safetyRatings"]);return _!=null&&m(e,["safetyRatings"],_),e}function d2(t){const e={},n=g(t,["candidates"]);if(n!=null){let w=n;Array.isArray(w)&&(w=w.map(y=>wL(y))),m(e,["candidates"],w)}const r=g(t,["createTime"]);r!=null&&m(e,["createTime"],r);const l=g(t,["responseId"]);l!=null&&m(e,["responseId"],l);const f=g(t,["modelVersion"]);f!=null&&m(e,["modelVersion"],f);const p=g(t,["promptFeedback"]);p!=null&&m(e,["promptFeedback"],p);const v=g(t,["usageMetadata"]);return v!=null&&m(e,["usageMetadata"],v),e}function AL(t){const e={},n=g(t,["truncated"]);n!=null&&m(e,["truncated"],n);const r=g(t,["token_count"]);return r!=null&&m(e,["tokenCount"],r),e}function TL(t){const e={},n=g(t,["values"]);n!=null&&m(e,["values"],n);const r=g(t,["statistics"]);return r!=null&&m(e,["statistics"],AL(r)),e}function SL(t){const e={},n=g(t,["billableCharacterCount"]);return n!=null&&m(e,["billableCharacterCount"],n),e}function bL(t){const e={},n=g(t,["predictions[]","embeddings"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(f=>TL(f))),m(e,["embeddings"],l)}const r=g(t,["metadata"]);return r!=null&&m(e,["metadata"],SL(r)),e}function _L(t){const e={},n=g(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&m(e,["imageBytes"],Eo(r));const l=g(t,["mimeType"]);return l!=null&&m(e,["mimeType"],l),e}function ow(t){const e={},n=g(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=g(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const l=g(t,["contentType"]);return l!=null&&m(e,["contentType"],l),e}function Q1(t){const e={},n=g(t,["_self"]);n!=null&&m(e,["image"],_L(n));const r=g(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const l=g(t,["_self"]);l!=null&&m(e,["safetyAttributes"],ow(l));const f=g(t,["prompt"]);return f!=null&&m(e,["enhancedPrompt"],f),e}function NL(t){const e={},n=g(t,["predictions"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(f=>Q1(f))),m(e,["generatedImages"],l)}const r=g(t,["positivePromptSafetyAttributes"]);return r!=null&&m(e,["positivePromptSafetyAttributes"],ow(r)),e}function ML(t){const e={},n=g(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>Q1(l))),m(e,["generatedImages"],r)}return e}function IL(t){const e={},n=g(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>Q1(l))),m(e,["generatedImages"],r)}return e}function RL(t){const e={},n=g(t,["endpoint"]);n!=null&&m(e,["name"],n);const r=g(t,["deployedModelId"]);return r!=null&&m(e,["deployedModelId"],r),e}function DL(t){const e={},n=g(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(e,["baseModel"],n);const r=g(t,["createTime"]);r!=null&&m(e,["createTime"],r);const l=g(t,["updateTime"]);return l!=null&&m(e,["updateTime"],l),e}function OL(t){const e={},n=g(t,["checkpointId"]);n!=null&&m(e,["checkpointId"],n);const r=g(t,["epoch"]);r!=null&&m(e,["epoch"],r);const l=g(t,["step"]);return l!=null&&m(e,["step"],l),e}function f1(t){const e={},n=g(t,["name"]);n!=null&&m(e,["name"],n);const r=g(t,["displayName"]);r!=null&&m(e,["displayName"],r);const l=g(t,["description"]);l!=null&&m(e,["description"],l);const f=g(t,["versionId"]);f!=null&&m(e,["version"],f);const p=g(t,["deployedModels"]);if(p!=null){let _=p;Array.isArray(_)&&(_=_.map(I=>RL(I))),m(e,["endpoints"],_)}const v=g(t,["labels"]);v!=null&&m(e,["labels"],v);const w=g(t,["_self"]);w!=null&&m(e,["tunedModelInfo"],DL(w));const y=g(t,["defaultCheckpointId"]);y!=null&&m(e,["defaultCheckpointId"],y);const T=g(t,["checkpoints"]);if(T!=null){let _=T;Array.isArray(_)&&(_=_.map(I=>OL(I))),m(e,["checkpoints"],_)}return e}function LL(t){const e={},n=g(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const r=g(t,["_self"]);if(r!=null){let l=GE(r);Array.isArray(l)&&(l=l.map(f=>f1(f))),m(e,["models"],l)}return e}function PL(){return{}}function BL(t){const e={},n=g(t,["totalTokens"]);return n!=null&&m(e,["totalTokens"],n),e}function kL(t){const e={},n=g(t,["tokensInfo"]);return n!=null&&m(e,["tokensInfo"],n),e}function UL(t){const e={},n=g(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],Eo(r));const l=g(t,["mimeType"]);return l!=null&&m(e,["mimeType"],l),e}function FL(t){const e={},n=g(t,["_self"]);return n!=null&&m(e,["video"],UL(n)),e}function VL(t){const e={},n=g(t,["videos"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>FL(p))),m(e,["generatedVideos"],f)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const l=g(t,["raiMediaFilteredReasons"]);return l!=null&&m(e,["raiMediaFilteredReasons"],l),e}function zL(t){const e={},n=g(t,["name"]);n!=null&&m(e,["name"],n);const r=g(t,["metadata"]);r!=null&&m(e,["metadata"],r);const l=g(t,["done"]);l!=null&&m(e,["done"],l);const f=g(t,["error"]);f!=null&&m(e,["error"],f);const p=g(t,["response"]);return p!=null&&m(e,["response"],VL(p)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HL="Content-Type",GL="X-Server-Timeout",qL="User-Agent",d1="x-goog-api-client",YL="1.9.0",XL=`google-genai-sdk/${YL}`,WL="v1beta1",jL="v1beta",h2=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class KL{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:WL,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:jL,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const l=[this.getRequestUrlInternal(n)];return r&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[p,v]of Object.entries(e.queryParams))l.searchParams.append(p,String(v));let f={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=e.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,n,e.abortSignal),this.unaryApiCall(l,f,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[l,f]of Object.entries(n))typeof f=="object"?r[l]=Object.assign(Object.assign({},r[l]),f):f!==void 0&&(r[l]=f);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,n,r);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let f={};return f.body=e.body,f=await this.includeExtraHttpOptionsToRequestInit(f,n,e.abortSignal),this.streamApiCall(l,f,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const l=new AbortController,f=l.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const p=setTimeout(()=>l.abort(),n.timeout);p&&typeof p.unref=="function"&&p.unref()}r&&r.addEventListener("abort",()=>{l.abort()}),e.signal=f}return n&&n.extraBody!==null&&ZL(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async l=>(await g2(l),new r1(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async l=>(await g2(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){var n;return $a(this,arguments,function*(){const l=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),f=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let p="";for(;;){const{done:v,value:w}=yield sn(l.read());if(v){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const y=f.decode(w,{stream:!0});try{const _=JSON.parse(y);if("error"in _){const I=JSON.parse(JSON.stringify(_.error)),O=I.status,P=I.code,D=`got status: ${O}. ${JSON.stringify(_)}`;if(P>=400&&P<600)throw new ad({message:D,status:P})}}catch(_){if(_.name==="ApiError")throw _}p+=y;let T=p.match(h2);for(;T;){const _=T[1];try{const I=new Response(_,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield sn(new r1(I)),p=p.slice(T[0].length),T=p.match(h2)}catch(I){throw new Error(`exception parsing stream chunk ${_}. ${I}`)}}}}finally{l.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=XL+" "+this.clientOptions.userAgentExtra;return e[qL]=n,e[d1]=n,e[HL]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,l]of Object.entries(e.headers))n.append(r,l);e.timeout&&e.timeout>0&&n.append(GL,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const l={};n!=null&&(l.mimeType=n.mimeType,l.name=n.name,l.displayName=n.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const f=this.clientOptions.uploader,p=await f.stat(e);l.sizeBytes=String(p.size);const v=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:p.type;if(v===void 0||v==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=v;const w=await this.fetchUploadUrl(l,n);return f.upload(e,w,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let l={};n!=null&&n.httpOptions?l=n.httpOptions:l={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const f={file:e},p=await this.request({path:Xe("upload/v1beta/files",f._url),body:JSON.stringify(f),httpMethod:"POST",httpOptions:l});if(!p||!(p!=null&&p.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(r=p==null?void 0:p.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function g2(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const l=JSON.stringify(r);throw n>=400&&n<600?new ad({message:l,status:n}):new Error(l)}}function ZL(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const f=JSON.parse(t.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))n=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(f,p){const v=Object.assign({},f);for(const w in p)if(Object.prototype.hasOwnProperty.call(p,w)){const y=p[w],T=v[w];y&&typeof y=="object"&&!Array.isArray(y)&&T&&typeof T=="object"&&!Array.isArray(T)?v[w]=r(T,y):(T&&y&&typeof T!=typeof y&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${w}". Original type: ${typeof T}, New type: ${typeof y}. Overwriting.`),v[w]=y)}return v}const l=r(n,e);t.body=JSON.stringify(l)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QL="mcp_used/unknown";function sw(t){for(const e of t)if(J1(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function aw(t){var e;const n=(e=t[d1])!==null&&e!==void 0?e:"";t[d1]=(n+` ${QL}`).trimStart()}function JL(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(l=>J1(l)))!==null&&r!==void 0?r:!1}function $L(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(l=>!J1(l)))!==null&&r!==void 0?r:!1}function J1(t){return t!==null&&typeof t=="object"&&t instanceof $1}function e7(t,e=100){return $a(this,arguments,function*(){let r,l=0;for(;l<e;){const f=yield sn(t.listTools({cursor:r}));for(const p of f.tools)yield yield sn(p),l++;if(!f.nextCursor)break;r=f.nextCursor}})}class $1{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new $1(e,n)}async initialize(){var e,n,r,l;if(this.mcpTools.length>0)return;const f={},p=[];for(const T of this.mcpClients)try{for(var v=!0,w=(n=void 0,Tc(e7(T))),y;y=await w.next(),e=y.done,!e;v=!0){l=y.value,v=!1;const _=l;p.push(_);const I=_.name;if(f[I])throw new Error(`Duplicate function name ${I} found in MCP tools. Please ensure function names are unique.`);f[I]=T}}catch(_){n={error:_}}finally{try{!v&&!e&&(r=w.return)&&await r.call(w)}finally{if(n)throw n.error}}this.mcpTools=p,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),KR(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[r.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const p=await l.callTool({name:r.name,arguments:r.args},void 0,f);n.push({functionResponse:{name:r.name,response:p.isError?{error:p}:p}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function t7(t,e,n){const r=new zR;let l;n.data instanceof Blob?l=JSON.parse(await n.data.text()):l=JSON.parse(n.data);const f=cO(l);Object.assign(r,f),e(r)}class n7{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),p=o7(this.apiClient.getDefaultHeaders()),v=this.apiClient.getApiKey(),w=`${l}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${v}`;let y=()=>{};const T=new Promise(H=>{y=H}),_=e.callbacks,I=function(){y({})},O=this.apiClient,P={onopen:I,onmessage:H=>{t7(O,_.onmessage,H)},onerror:(n=_==null?void 0:_.onerror)!==null&&n!==void 0?n:function(H){},onclose:(r=_==null?void 0:_.onclose)!==null&&r!==void 0?r:function(H){}},D=this.webSocketFactory.create(w,r7(p),P);D.connect(),await T;const F=Gt(this.apiClient,e.model),G=ew({model:F}),q=c1({setup:G});return D.send(JSON.stringify(q)),new i7(D,this.apiClient)}}class i7{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=A6(e),r=tw(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=T6(e),r=c1(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=c1({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Xa.PLAY)}pause(){this.sendPlaybackControl(Xa.PAUSE)}stop(){this.sendPlaybackControl(Xa.STOP)}resetContext(){this.sendPlaybackControl(Xa.RESET_CONTEXT)}close(){this.conn.close()}}function r7(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function o7(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const s7="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function a7(t,e,n){const r=new VR;let l;n.data instanceof Blob?l=await n.data.text():n.data instanceof ArrayBuffer?l=new TextDecoder().decode(n.data):l=n.data;const f=JSON.parse(l);if(t.isVertexAI()){const p=eO(f);Object.assign(r,p)}else{const p=$6(f);Object.assign(r,p)}e(r)}class l7{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new n7(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,l,f,p,v;const w=this.apiClient.getWebsocketBaseUrl(),y=this.apiClient.getApiVersion();let T;const _=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&sw(e.config.tools)&&aw(_);const I=d7(_);if(this.apiClient.isVertexAI())T=`${w}/ws/google.cloud.aiplatform.${y}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(I);else{const ee=this.apiClient.getApiKey();let Me="BidiGenerateContent",Re="key";ee!=null&&ee.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),y!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Me="BidiGenerateContentConstrained",Re="access_token"),T=`${w}/ws/google.ai.generativelanguage.${y}.GenerativeService.${Me}?${Re}=${ee}`}let O=()=>{};const P=new Promise(ee=>{O=ee}),D=e.callbacks,F=function(){var ee;(ee=D==null?void 0:D.onopen)===null||ee===void 0||ee.call(D),O({})},G=this.apiClient,q={onopen:F,onmessage:ee=>{a7(G,D.onmessage,ee)},onerror:(n=D==null?void 0:D.onerror)!==null&&n!==void 0?n:function(ee){},onclose:(r=D==null?void 0:D.onclose)!==null&&r!==void 0?r:function(ee){}},H=this.webSocketFactory.create(T,f7(I),q);H.connect(),await P;let K=Gt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&K.startsWith("publishers/")){const ee=this.apiClient.getProject(),Me=this.apiClient.getLocation();K=`projects/${ee}/locations/${Me}/`+K}let W={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Uf.AUDIO]}:e.config.responseModalities=[Uf.AUDIO]),!((f=e.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const oe=(v=(p=e.config)===null||p===void 0?void 0:p.tools)!==null&&v!==void 0?v:[],Z=[];for(const ee of oe)if(this.isCallableTool(ee)){const Me=ee;Z.push(await Me.tool())}else Z.push(ee);Z.length>0&&(e.config.tools=Z);const ae={model:K,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?W=p6(this.apiClient,ae):W=m6(this.apiClient,ae),delete W.config,H.send(JSON.stringify(W)),new u7(H,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const c7={turnComplete:!0};class u7{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=ir(n.turns),e.isVertexAI()?r=r.map(l=>yl(l)):r=r.map(l=>ld(l))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const f of r){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!e.isVertexAI()&&!("id"in f))throw new Error(s7)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},c7),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:w6(e)}:n={realtimeInput:E6(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function f7(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function d7(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const m2=10;function p2(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let l=!1;for(const p of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(_f(p)){l=!0;break}if(!l)return!0;const f=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function _f(t){return"callTool"in t&&typeof t.callTool=="function"}function x2(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class h7 extends Js{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,l,f,p,v;const w=await this.processParamsForMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!JL(n)||p2(n.config))return await this.generateContentInternal(w);if($L(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let y,T;const _=ir(w.contents),I=(f=(l=(r=w.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&f!==void 0?f:m2;let O=0;for(;O<I&&(y=await this.generateContentInternal(w),!(!y.functionCalls||y.functionCalls.length===0));){const P=y.candidates[0].content,D=[];for(const F of(v=(p=n.config)===null||p===void 0?void 0:p.tools)!==null&&v!==void 0?v:[])if(_f(F)){const q=await F.callTool(y.functionCalls);D.push(...q)}O++,T={role:"user",parts:D},w.contents=ir(w.contents),w.contents.push(P),w.contents.push(T),x2(w.config)&&(_.push(P),_.push(T))}return x2(w.config)&&(y.automaticFunctionCallingHistory=_),y},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),p2(n.config)){const r=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var l;let f;const p=[];if(r!=null&&r.generatedImages)for(const w of r.generatedImages)w&&(w!=null&&w.safetyAttributes)&&((l=w==null?void 0:w.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?f=w==null?void 0:w.safetyAttributes:p.push(w);let v;return f?v={generatedImages:p,positivePromptSafetyAttributes:f}:v={generatedImages:p},v}),this.list=async n=>{var r;const p={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((r=p.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new Vc(Qs.PAGED_ITEM_MODELS,v=>this.listInternal(v),await this.listInternal(p),p)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const l={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(l)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsForMcpUsage(e){var n,r,l;const f=(n=e.config)===null||n===void 0?void 0:n.tools;if(!f)return e;const p=await Promise.all(f.map(async w=>_f(w)?await w.tool():w)),v={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:p})};if(v.config.tools=p,e.config&&e.config.tools&&sw(e.config.tools)){const w=(l=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&l!==void 0?l:{};let y=Object.assign({},w);Object.keys(y).length===0&&(y=this.apiClient.getDefaultHeaders()),aw(y),v.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:y})}return v}async initAfcToolsMap(e){var n,r,l;const f=new Map;for(const p of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(_f(p)){const v=p,w=await v.tool();for(const y of(l=w.functionDeclarations)!==null&&l!==void 0?l:[]){if(!y.name)throw new Error("Function declaration name is required.");if(f.has(y.name))throw new Error(`Duplicate tool declaration name: ${y.name}`);f.set(y.name,v)}}return f}async processAfcStream(e){var n,r,l;const f=(l=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&l!==void 0?l:m2;let p=!1,v=0;const w=await this.initAfcToolsMap(e);return function(y,T,_){var I,O;return $a(this,arguments,function*(){for(var P,D,F,G;v<f;){p&&(v++,p=!1);const W=yield sn(y.processParamsForMcpUsage(_)),oe=yield sn(y.generateContentStreamInternal(W)),Z=[],ae=[];try{for(var q=!0,H=(D=void 0,Tc(oe)),K;K=yield sn(H.next()),P=K.done,!P;q=!0){G=K.value,q=!1;const ee=G;if(yield yield sn(ee),ee.candidates&&(!((I=ee.candidates[0])===null||I===void 0)&&I.content)){ae.push(ee.candidates[0].content);for(const Me of(O=ee.candidates[0].content.parts)!==null&&O!==void 0?O:[])if(v<f&&Me.functionCall){if(!Me.functionCall.name)throw new Error("Function call name was not returned by the model.");if(T.has(Me.functionCall.name)){const Re=yield sn(T.get(Me.functionCall.name).callTool([Me.functionCall]));Z.push(...Re)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${T.keys()}, mising tool: ${Me.functionCall.name}`)}}}}catch(ee){D={error:ee}}finally{try{!q&&!P&&(F=H.return)&&(yield sn(F.call(H)))}finally{if(D)throw D.error}}if(Z.length>0){p=!0;const ee=new Ec;ee.candidates=[{content:{role:"user",parts:Z}}],yield yield sn(ee);const Me=[];Me.push(...ae),Me.push({role:"user",parts:Z});const Re=ir(_.contents).concat(Me);_.contents=Re}else break}})}(this,w,e)}async generateContentInternal(e){var n,r,l,f;let p,v="",w={};if(this.apiClient.isVertexAI()){const y=u2(this.apiClient,e);return v=Xe("{model}:generateContent",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json()),p.then(T=>{const _=d2(T),I=new Ec;return Object.assign(I,_),I})}else{const y=c2(this.apiClient,e);return v=Xe("{model}:generateContent",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),p.then(T=>{const _=f2(T),I=new Ec;return Object.assign(I,_),I})}}async generateContentStreamInternal(e){var n,r,l,f;let p,v="",w={};if(this.apiClient.isVertexAI()){const y=u2(this.apiClient,e);return v=Xe("{model}:streamGenerateContent?alt=sse",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.requestStream({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),p.then(function(_){return $a(this,arguments,function*(){var I,O,P,D;try{for(var F=!0,G=Tc(_),q;q=yield sn(G.next()),I=q.done,!I;F=!0){D=q.value,F=!1;const K=d2(yield sn(D.json())),W=new Ec;Object.assign(W,K),yield yield sn(W)}}catch(H){O={error:H}}finally{try{!F&&!I&&(P=G.return)&&(yield sn(P.call(G)))}finally{if(O)throw O.error}}})})}else{const y=c2(this.apiClient,e);return v=Xe("{model}:streamGenerateContent?alt=sse",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.requestStream({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}),p.then(function(_){return $a(this,arguments,function*(){var I,O,P,D;try{for(var F=!0,G=Tc(_),q;q=yield sn(G.next()),I=q.done,!I;F=!0){D=q.value,F=!1;const K=f2(yield sn(D.json())),W=new Ec;Object.assign(W,K),yield yield sn(W)}}catch(H){O={error:H}}finally{try{!F&&!I&&(P=G.return)&&(yield sn(P.call(G)))}finally{if(O)throw O.error}}})})}}async embedContent(e){var n,r,l,f;let p,v="",w={};if(this.apiClient.isVertexAI()){const y=E5(this.apiClient,e);return v=Xe("{model}:predict",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json()),p.then(T=>{const _=bL(T),I=new Gy;return Object.assign(I,_),I})}else{const y=LO(this.apiClient,e);return v=Xe("{model}:batchEmbedContents",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),p.then(T=>{const _=nL(T),I=new Gy;return Object.assign(I,_),I})}}async generateImagesInternal(e){var n,r,l,f;let p,v="",w={};if(this.apiClient.isVertexAI()){const y=A5(this.apiClient,e);return v=Xe("{model}:predict",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json()),p.then(T=>{const _=NL(T),I=new qy;return Object.assign(I,_),I})}else{const y=BO(this.apiClient,e);return v=Xe("{model}:predict",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),p.then(T=>{const _=oL(T),I=new qy;return Object.assign(I,_),I})}}async editImageInternal(e){var n,r;let l,f="",p={};if(this.apiClient.isVertexAI()){const v=I5(this.apiClient,e);return f=Xe("{model}:predict",v._url),p=v._query,delete v.config,delete v._url,delete v._query,l=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(w=>w.json()),l.then(w=>{const y=ML(w),T=new LR;return Object.assign(T,y),T})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let l,f="",p={};if(this.apiClient.isVertexAI()){const v=D5(this.apiClient,e);return f=Xe("{model}:predict",v._url),p=v._query,delete v.config,delete v._url,delete v._query,l=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(w=>w.json()),l.then(w=>{const y=IL(w),T=new PR;return Object.assign(T,y),T})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,l,f;let p,v="",w={};if(this.apiClient.isVertexAI()){const y=O5(this.apiClient,e);return v=Xe("{name}",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json()),p.then(T=>f1(T))}else{const y=kO(this.apiClient,e);return v=Xe("{name}",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),p.then(T=>u1(T))}}async listInternal(e){var n,r,l,f;let p,v="",w={};if(this.apiClient.isVertexAI()){const y=P5(this.apiClient,e);return v=Xe("{models_url}",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json()),p.then(T=>{const _=LL(T),I=new Yy;return Object.assign(I,_),I})}else{const y=FO(this.apiClient,e);return v=Xe("{models_url}",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),p.then(T=>{const _=aL(T),I=new Yy;return Object.assign(I,_),I})}}async update(e){var n,r,l,f;let p,v="",w={};if(this.apiClient.isVertexAI()){const y=k5(this.apiClient,e);return v=Xe("{model}",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json()),p.then(T=>f1(T))}else{const y=zO(this.apiClient,e);return v=Xe("{name}",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),p.then(T=>u1(T))}}async delete(e){var n,r,l,f;let p,v="",w={};if(this.apiClient.isVertexAI()){const y=U5(this.apiClient,e);return v=Xe("{name}",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json()),p.then(()=>{const T=PL(),_=new Xy;return Object.assign(_,T),_})}else{const y=HO(this.apiClient,e);return v=Xe("{name}",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),p.then(()=>{const T=lL(),_=new Xy;return Object.assign(_,T),_})}}async countTokens(e){var n,r,l,f;let p,v="",w={};if(this.apiClient.isVertexAI()){const y=V5(this.apiClient,e);return v=Xe("{model}:countTokens",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json()),p.then(T=>{const _=BL(T),I=new Wy;return Object.assign(I,_),I})}else{const y=qO(this.apiClient,e);return v=Xe("{model}:countTokens",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),p.then(T=>{const _=cL(T),I=new Wy;return Object.assign(I,_),I})}}async computeTokens(e){var n,r;let l,f="",p={};if(this.apiClient.isVertexAI()){const v=z5(this.apiClient,e);return f=Xe("{model}:computeTokens",v._url),p=v._query,delete v.config,delete v._url,delete v._query,l=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(w=>w.json()),l.then(w=>{const y=kL(w),T=new BR;return Object.assign(T,y),T})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,r,l,f;let p,v="",w={};if(this.apiClient.isVertexAI()){const y=q5(this.apiClient,e);return v=Xe("{model}:predictLongRunning",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json()),p.then(T=>zL(T))}else{const y=WO(this.apiClient,e);return v=Xe("{model}:predictLongRunning",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),p.then(T=>hL(T))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function g7(t){const e={},n=g(t,["operationName"]);n!=null&&m(e,["_url","operationName"],n);const r=g(t,["config"]);return r!=null&&m(e,["config"],r),e}function m7(t){const e={},n=g(t,["operationName"]);n!=null&&m(e,["_url","operationName"],n);const r=g(t,["config"]);return r!=null&&m(e,["config"],r),e}function p7(t){const e={},n=g(t,["operationName"]);n!=null&&m(e,["operationName"],n);const r=g(t,["resourceName"]);r!=null&&m(e,["_url","resourceName"],r);const l=g(t,["config"]);return l!=null&&m(e,["config"],l),e}function x7(t){const e={},n=g(t,["video","uri"]);n!=null&&m(e,["uri"],n);const r=g(t,["video","encodedVideo"]);r!=null&&m(e,["videoBytes"],Eo(r));const l=g(t,["encoding"]);return l!=null&&m(e,["mimeType"],l),e}function y7(t){const e={},n=g(t,["_self"]);return n!=null&&m(e,["video"],x7(n)),e}function C7(t){const e={},n=g(t,["generatedSamples"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>y7(p))),m(e,["generatedVideos"],f)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const l=g(t,["raiMediaFilteredReasons"]);return l!=null&&m(e,["raiMediaFilteredReasons"],l),e}function v7(t){const e={},n=g(t,["name"]);n!=null&&m(e,["name"],n);const r=g(t,["metadata"]);r!=null&&m(e,["metadata"],r);const l=g(t,["done"]);l!=null&&m(e,["done"],l);const f=g(t,["error"]);f!=null&&m(e,["error"],f);const p=g(t,["response","generateVideoResponse"]);return p!=null&&m(e,["response"],C7(p)),e}function E7(t){const e={},n=g(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],Eo(r));const l=g(t,["mimeType"]);return l!=null&&m(e,["mimeType"],l),e}function w7(t){const e={},n=g(t,["_self"]);return n!=null&&m(e,["video"],E7(n)),e}function A7(t){const e={},n=g(t,["videos"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>w7(p))),m(e,["generatedVideos"],f)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const l=g(t,["raiMediaFilteredReasons"]);return l!=null&&m(e,["raiMediaFilteredReasons"],l),e}function y2(t){const e={},n=g(t,["name"]);n!=null&&m(e,["name"],n);const r=g(t,["metadata"]);r!=null&&m(e,["metadata"],r);const l=g(t,["done"]);l!=null&&m(e,["done"],l);const f=g(t,["error"]);f!=null&&m(e,["error"],f);const p=g(t,["response"]);return p!=null&&m(e,["response"],A7(p)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class T7 extends Js{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=n.name.split("/operations/")[0];let f;return r&&"httpOptions"in r&&(f=r.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:l,config:{httpOptions:f}})}else return this.getVideosOperationInternal({operationName:n.name,config:r})}async getVideosOperationInternal(e){var n,r,l,f;let p,v="",w={};if(this.apiClient.isVertexAI()){const y=m7(e);return v=Xe("{operationName}",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json()),p.then(T=>y2(T))}else{const y=g7(e);return v=Xe("{operationName}",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),p.then(T=>v7(T))}}async fetchPredictVideosOperationInternal(e){var n,r;let l,f="",p={};if(this.apiClient.isVertexAI()){const v=p7(e);return f=Xe("{resourceName}:fetchPredictOperation",v._url),p=v._query,delete v.config,delete v._url,delete v._query,l=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(w=>w.json()),l.then(w=>y2(w))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function S7(t){const e={},n=g(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function lw(t){const e={},n=g(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],S7(n)),e}function b7(t){const e={},n=g(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=g(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],lw(r)),e}function _7(t){const e={},n=g(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>b7(l))),m(e,["speakerVoiceConfigs"],r)}return e}function N7(t){const e={},n=g(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],lw(n));const r=g(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],_7(r));const l=g(t,["languageCode"]);return l!=null&&m(e,["languageCode"],l),e}function M7(t){const e={},n=g(t,["fps"]);n!=null&&m(e,["fps"],n);const r=g(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const l=g(t,["startOffset"]);return l!=null&&m(e,["startOffset"],l),e}function I7(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["data"]);n!=null&&m(e,["data"],n);const r=g(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function R7(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function D7(t){const e={},n=g(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],M7(n));const r=g(t,["thought"]);r!=null&&m(e,["thought"],r);const l=g(t,["inlineData"]);l!=null&&m(e,["inlineData"],I7(l));const f=g(t,["fileData"]);f!=null&&m(e,["fileData"],R7(f));const p=g(t,["thoughtSignature"]);p!=null&&m(e,["thoughtSignature"],p);const v=g(t,["codeExecutionResult"]);v!=null&&m(e,["codeExecutionResult"],v);const w=g(t,["executableCode"]);w!=null&&m(e,["executableCode"],w);const y=g(t,["functionCall"]);y!=null&&m(e,["functionCall"],y);const T=g(t,["functionResponse"]);T!=null&&m(e,["functionResponse"],T);const _=g(t,["text"]);return _!=null&&m(e,["text"],_),e}function O7(t){const e={},n=g(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(f=>D7(f))),m(e,["parts"],l)}const r=g(t,["role"]);return r!=null&&m(e,["role"],r),e}function L7(t){const e={},n=g(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=g(t,["description"]);r!=null&&m(e,["description"],r);const l=g(t,["name"]);l!=null&&m(e,["name"],l);const f=g(t,["parameters"]);f!=null&&m(e,["parameters"],f);const p=g(t,["parametersJsonSchema"]);p!=null&&m(e,["parametersJsonSchema"],p);const v=g(t,["response"]);v!=null&&m(e,["response"],v);const w=g(t,["responseJsonSchema"]);return w!=null&&m(e,["responseJsonSchema"],w),e}function P7(t){const e={},n=g(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=g(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function B7(t){const e={},n=g(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],P7(n)),e}function k7(t){const e={},n=g(t,["mode"]);n!=null&&m(e,["mode"],n);const r=g(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function U7(t){const e={},n=g(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],k7(n)),e}function F7(){return{}}function V7(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let w=n;Array.isArray(w)&&(w=w.map(y=>L7(y))),m(e,["functionDeclarations"],w)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],B7(r));const l=g(t,["googleSearchRetrieval"]);if(l!=null&&m(e,["googleSearchRetrieval"],U7(l)),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(g(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");g(t,["urlContext"])!=null&&m(e,["urlContext"],F7());const p=g(t,["codeExecution"]);p!=null&&m(e,["codeExecution"],p);const v=g(t,["computerUse"]);return v!=null&&m(e,["computerUse"],v),e}function z7(t){const e={},n=g(t,["handle"]);if(n!=null&&m(e,["handle"],n),g(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function C2(){return{}}function H7(t){const e={},n=g(t,["disabled"]);n!=null&&m(e,["disabled"],n);const r=g(t,["startOfSpeechSensitivity"]);r!=null&&m(e,["startOfSpeechSensitivity"],r);const l=g(t,["endOfSpeechSensitivity"]);l!=null&&m(e,["endOfSpeechSensitivity"],l);const f=g(t,["prefixPaddingMs"]);f!=null&&m(e,["prefixPaddingMs"],f);const p=g(t,["silenceDurationMs"]);return p!=null&&m(e,["silenceDurationMs"],p),e}function G7(t){const e={},n=g(t,["automaticActivityDetection"]);n!=null&&m(e,["automaticActivityDetection"],H7(n));const r=g(t,["activityHandling"]);r!=null&&m(e,["activityHandling"],r);const l=g(t,["turnCoverage"]);return l!=null&&m(e,["turnCoverage"],l),e}function q7(t){const e={},n=g(t,["targetTokens"]);return n!=null&&m(e,["targetTokens"],n),e}function Y7(t){const e={},n=g(t,["triggerTokens"]);n!=null&&m(e,["triggerTokens"],n);const r=g(t,["slidingWindow"]);return r!=null&&m(e,["slidingWindow"],q7(r)),e}function X7(t){const e={},n=g(t,["proactiveAudio"]);return n!=null&&m(e,["proactiveAudio"],n),e}function W7(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const l=g(t,["responseModalities"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","responseModalities"],l);const f=g(t,["temperature"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","temperature"],f);const p=g(t,["topP"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","topP"],p);const v=g(t,["topK"]);e!==void 0&&v!=null&&m(e,["setup","generationConfig","topK"],v);const w=g(t,["maxOutputTokens"]);e!==void 0&&w!=null&&m(e,["setup","generationConfig","maxOutputTokens"],w);const y=g(t,["mediaResolution"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","mediaResolution"],y);const T=g(t,["seed"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","seed"],T);const _=g(t,["speechConfig"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","speechConfig"],N7(Z1(_)));const I=g(t,["enableAffectiveDialog"]);e!==void 0&&I!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],I);const O=g(t,["systemInstruction"]);e!==void 0&&O!=null&&m(e,["setup","systemInstruction"],O7(fi(O)));const P=g(t,["tools"]);if(e!==void 0&&P!=null){let W=pl(P);Array.isArray(W)&&(W=W.map(oe=>V7(ml(oe)))),m(e,["setup","tools"],W)}const D=g(t,["sessionResumption"]);e!==void 0&&D!=null&&m(e,["setup","sessionResumption"],z7(D));const F=g(t,["inputAudioTranscription"]);e!==void 0&&F!=null&&m(e,["setup","inputAudioTranscription"],C2());const G=g(t,["outputAudioTranscription"]);e!==void 0&&G!=null&&m(e,["setup","outputAudioTranscription"],C2());const q=g(t,["realtimeInputConfig"]);e!==void 0&&q!=null&&m(e,["setup","realtimeInputConfig"],G7(q));const H=g(t,["contextWindowCompression"]);e!==void 0&&H!=null&&m(e,["setup","contextWindowCompression"],Y7(H));const K=g(t,["proactivity"]);return e!==void 0&&K!=null&&m(e,["setup","proactivity"],X7(K)),n}function j7(t,e){const n={},r=g(e,["model"]);r!=null&&m(n,["setup","model"],Gt(t,r));const l=g(e,["config"]);return l!=null&&m(n,["config"],W7(l,n)),n}function K7(t,e,n){const r={},l=g(e,["expireTime"]);n!==void 0&&l!=null&&m(n,["expireTime"],l);const f=g(e,["newSessionExpireTime"]);n!==void 0&&f!=null&&m(n,["newSessionExpireTime"],f);const p=g(e,["uses"]);n!==void 0&&p!=null&&m(n,["uses"],p);const v=g(e,["liveConnectConstraints"]);n!==void 0&&v!=null&&m(n,["bidiGenerateContentSetup"],j7(t,v));const w=g(e,["lockAdditionalFields"]);return n!==void 0&&w!=null&&m(n,["fieldMask"],w),r}function Z7(t,e){const n={},r=g(e,["config"]);return r!=null&&m(n,["config"],K7(t,r,n)),n}function Q7(t){const e={},n=g(t,["name"]);return n!=null&&m(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function J7(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const l=Object.keys(r).map(f=>`${n}.${f}`);e.push(...l)}else e.push(n)}return e.join(",")}function $7(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const f=r.setup;typeof f=="object"&&f!==null?(t.bidiGenerateContentSetup=f,n=f):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const l=t.fieldMask;if(n){const f=J7(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)f?t.fieldMask=f:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let v=[];l.length>0&&(v=l.map(y=>p.includes(y)?`generationConfig.${y}`:y));const w=[];f&&w.push(f),v.length>0&&w.push(...v),w.length>0?t.fieldMask=w.join(","):delete t.fieldMask}else delete t.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?t.fieldMask=l.join(","):delete t.fieldMask;return t}class e9 extends Js{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let l,f="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const v=Z7(this.apiClient,e);f=Xe("auth_tokens",v._url),p=v._query,delete v.config,delete v._url,delete v._query;const w=$7(v,e.config);return l=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(w),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),l.then(y=>Q7(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function t9(t){const e={},n=g(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=g(t,["config"]);return r!=null&&m(e,["config"],r),e}function n9(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const l=g(t,["pageToken"]);e!==void 0&&l!=null&&m(e,["_query","pageToken"],l);const f=g(t,["filter"]);return e!==void 0&&f!=null&&m(e,["_query","filter"],f),n}function i9(t){const e={},n=g(t,["config"]);return n!=null&&m(e,["config"],n9(n,e)),e}function r9(t){const e={},n=g(t,["textInput"]);n!=null&&m(e,["textInput"],n);const r=g(t,["output"]);return r!=null&&m(e,["output"],r),e}function o9(t){const e={};if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=g(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>r9(l))),m(e,["examples","examples"],r)}return e}function s9(t,e){const n={};if(g(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=g(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&m(e,["displayName"],r),g(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=g(t,["epochCount"]);e!==void 0&&l!=null&&m(e,["tuningTask","hyperparameters","epochCount"],l);const f=g(t,["learningRateMultiplier"]);if(f!=null&&m(n,["tuningTask","hyperparameters","learningRateMultiplier"],f),g(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(g(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const p=g(t,["batchSize"]);e!==void 0&&p!=null&&m(e,["tuningTask","hyperparameters","batchSize"],p);const v=g(t,["learningRate"]);return e!==void 0&&v!=null&&m(e,["tuningTask","hyperparameters","learningRate"],v),n}function a9(t){const e={},n=g(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=g(t,["trainingDataset"]);r!=null&&m(e,["tuningTask","trainingData"],o9(r));const l=g(t,["config"]);return l!=null&&m(e,["config"],s9(l,e)),e}function l9(t){const e={},n=g(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=g(t,["config"]);return r!=null&&m(e,["config"],r),e}function c9(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const l=g(t,["pageToken"]);e!==void 0&&l!=null&&m(e,["_query","pageToken"],l);const f=g(t,["filter"]);return e!==void 0&&f!=null&&m(e,["_query","filter"],f),n}function u9(t){const e={},n=g(t,["config"]);return n!=null&&m(e,["config"],c9(n,e)),e}function f9(t,e){const n={},r=g(t,["gcsUri"]);e!==void 0&&r!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],r);const l=g(t,["vertexDatasetResource"]);if(e!==void 0&&l!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],l),g(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function d9(t,e){const n={},r=g(t,["gcsUri"]);r!=null&&m(n,["validationDatasetUri"],r);const l=g(t,["vertexDatasetResource"]);return e!==void 0&&l!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],l),n}function h9(t,e){const n={},r=g(t,["validationDataset"]);e!==void 0&&r!=null&&m(e,["supervisedTuningSpec"],d9(r,n));const l=g(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&m(e,["tunedModelDisplayName"],l);const f=g(t,["description"]);e!==void 0&&f!=null&&m(e,["description"],f);const p=g(t,["epochCount"]);e!==void 0&&p!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],p);const v=g(t,["learningRateMultiplier"]);e!==void 0&&v!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v);const w=g(t,["exportLastCheckpointOnly"]);e!==void 0&&w!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],w);const y=g(t,["adapterSize"]);if(e!==void 0&&y!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y),g(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(g(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function g9(t){const e={},n=g(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=g(t,["trainingDataset"]);r!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],f9(r,e));const l=g(t,["config"]);return l!=null&&m(e,["config"],h9(l,e)),e}function m9(t){const e={},n=g(t,["name"]);n!=null&&m(e,["model"],n);const r=g(t,["name"]);return r!=null&&m(e,["endpoint"],r),e}function cw(t){const e={},n=g(t,["name"]);n!=null&&m(e,["name"],n);const r=g(t,["state"]);r!=null&&m(e,["state"],VE(r));const l=g(t,["createTime"]);l!=null&&m(e,["createTime"],l);const f=g(t,["tuningTask","startTime"]);f!=null&&m(e,["startTime"],f);const p=g(t,["tuningTask","completeTime"]);p!=null&&m(e,["endTime"],p);const v=g(t,["updateTime"]);v!=null&&m(e,["updateTime"],v);const w=g(t,["description"]);w!=null&&m(e,["description"],w);const y=g(t,["baseModel"]);y!=null&&m(e,["baseModel"],y);const T=g(t,["_self"]);T!=null&&m(e,["tunedModel"],m9(T));const _=g(t,["distillationSpec"]);_!=null&&m(e,["distillationSpec"],_);const I=g(t,["experiment"]);I!=null&&m(e,["experiment"],I);const O=g(t,["labels"]);O!=null&&m(e,["labels"],O);const P=g(t,["pipelineJob"]);P!=null&&m(e,["pipelineJob"],P);const D=g(t,["satisfiesPzi"]);D!=null&&m(e,["satisfiesPzi"],D);const F=g(t,["satisfiesPzs"]);F!=null&&m(e,["satisfiesPzs"],F);const G=g(t,["serviceAccount"]);G!=null&&m(e,["serviceAccount"],G);const q=g(t,["tunedModelDisplayName"]);return q!=null&&m(e,["tunedModelDisplayName"],q),e}function p9(t){const e={},n=g(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const r=g(t,["tunedModels"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(f=>cw(f))),m(e,["tuningJobs"],l)}return e}function x9(t){const e={},n=g(t,["name"]);n!=null&&m(e,["name"],n);const r=g(t,["metadata"]);r!=null&&m(e,["metadata"],r);const l=g(t,["done"]);l!=null&&m(e,["done"],l);const f=g(t,["error"]);return f!=null&&m(e,["error"],f),e}function y9(t){const e={},n=g(t,["checkpointId"]);n!=null&&m(e,["checkpointId"],n);const r=g(t,["epoch"]);r!=null&&m(e,["epoch"],r);const l=g(t,["step"]);l!=null&&m(e,["step"],l);const f=g(t,["endpoint"]);return f!=null&&m(e,["endpoint"],f),e}function C9(t){const e={},n=g(t,["model"]);n!=null&&m(e,["model"],n);const r=g(t,["endpoint"]);r!=null&&m(e,["endpoint"],r);const l=g(t,["checkpoints"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>y9(p))),m(e,["checkpoints"],f)}return e}function h1(t){const e={},n=g(t,["name"]);n!=null&&m(e,["name"],n);const r=g(t,["state"]);r!=null&&m(e,["state"],VE(r));const l=g(t,["createTime"]);l!=null&&m(e,["createTime"],l);const f=g(t,["startTime"]);f!=null&&m(e,["startTime"],f);const p=g(t,["endTime"]);p!=null&&m(e,["endTime"],p);const v=g(t,["updateTime"]);v!=null&&m(e,["updateTime"],v);const w=g(t,["error"]);w!=null&&m(e,["error"],w);const y=g(t,["description"]);y!=null&&m(e,["description"],y);const T=g(t,["baseModel"]);T!=null&&m(e,["baseModel"],T);const _=g(t,["tunedModel"]);_!=null&&m(e,["tunedModel"],C9(_));const I=g(t,["supervisedTuningSpec"]);I!=null&&m(e,["supervisedTuningSpec"],I);const O=g(t,["tuningDataStats"]);O!=null&&m(e,["tuningDataStats"],O);const P=g(t,["encryptionSpec"]);P!=null&&m(e,["encryptionSpec"],P);const D=g(t,["partnerModelTuningSpec"]);D!=null&&m(e,["partnerModelTuningSpec"],D);const F=g(t,["distillationSpec"]);F!=null&&m(e,["distillationSpec"],F);const G=g(t,["experiment"]);G!=null&&m(e,["experiment"],G);const q=g(t,["labels"]);q!=null&&m(e,["labels"],q);const H=g(t,["pipelineJob"]);H!=null&&m(e,["pipelineJob"],H);const K=g(t,["satisfiesPzi"]);K!=null&&m(e,["satisfiesPzi"],K);const W=g(t,["satisfiesPzs"]);W!=null&&m(e,["satisfiesPzs"],W);const oe=g(t,["serviceAccount"]);oe!=null&&m(e,["serviceAccount"],oe);const Z=g(t,["tunedModelDisplayName"]);return Z!=null&&m(e,["tunedModelDisplayName"],Z),e}function v9(t){const e={},n=g(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const r=g(t,["tuningJobs"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(f=>h1(f))),m(e,["tuningJobs"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class E9 extends Js{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Vc(Qs.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let l="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?l=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(l=r.name.split("/operations/")[0]),{name:l,state:i1.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,l,f;let p,v="",w={};if(this.apiClient.isVertexAI()){const y=l9(e);return v=Xe("{name}",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json()),p.then(T=>h1(T))}else{const y=t9(e);return v=Xe("{name}",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),p.then(T=>cw(T))}}async listInternal(e){var n,r,l,f;let p,v="",w={};if(this.apiClient.isVertexAI()){const y=u9(e);return v=Xe("tuningJobs",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json()),p.then(T=>{const _=v9(T),I=new jy;return Object.assign(I,_),I})}else{const y=i9(e);return v=Xe("tunedModels",y._url),w=y._query,delete y.config,delete y._url,delete y._query,p=this.apiClient.request({path:v,queryParams:w,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),p.then(T=>{const _=p9(T),I=new jy;return Object.assign(I,_),I})}}async tuneInternal(e){var n,r;let l,f="",p={};if(this.apiClient.isVertexAI()){const v=g9(e);return f=Xe("tuningJobs",v._url),p=v._query,delete v.config,delete v._url,delete v._query,l=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(w=>w.json()),l.then(w=>h1(w))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let l,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=a9(e);return f=Xe("tunedModels",v._url),p=v._query,delete v.config,delete v._url,delete v._query,l=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(w=>w.json()),l.then(w=>x9(w))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class w9{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const A9=1024*1024*8,T9=3,S9=1e3,b9=2,O0="x-goog-upload-status";async function _9(t,e,n){var r,l,f;let p=0,v=0,w=new r1(new Response),y="upload";for(p=t.size;v<p;){const _=Math.min(A9,p-v),I=t.slice(v,v+_);v+_>=p&&(y+=", finalize");let O=0,P=S9;for(;O<T9&&(w=await n.request({path:"",body:I,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(v),"Content-Length":String(_)}}}),!(!((r=w==null?void 0:w.headers)===null||r===void 0)&&r[O0]));)O++,await M9(P),P=P*b9;if(v+=_,((l=w==null?void 0:w.headers)===null||l===void 0?void 0:l[O0])!=="active")break;if(p<=v)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const T=await(w==null?void 0:w.json());if(((f=w==null?void 0:w.headers)===null||f===void 0?void 0:f[O0])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return T.file}async function N9(t){return{size:t.size,type:t.type}}function M9(t){return new Promise(e=>setTimeout(e,t))}class I9{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await _9(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await N9(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class R9{create(e,n,r){return new D9(e,n,r)}}class D9{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const v2="x-goog-api-key";class O9{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(v2)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(v2,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const L9="gl-node/";class P9{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=OR(e,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const l=new O9(this.apiKey);this.apiClient=new KL({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:L9+"web",uploader:new I9,downloader:new w9}),this.models=new h7(this.apiClient),this.live=new l7(this.apiClient,l,new R9),this.batches=new n8(this.apiClient),this.chats=new sD(this.models,this.apiClient),this.caches=new iD(this.apiClient),this.files=new CD(this.apiClient),this.operations=new T7(this.apiClient),this.authTokens=new e9(this.apiClient),this.tunings=new E9(this.apiClient)}}const B9=({onResponse:t})=>{const[e,n]=B.useState(!1),[r,l]=B.useState(""),[f,p]=B.useState(""),[v,w]=B.useState(""),[y,T]=B.useState(""),[_,I]=B.useState(""),[O,P]=B.useState(""),[D,F]=B.useState(""),[G,q]=B.useState(!1),[H,K]=B.useState("diet"),W=async()=>{const oe="AIzaSyAIcBOb3fKdkLBPBPISNFMwHKfNuww_rqE";q(!0),F("");try{const Z=`
        Diet Plan based on your daily routine: ${r}
        Diet Goal: ${f}
        Workout Goal: ${v}
        Diet Type: ${O}
        Workout Plan: ${y}
        Workout Today: ${_}
      `,Me=(await new P9({apiKey:oe}).models.generateContent({model:"gemini-2.5-flash",contents:Z})).text||"No response from Gemini AI.";F(Me),t&&t(Me),q(!1)}catch{F("Failed to get AI response. Please try again."),q(!1)}};return M.jsxs(M.Fragment,{children:[M.jsx(Lt,{onClick:()=>n(!0),className:"fixed bottom-24 right-6 z-50 bg-gradient-to-tr from-indigo-600 to-purple-700 hover:from-indigo-700 hover:to-purple-800 text-white shadow-xl rounded-full h-16 w-16 flex items-center justify-center text-lg font-bold tracking-wide","aria-label":"Ask AI",children:"AI"}),M.jsx(vf,{open:e,onOpenChange:n,children:M.jsxs(Ef,{className:"max-w-lg rounded-xl shadow-2xl border border-gray-300 bg-gradient-to-br from-white to-indigo-50",children:[M.jsx(wf,{children:M.jsx(Af,{className:"text-2xl font-extrabold text-indigo-900",children:"Ask AI for Diet & Workout Plan"})}),M.jsxs(ll,{value:H,onValueChange:K,className:"mt-4",children:[M.jsxs(cl,{className:"bg-indigo-100 rounded-lg p-1",children:[M.jsx(pi,{value:"diet",className:"text-indigo-800 font-semibold",children:"Diet"}),M.jsx(pi,{value:"workout",className:"text-indigo-800 font-semibold",children:"Workout"})]}),M.jsxs(xi,{value:"diet",className:"mt-4 space-y-4",children:[M.jsx(Ya,{placeholder:"Describe your daily routine diet (meals and times)",value:r,onChange:oe=>l(oe.target.value),rows:4,className:"resize-none border border-indigo-300 rounded-lg p-4 text-indigo-900 placeholder-indigo-400 focus:outline-none focus:ring-4 focus:ring-indigo-400"}),M.jsx(En,{placeholder:"Diet Goal (e.g. weight loss, muscle gain)",value:f,onChange:oe=>p(oe.target.value),className:"border border-indigo-300 rounded-lg p-4 text-indigo-900 placeholder-indigo-400 focus:outline-none focus:ring-4 focus:ring-indigo-400"}),M.jsxs(TR,{onValueChange:P,value:O,children:[M.jsx(bR,{className:"border border-indigo-300 rounded-lg p-4 mt-3 focus:outline-none focus:ring-4 focus:ring-indigo-400",children:M.jsx(SR,{placeholder:"Select Diet Type"})}),M.jsxs(_R,{children:[M.jsx(D0,{value:"veg",children:"Vegetarian"}),M.jsx(D0,{value:"non-veg",children:"Non-Vegetarian"}),M.jsx(D0,{value:"vegan",children:"Vegan"})]})]})]}),M.jsxs(xi,{value:"workout",className:"mt-4 space-y-4",children:[M.jsx(En,{placeholder:"Workout Goal (e.g. weight loss, muscle gain)",value:v,onChange:oe=>w(oe.target.value),className:"border border-indigo-300 rounded-lg p-4 text-indigo-900 placeholder-indigo-400 focus:outline-none focus:ring-4 focus:ring-indigo-400"}),M.jsx(Ya,{placeholder:"Workout Plan (e.g. cardio, strength training)",value:y,onChange:oe=>T(oe.target.value),rows:3,className:"resize-none border border-indigo-300 rounded-lg p-4 text-indigo-900 placeholder-indigo-400 focus:outline-none focus:ring-4 focus:ring-indigo-400"}),M.jsx(En,{placeholder:"What are you planning to do today?",value:_,onChange:oe=>I(oe.target.value),className:"border border-indigo-300 rounded-lg p-4 text-indigo-900 placeholder-indigo-400 focus:outline-none focus:ring-4 focus:ring-indigo-400 mt-3"})]})]}),M.jsxs(_M,{className:"flex flex-col space-y-4 mt-6",children:[M.jsx(Lt,{onClick:W,disabled:G||H==="diet"&&!r&&!f||H==="workout"&&!v,className:"bg-indigo-700 hover:bg-indigo-800 text-white font-semibold rounded-lg py-4 shadow-lg transition-colors",children:G?"Generating...":"Get Plan"}),D&&M.jsx("pre",{className:"whitespace-pre-wrap bg-indigo-100 p-5 rounded-lg text-sm max-h-60 overflow-auto text-indigo-900",children:D})]})]})})]})},k9=()=>{const[t]=B.useState(av()),[e,n]=B.useState([]),[r,l]=B.useState([]),[f,p]=B.useState([]),[v,w]=B.useState(!0),[y,T]=B.useState(""),[_,I]=B.useState(""),O=fs();B.useEffect(()=>{P()},[]);const P=async()=>{var H,K;try{w(!0);try{const W=await ja.getBookmarks();n(W.data.bookmarks)}catch(W){console.error("Failed to load bookmarks:",W)}try{const W=await ja.getScanHistory();l(W.data.scan_history)}catch(W){console.error("Failed to load scan history:",W)}}catch(W){T(((K=(H=W.response)==null?void 0:H.data)==null?void 0:K.message)||"Failed to load data")}finally{w(!1)}},D=H=>{p(K=>[H,...K])},F=()=>{cv(),O("./login")},G=async H=>{var K,W;try{await ja.removeBookmark(H),I("Bookmark removed successfully"),P()}catch(oe){T(((W=(K=oe.response)==null?void 0:K.data)==null?void 0:W.message)||"Failed to remove bookmark")}},q=H=>new Date(H).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return v?M.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-white",children:M.jsx("div",{className:"animate-spin rounded-full h-20 w-20 border-t-4 border-blue-600"})}):M.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white",children:[M.jsx("header",{className:"bg-white shadow-md border-b border-gray-200",children:M.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex justify-between items-center",children:[M.jsxs("div",{className:"flex items-center space-x-3",children:[M.jsx(_c,{className:"h-10 w-10 text-blue-600"}),M.jsx("h1",{className:"text-2xl font-extrabold text-gray-900 tracking-wide",children:"FitCode"})]}),M.jsxs("div",{className:"flex items-center space-x-6",children:[M.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Welcome, ",M.jsx("span",{className:"text-blue-600",children:t==null?void 0:t.username})]}),M.jsxs(Lt,{variant:"outline",size:"sm",className:"flex items-center space-x-2",onClick:F,children:[M.jsx(LC,{className:"h-5 w-5"}),M.jsx("span",{children:"Logout"})]})]})]})}),M.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-10",children:[y&&M.jsx(Yi,{className:"mb-6 border-red-300 bg-red-100 rounded-lg shadow-sm",children:M.jsx(Xi,{className:"text-red-900 font-semibold",children:y})}),_&&M.jsx(Yi,{className:"mb-6 border-green-300 bg-green-100 rounded-lg shadow-sm",children:M.jsx(Xi,{className:"text-green-900 font-semibold",children:_})}),M.jsxs("div",{className:"flex flex-col items-center space-y-10 mb-10 max-w-lg mx-auto px-4 sm:px-0",children:[M.jsx(tn,{className:"cursor-pointer hover:shadow-2xl transition-shadow rounded-3xl border border-transparent hover:border-blue-500 bg-gradient-to-tr from-blue-50 to-blue-200 w-full max-w-md",onClick:()=>O("/client/scanner"),children:M.jsxs(an,{className:"p-16 text-center",children:[M.jsx("div",{className:"flex justify-center mb-10",children:M.jsx("div",{className:"rounded-full bg-white p-8 shadow-2xl",children:M.jsx(Gs,{className:"h-24 w-24 text-blue-700"})})}),M.jsx("h3",{className:"text-4xl font-extrabold text-blue-800 mb-6",children:"Scan QR Code"}),M.jsx("p",{className:"text-blue-700 text-xl font-semibold",children:"Scan a machine QR code to view instructions"})]})}),M.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8 w-full max-w-md",children:[M.jsx(tn,{className:"rounded-3xl border border-green-300 shadow-md hover:shadow-lg transition-shadow",children:M.jsxs(an,{className:"p-6 text-center",children:[M.jsx(gf,{className:"h-14 w-14 text-green-700 mx-auto mb-6"}),M.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Bookmarks"}),M.jsxs("p",{className:"text-gray-700 text-sm",children:[e.length," saved machines"]})]})}),M.jsx(tn,{className:"rounded-3xl border border-purple-300 shadow-md hover:shadow-lg transition-shadow",children:M.jsxs(an,{className:"p-6 text-center",children:[M.jsx(p0,{className:"h-14 w-14 text-purple-700 mx-auto mb-6"}),M.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Scan History"}),M.jsxs("p",{className:"text-gray-700 text-sm",children:[r.length," total scans"]})]})})]})]}),M.jsxs(ll,{defaultValue:"bookmarks",className:"space-y-8",children:[M.jsxs(cl,{className:"rounded-full bg-gray-200 p-1 max-w-md mx-auto shadow-inner",children:[M.jsx(pi,{value:"bookmarks",className:"rounded-full text-sm font-semibold text-gray-700 data-[state=active]:bg-white data-[state=active]:shadow-md data-[state=active]:text-blue-600",children:"Bookmarked Machines"}),M.jsx(pi,{value:"history",className:"rounded-full text-sm font-semibold text-gray-700 data-[state=active]:bg-white data-[state=active]:shadow-md data-[state=active]:text-purple-600",children:"Scan History"}),M.jsx(pi,{value:"airesponses",className:"rounded-full text-sm font-semibold text-gray-700 data-[state=active]:bg-white data-[state=active]:shadow-md data-[state=active]:text-green-600",children:"AI Responses"})]}),M.jsx(xi,{value:"bookmarks",children:M.jsxs(tn,{className:"rounded-xl shadow-md border border-gray-200",children:[M.jsxs(Si,{children:[M.jsx(bi,{className:"text-2xl font-bold",children:"Bookmarked Machines"}),M.jsx(qi,{className:"text-gray-600",children:"Your saved machines for quick access"})]}),M.jsx(an,{children:e.length>0?M.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(H=>M.jsx(tn,{className:"hover:shadow-lg transition-shadow rounded-lg border border-gray-200",children:M.jsxs(an,{className:"p-5",children:[M.jsxs("div",{className:"flex justify-between items-start mb-3",children:[M.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:H.machine.name}),M.jsx(Lt,{size:"sm",variant:"ghost",onClick:()=>G(H.machine_id),"aria-label":"Remove bookmark",children:M.jsx(l3,{className:"h-5 w-5 fill-current text-red-500"})})]}),M.jsx("p",{className:"text-sm text-gray-600 mb-4",children:H.gym.name}),M.jsxs("div",{className:"flex flex-wrap gap-2 mb-5",children:[H.machine.how_to_use_video_url&&M.jsx(Za,{variant:"secondary",className:"uppercase tracking-wide font-medium",children:"Has Video"}),H.machine.safety_tips&&M.jsx(Za,{variant:"secondary",className:"uppercase tracking-wide font-medium",children:"Safety Tips"}),H.machine.usage_guide&&M.jsx(Za,{variant:"secondary",className:"uppercase tracking-wide font-medium",children:"Usage Guide"})]}),M.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["Bookmarked ",q(H.bookmark_timestamp)]}),M.jsx(Lt,{size:"sm",className:"w-full rounded-md bg-blue-600 text-white hover:bg-blue-700 transition-colors",onClick:()=>O(`/machine/${H.machine_id}`),children:"View Details"})]})},H.id))}):M.jsxs("div",{className:"text-center py-12",children:[M.jsx(gf,{className:"h-16 w-16 text-gray-300 mx-auto mb-6"}),M.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"No bookmarks yet"}),M.jsx("p",{className:"text-gray-600 mb-6",children:"Bookmark machines to save them for later"}),M.jsxs(Lt,{className:"inline-flex items-center space-x-2 rounded-md bg-blue-600 text-white px-5 py-2 hover:bg-blue-700 transition-colors",onClick:()=>O("/client/scanner"),children:[M.jsx(Gs,{className:"h-5 w-5"}),M.jsx("span",{children:"Scan Your First Machine"})]})]})})]})}),M.jsx(xi,{value:"history",children:M.jsxs(tn,{className:"rounded-xl shadow-md border border-gray-200",children:[M.jsxs(Si,{children:[M.jsx(bi,{className:"text-2xl font-bold",children:"Scan History"}),M.jsx(qi,{className:"text-gray-600",children:"Your recent machine scans"})]}),M.jsx(an,{children:r.length>0?M.jsx("div",{className:"space-y-5",children:r.map(H=>M.jsxs("div",{className:"flex items-center justify-between p-5 border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow bg-white",children:[M.jsxs("div",{className:"flex items-center space-x-5",children:[M.jsx(RC,{className:"h-9 w-9 text-blue-600"}),M.jsxs("div",{children:[M.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:H.machine.name}),M.jsx("p",{className:"text-sm text-gray-600",children:H.gym.name}),M.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[M.jsx(Yb,{className:"h-4 w-4 inline mr-1"}),q(H.scan_timestamp)]})]})]}),M.jsx(Lt,{size:"sm",variant:"outline",className:"rounded-md border-blue-600 text-blue-600 hover:bg-blue-50",onClick:()=>O(`/machine/${H.machine_id}`),children:"View Again"})]},H.id))}):M.jsxs("div",{className:"text-center py-12",children:[M.jsx(p0,{className:"h-16 w-16 text-gray-300 mx-auto mb-6"}),M.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"No scan history"}),M.jsx("p",{className:"text-gray-600 mb-6",children:"Your scanned machines will appear here"}),M.jsxs(Lt,{className:"inline-flex items-center space-x-2 rounded-md bg-blue-600 text-white px-5 py-2 hover:bg-blue-700 transition-colors",onClick:()=>O("/client/scanner"),children:[M.jsx(Gs,{className:"h-5 w-5"}),M.jsx("span",{children:"Start Scanning"})]})]})})]})}),M.jsx(xi,{value:"airesponses",children:M.jsxs(tn,{className:"rounded-xl shadow-md border border-gray-200 max-w-4xl mx-auto",children:[M.jsxs(Si,{children:[M.jsx(bi,{className:"text-2xl font-bold",children:"AI Responses"}),M.jsx(qi,{className:"text-gray-600",children:"Your AI generated diet and workout plans"})]}),M.jsx(an,{children:f.length>0?M.jsx("div",{className:"space-y-4 max-h-96 overflow-auto",children:f.map((H,K)=>M.jsx("pre",{className:"whitespace-pre-wrap bg-indigo-50 p-4 rounded-lg text-sm text-indigo-900 border border-indigo-200 shadow-sm",children:H},K))}):M.jsx("div",{className:"text-center py-12 text-gray-500",children:"No AI responses yet. Fill the form in Ask AI button to get started."})})]})})]})]}),M.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white shadow-t-lg border-t border-gray-200",children:M.jsx("div",{className:"max-w-7xl mx-auto px-6",children:M.jsxs("div",{className:"flex justify-between items-center h-16 relative",children:[M.jsxs("button",{onClick:()=>O("/client/bookmarks"),className:"flex flex-col items-center justify-center text-gray-600 hover:text-green-600 focus:outline-none","aria-label":"Bookmarks",children:[M.jsx(gf,{className:"h-7 w-7 mb-1"}),M.jsx("span",{className:"text-xs font-semibold",children:"Bookmarks"})]}),M.jsx("button",{onClick:()=>O("/client/scanner"),className:"absolute -top-4 left-1/2 transform -translate-x-1/2 bg-yellow-400 hover:bg-yellow-500 focus:bg-yellow-500 rounded-full p-3 shadow-lg text-white flex items-center justify-center","aria-label":"Scan QR Code",children:M.jsx(Gs,{className:"h-7 w-7"})}),M.jsxs("button",{onClick:()=>O("/client/scan-history"),className:"flex flex-col items-center justify-center text-gray-600 hover:text-purple-600 focus:outline-none","aria-label":"Scan History",children:[M.jsx(p0,{className:"h-7 w-7 mb-1"}),M.jsx("span",{className:"text-xs font-semibold",children:"History"})]})]})})}),t&&t.username&&M.jsx(B9,{onResponse:D})]})};var Fe;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Fe||(Fe={}));var E2=new Map([[Fe.QR_CODE,"QR_CODE"],[Fe.AZTEC,"AZTEC"],[Fe.CODABAR,"CODABAR"],[Fe.CODE_39,"CODE_39"],[Fe.CODE_93,"CODE_93"],[Fe.CODE_128,"CODE_128"],[Fe.DATA_MATRIX,"DATA_MATRIX"],[Fe.MAXICODE,"MAXICODE"],[Fe.ITF,"ITF"],[Fe.EAN_13,"EAN_13"],[Fe.EAN_8,"EAN_8"],[Fe.PDF_417,"PDF_417"],[Fe.RSS_14,"RSS_14"],[Fe.RSS_EXPANDED,"RSS_EXPANDED"],[Fe.UPC_A,"UPC_A"],[Fe.UPC_E,"UPC_E"],[Fe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),w2;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(w2||(w2={}));function U9(t){return Object.values(Fe).includes(t)}var cs;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(cs||(cs={}));var hr=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[cs.SCAN_TYPE_CAMERA,cs.SCAN_TYPE_FILE],t}(),uw=function(){function t(e,n){this.format=e,this.formatName=n}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!E2.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,E2.get(e))},t}(),A2=function(){function t(){}return t.createFromText=function(e){var n={text:e};return{decodedText:e,result:n}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t}(),g1;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(g1||(g1={}));var fw=function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:g1.UNKWOWN_ERROR}},t}(),dw=function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,n){(this.verbose||n===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t}();function Vr(t){return typeof t>"u"||t===null}function F9(t,e,n){return t>n?n:t<e?e:t}var Wa=function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),zt=function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(e){return"Last Match: ".concat(e)},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.torchOnButton=function(){return"Switch On Torch"},t.torchOffButton=function(){return"Switch Off Torch"},t.torchOnFailedMessage=function(){return"Failed to turn on torch"},t.torchOffFailedMessage=function(){return"Failed to turn off torch"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t.fileSelectionChooseImage=function(){return"Choose Image"},t.fileSelectionChooseAnother=function(){return"Choose Another"},t.fileSelectionNoImageSelected=function(){return"No image choosen"},t.anonymousCameraPrefix=function(){return"Anonymous Camera"},t.dragAndDropMessage=function(){return"Or drop an image to scan"},t.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},t.zoom=function(){return"zoom"},t.loadingImage=function(){return"Loading image..."},t.cameraScanAltText=function(){return"Camera based scan"},t.fileScanAltText=function(){return"Fule based scan"},t}(),T2=function(){function t(){}return t.poweredBy=function(){return"Powered by "},t.reportIssues=function(){return"Report issues"},t}(),hw=function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,n){if(typeof e!="object"){var r=typeof e;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var l=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],f=new Set(l),p=Object.keys(e),v=0,w=p;v<w.length;v++){var y=w[v];if(f.has(y))return n.logError("".concat(y," is not supported videoConstaints."),!0),!1}return!0},t}(),Ac={exports:{}},V9=Ac.exports,S2;function z9(){return S2||(S2=1,function(t,e){(function(n,r){r(e)})(V9,function(n){function r(k){return k==null}var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,o){k.__proto__=o}||function(k,o){for(var a in o)o.hasOwnProperty(a)&&(k[a]=o[a])};function f(k,o){l(k,o);function a(){this.constructor=k}k.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}function p(k,o){var a=Object.setPrototypeOf;a?a(k,o):k.__proto__=o}function v(k,o){o===void 0&&(o=k.constructor);var a=Error.captureStackTrace;a&&a(k,o)}var w=function(k){f(o,k);function o(a){var c=this.constructor,d=k.call(this,a)||this;return Object.defineProperty(d,"name",{value:c.name,enumerable:!1}),p(d,c.prototype),v(d),d}return o}(Error);class y extends w{constructor(o=void 0){super(o),this.message=o}getKind(){return this.constructor.kind}}y.kind="Exception";class T extends y{}T.kind="ArgumentException";class _ extends y{}_.kind="IllegalArgumentException";class I{constructor(o){if(this.binarizer=o,o===null)throw new _("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(o,a){return this.binarizer.getBlackRow(o,a)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(o,a,c,d){const h=this.binarizer.getLuminanceSource().crop(o,a,c,d);return new I(this.binarizer.createBinarizer(h))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new I(this.binarizer.createBinarizer(o))}rotateCounterClockwise45(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new I(this.binarizer.createBinarizer(o))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class O extends y{static getChecksumInstance(){return new O}}O.kind="ChecksumException";class P{constructor(o){this.source=o}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class D{static arraycopy(o,a,c,d,h){for(;h--;)c[d++]=o[a++]}static currentTimeMillis(){return Date.now()}}class F extends y{}F.kind="IndexOutOfBoundsException";class G extends F{constructor(o=void 0,a=void 0){super(a),this.index=o,this.message=a}}G.kind="ArrayIndexOutOfBoundsException";class q{static fill(o,a){for(let c=0,d=o.length;c<d;c++)o[c]=a}static fillWithin(o,a,c,d){q.rangeCheck(o.length,a,c);for(let h=a;h<c;h++)o[h]=d}static rangeCheck(o,a,c){if(a>c)throw new _("fromIndex("+a+") > toIndex("+c+")");if(a<0)throw new G(a);if(c>o)throw new G(c)}static asList(...o){return o}static create(o,a,c){return Array.from({length:o}).map(h=>Array.from({length:a}).fill(c))}static createInt32Array(o,a,c){return Array.from({length:o}).map(h=>Int32Array.from({length:a}).fill(c))}static equals(o,a){if(!o||!a||!o.length||!a.length||o.length!==a.length)return!1;for(let c=0,d=o.length;c<d;c++)if(o[c]!==a[c])return!1;return!0}static hashCode(o){if(o===null)return 0;let a=1;for(const c of o)a=31*a+c;return a}static fillUint8Array(o,a){for(let c=0;c!==o.length;c++)o[c]=a}static copyOf(o,a){return o.slice(0,a)}static copyOfUint8Array(o,a){if(o.length<=a){const c=new Uint8Array(a);return c.set(o),c}return o.slice(0,a)}static copyOfRange(o,a,c){const d=c-a,h=new Int32Array(d);return D.arraycopy(o,a,h,0,d),h}static binarySearch(o,a,c){c===void 0&&(c=q.numberComparator);let d=0,h=o.length-1;for(;d<=h;){const C=h+d>>1,E=c(a,o[C]);if(E>0)d=C+1;else if(E<0)h=C-1;else return C}return-d-1}static numberComparator(o,a){return o-a}}class H{static numberOfTrailingZeros(o){let a;if(o===0)return 32;let c=31;return a=o<<16,a!==0&&(c-=16,o=a),a=o<<8,a!==0&&(c-=8,o=a),a=o<<4,a!==0&&(c-=4,o=a),a=o<<2,a!==0&&(c-=2,o=a),c-(o<<1>>>31)}static numberOfLeadingZeros(o){if(o===0)return 32;let a=1;return o>>>16||(a+=16,o<<=16),o>>>24||(a+=8,o<<=8),o>>>28||(a+=4,o<<=4),o>>>30||(a+=2,o<<=2),a-=o>>>31,a}static toHexString(o){return o.toString(16)}static toBinaryString(o){return String(parseInt(String(o),2))}static bitCount(o){return o=o-(o>>>1&1431655765),o=(o&858993459)+(o>>>2&858993459),o=o+(o>>>4)&252645135,o=o+(o>>>8),o=o+(o>>>16),o&63}static truncDivision(o,a){return Math.trunc(o/a)}static parseInt(o,a=void 0){return parseInt(o,a)}}H.MIN_VALUE_32_BITS=-2147483648,H.MAX_VALUE=Number.MAX_SAFE_INTEGER;class K{constructor(o,a){o===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=o,a==null?this.bits=K.makeArray(o):this.bits=a)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(o){if(o>this.bits.length*32){const a=K.makeArray(o);D.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}}get(o){return(this.bits[Math.floor(o/32)]&1<<(o&31))!==0}set(o){this.bits[Math.floor(o/32)]|=1<<(o&31)}flip(o){this.bits[Math.floor(o/32)]^=1<<(o&31)}getNextSet(o){const a=this.size;if(o>=a)return a;const c=this.bits;let d=Math.floor(o/32),h=c[d];h&=~((1<<(o&31))-1);const C=c.length;for(;h===0;){if(++d===C)return a;h=c[d]}const E=d*32+H.numberOfTrailingZeros(h);return E>a?a:E}getNextUnset(o){const a=this.size;if(o>=a)return a;const c=this.bits;let d=Math.floor(o/32),h=~c[d];h&=~((1<<(o&31))-1);const C=c.length;for(;h===0;){if(++d===C)return a;h=~c[d]}const E=d*32+H.numberOfTrailingZeros(h);return E>a?a:E}setBulk(o,a){this.bits[Math.floor(o/32)]=a}setRange(o,a){if(a<o||o<0||a>this.size)throw new _;if(a===o)return;a--;const c=Math.floor(o/32),d=Math.floor(a/32),h=this.bits;for(let C=c;C<=d;C++){const E=C>c?0:o&31,N=(2<<(C<d?31:a&31))-(1<<E);h[C]|=N}}clear(){const o=this.bits.length,a=this.bits;for(let c=0;c<o;c++)a[c]=0}isRange(o,a,c){if(a<o||o<0||a>this.size)throw new _;if(a===o)return!0;a--;const d=Math.floor(o/32),h=Math.floor(a/32),C=this.bits;for(let E=d;E<=h;E++){const S=E>d?0:o&31,R=(2<<(E<h?31:a&31))-(1<<S)&4294967295;if((C[E]&R)!==(c?R:0))return!1}return!0}appendBit(o){this.ensureCapacity(this.size+1),o&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(o,a){if(a<0||a>32)throw new _("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(let c=a;c>0;c--)this.appendBit((o>>c-1&1)===1)}appendBitArray(o){const a=o.size;this.ensureCapacity(this.size+a);for(let c=0;c<a;c++)this.appendBit(o.get(c))}xor(o){if(this.size!==o.size)throw new _("Sizes don't match");const a=this.bits;for(let c=0,d=a.length;c<d;c++)a[c]^=o.bits[c]}toBytes(o,a,c,d){for(let h=0;h<d;h++){let C=0;for(let E=0;E<8;E++)this.get(o)&&(C|=1<<7-E),o++;a[c+h]=C}}getBitArray(){return this.bits}reverse(){const o=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),c=a+1,d=this.bits;for(let h=0;h<c;h++){let C=d[h];C=C>>1&1431655765|(C&1431655765)<<1,C=C>>2&858993459|(C&858993459)<<2,C=C>>4&252645135|(C&252645135)<<4,C=C>>8&16711935|(C&16711935)<<8,C=C>>16&65535|(C&65535)<<16,o[a-h]=C}if(this.size!==c*32){const h=c*32-this.size;let C=o[0]>>>h;for(let E=1;E<c;E++){const S=o[E];C|=S<<32-h,o[E-1]=C,C=S>>>h}o[c-1]=C}this.bits=o}static makeArray(o){return new Int32Array(Math.floor((o+31)/32))}equals(o){if(!(o instanceof K))return!1;const a=o;return this.size===a.size&&q.equals(this.bits,a.bits)}hashCode(){return 31*this.size+q.hashCode(this.bits)}toString(){let o="";for(let a=0,c=this.size;a<c;a++)(a&7)===0&&(o+=" "),o+=this.get(a)?"X":".";return o}clone(){return new K(this.size,this.bits.slice())}}var W;(function(k){k[k.OTHER=0]="OTHER",k[k.PURE_BARCODE=1]="PURE_BARCODE",k[k.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",k[k.TRY_HARDER=3]="TRY_HARDER",k[k.CHARACTER_SET=4]="CHARACTER_SET",k[k.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",k[k.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",k[k.ASSUME_GS1=7]="ASSUME_GS1",k[k.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",k[k.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",k[k.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(W||(W={}));var oe=W;class Z extends y{static getFormatInstance(){return new Z}}Z.kind="FormatException";var ae;(function(k){k[k.Cp437=0]="Cp437",k[k.ISO8859_1=1]="ISO8859_1",k[k.ISO8859_2=2]="ISO8859_2",k[k.ISO8859_3=3]="ISO8859_3",k[k.ISO8859_4=4]="ISO8859_4",k[k.ISO8859_5=5]="ISO8859_5",k[k.ISO8859_6=6]="ISO8859_6",k[k.ISO8859_7=7]="ISO8859_7",k[k.ISO8859_8=8]="ISO8859_8",k[k.ISO8859_9=9]="ISO8859_9",k[k.ISO8859_10=10]="ISO8859_10",k[k.ISO8859_11=11]="ISO8859_11",k[k.ISO8859_13=12]="ISO8859_13",k[k.ISO8859_14=13]="ISO8859_14",k[k.ISO8859_15=14]="ISO8859_15",k[k.ISO8859_16=15]="ISO8859_16",k[k.SJIS=16]="SJIS",k[k.Cp1250=17]="Cp1250",k[k.Cp1251=18]="Cp1251",k[k.Cp1252=19]="Cp1252",k[k.Cp1256=20]="Cp1256",k[k.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",k[k.UTF8=22]="UTF8",k[k.ASCII=23]="ASCII",k[k.Big5=24]="Big5",k[k.GB18030=25]="GB18030",k[k.EUC_KR=26]="EUC_KR"})(ae||(ae={}));class ee{constructor(o,a,c,...d){this.valueIdentifier=o,this.name=c,typeof a=="number"?this.values=Int32Array.from([a]):this.values=a,this.otherEncodingNames=d,ee.VALUE_IDENTIFIER_TO_ECI.set(o,this),ee.NAME_TO_ECI.set(c,this);const h=this.values;for(let C=0,E=h.length;C!==E;C++){const S=h[C];ee.VALUES_TO_ECI.set(S,this)}for(const C of d)ee.NAME_TO_ECI.set(C,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(o){if(o<0||o>=900)throw new Z("incorect value");const a=ee.VALUES_TO_ECI.get(o);if(a===void 0)throw new Z("incorect value");return a}static getCharacterSetECIByName(o){const a=ee.NAME_TO_ECI.get(o);if(a===void 0)throw new Z("incorect value");return a}equals(o){if(!(o instanceof ee))return!1;const a=o;return this.getName()===a.getName()}}ee.VALUE_IDENTIFIER_TO_ECI=new Map,ee.VALUES_TO_ECI=new Map,ee.NAME_TO_ECI=new Map,ee.Cp437=new ee(ae.Cp437,Int32Array.from([0,2]),"Cp437"),ee.ISO8859_1=new ee(ae.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),ee.ISO8859_2=new ee(ae.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),ee.ISO8859_3=new ee(ae.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),ee.ISO8859_4=new ee(ae.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),ee.ISO8859_5=new ee(ae.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),ee.ISO8859_6=new ee(ae.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),ee.ISO8859_7=new ee(ae.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),ee.ISO8859_8=new ee(ae.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),ee.ISO8859_9=new ee(ae.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),ee.ISO8859_10=new ee(ae.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),ee.ISO8859_11=new ee(ae.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),ee.ISO8859_13=new ee(ae.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),ee.ISO8859_14=new ee(ae.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),ee.ISO8859_15=new ee(ae.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),ee.ISO8859_16=new ee(ae.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),ee.SJIS=new ee(ae.SJIS,20,"SJIS","Shift_JIS"),ee.Cp1250=new ee(ae.Cp1250,21,"Cp1250","windows-1250"),ee.Cp1251=new ee(ae.Cp1251,22,"Cp1251","windows-1251"),ee.Cp1252=new ee(ae.Cp1252,23,"Cp1252","windows-1252"),ee.Cp1256=new ee(ae.Cp1256,24,"Cp1256","windows-1256"),ee.UnicodeBigUnmarked=new ee(ae.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),ee.UTF8=new ee(ae.UTF8,26,"UTF8","UTF-8"),ee.ASCII=new ee(ae.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),ee.Big5=new ee(ae.Big5,28,"Big5"),ee.GB18030=new ee(ae.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),ee.EUC_KR=new ee(ae.EUC_KR,30,"EUC_KR","EUC-KR");class Me extends y{}Me.kind="UnsupportedOperationException";class Re{static decode(o,a){const c=this.encodingName(a);return this.customDecoder?this.customDecoder(o,c):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(c)?this.decodeFallback(o,c):new TextDecoder(c).decode(o)}static shouldDecodeOnFallback(o){return!Re.isBrowser()&&o==="ISO-8859-1"}static encode(o,a){const c=this.encodingName(a);return this.customEncoder?this.customEncoder(o,c):typeof TextEncoder>"u"?this.encodeFallback(o):new TextEncoder().encode(o)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(o){return typeof o=="string"?o:o.getName()}static encodingCharacterSet(o){return o instanceof ee?o:ee.getCharacterSetECIByName(o)}static decodeFallback(o,a){const c=this.encodingCharacterSet(a);if(Re.isDecodeFallbackSupported(c)){let d="";for(let h=0,C=o.length;h<C;h++){let E=o[h].toString(16);E.length<2&&(E="0"+E),d+="%"+E}return decodeURIComponent(d)}if(c.equals(ee.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(o.buffer));throw new Me(`Encoding ${this.encodingName(a)} not supported by fallback.`)}static isDecodeFallbackSupported(o){return o.equals(ee.UTF8)||o.equals(ee.ISO8859_1)||o.equals(ee.ASCII)}static encodeFallback(o){const c=btoa(unescape(encodeURIComponent(o))).split(""),d=[];for(let h=0;h<c.length;h++)d.push(c[h].charCodeAt(0));return new Uint8Array(d)}}class Te{static castAsNonUtf8Char(o,a=null){const c=a?a.getName():this.ISO88591;return Re.decode(new Uint8Array([o]),c)}static guessEncoding(o,a){if(a!=null&&a.get(oe.CHARACTER_SET)!==void 0)return a.get(oe.CHARACTER_SET).toString();const c=o.length;let d=!0,h=!0,C=!0,E=0,S=0,N=0,R=0,U=0,V=0,X=0,J=0,$=0,le=0,ge=0;const Ne=o.length>3&&o[0]===239&&o[1]===187&&o[2]===191;for(let Ie=0;Ie<c&&(d||h||C);Ie++){const _e=o[Ie]&255;C&&(E>0?(_e&128)===0?C=!1:E--:(_e&128)!==0&&((_e&64)===0?C=!1:(E++,(_e&32)===0?S++:(E++,(_e&16)===0?N++:(E++,(_e&8)===0?R++:C=!1))))),d&&(_e>127&&_e<160?d=!1:_e>159&&(_e<192||_e===215||_e===247)&&ge++),h&&(U>0?_e<64||_e===127||_e>252?h=!1:U--:_e===128||_e===160||_e>239?h=!1:_e>160&&_e<224?(V++,J=0,X++,X>$&&($=X)):_e>127?(U++,X=0,J++,J>le&&(le=J)):(X=0,J=0))}return C&&E>0&&(C=!1),h&&U>0&&(h=!1),C&&(Ne||S+N+R>0)?Te.UTF8:h&&(Te.ASSUME_SHIFT_JIS||$>=3||le>=3)?Te.SHIFT_JIS:d&&h?$===2&&V===2||ge*10>=c?Te.SHIFT_JIS:Te.ISO88591:d?Te.ISO88591:h?Te.SHIFT_JIS:C?Te.UTF8:Te.PLATFORM_DEFAULT_ENCODING}static format(o,...a){let c=-1;function d(C,E,S,N,R,U){if(C==="%%")return"%";if(a[++c]===void 0)return;C=N?parseInt(N.substr(1)):void 0;let V=R?parseInt(R.substr(1)):void 0,X;switch(U){case"s":X=a[c];break;case"c":X=a[c][0];break;case"f":X=parseFloat(a[c]).toFixed(C);break;case"p":X=parseFloat(a[c]).toPrecision(C);break;case"e":X=parseFloat(a[c]).toExponential(C);break;case"x":X=parseInt(a[c]).toString(V||16);break;case"d":X=parseFloat(parseInt(a[c],V||10).toPrecision(C)).toFixed(0);break}X=typeof X=="object"?JSON.stringify(X):(+X).toString(V);let J=parseInt(S),$=S&&S[0]+""=="0"?"0":" ";for(;X.length<J;)X=E!==void 0?X+$:$+X;return X}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(h,d)}static getBytes(o,a){return Re.encode(o,a)}static getCharCode(o,a=0){return o.charCodeAt(a)}static getCharAt(o){return String.fromCharCode(o)}}Te.SHIFT_JIS=ee.SJIS.getName(),Te.GB2312="GB2312",Te.ISO88591=ee.ISO8859_1.getName(),Te.EUC_JP="EUC_JP",Te.UTF8=ee.UTF8.getName(),Te.PLATFORM_DEFAULT_ENCODING=Te.UTF8,Te.ASSUME_SHIFT_JIS=!1;class Be{constructor(o=""){this.value=o}enableDecoding(o){return this.encoding=o,this}append(o){return typeof o=="string"?this.value+=o.toString():this.encoding?this.value+=Te.castAsNonUtf8Char(o,this.encoding):this.value+=String.fromCharCode(o),this}appendChars(o,a,c){for(let d=a;a<a+c;d++)this.append(o[d]);return this}length(){return this.value.length}charAt(o){return this.value.charAt(o)}deleteCharAt(o){this.value=this.value.substr(0,o)+this.value.substring(o+1)}setCharAt(o,a){this.value=this.value.substr(0,o)+a+this.value.substr(o+1)}substring(o,a){return this.value.substring(o,a)}setLengthToZero(){this.value=""}toString(){return this.value}insert(o,a){this.value=this.value.substr(0,o)+a+this.value.substr(o+a.length)}}class qe{constructor(o,a,c,d){if(this.width=o,this.height=a,this.rowSize=c,this.bits=d,a==null&&(a=o),this.height=a,o<1||a<1)throw new _("Both dimensions must be greater than 0");c==null&&(c=Math.floor((o+31)/32)),this.rowSize=c,d==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(o){const a=o.length,c=o[0].length,d=new qe(c,a);for(let h=0;h<a;h++){const C=o[h];for(let E=0;E<c;E++)C[E]&&d.set(E,h)}return d}static parseFromString(o,a,c){if(o===null)throw new _("stringRepresentation cannot be null");const d=new Array(o.length);let h=0,C=0,E=-1,S=0,N=0;for(;N<o.length;)if(o.charAt(N)===`
`||o.charAt(N)==="\r"){if(h>C){if(E===-1)E=h-C;else if(h-C!==E)throw new _("row lengths do not match");C=h,S++}N++}else if(o.substring(N,N+a.length)===a)N+=a.length,d[h]=!0,h++;else if(o.substring(N,N+c.length)===c)N+=c.length,d[h]=!1,h++;else throw new _("illegal character encountered: "+o.substring(N));if(h>C){if(E===-1)E=h-C;else if(h-C!==E)throw new _("row lengths do not match");S++}const R=new qe(E,S);for(let U=0;U<h;U++)d[U]&&R.set(Math.floor(U%E),Math.floor(U/E));return R}get(o,a){const c=a*this.rowSize+Math.floor(o/32);return(this.bits[c]>>>(o&31)&1)!==0}set(o,a){const c=a*this.rowSize+Math.floor(o/32);this.bits[c]|=1<<(o&31)&4294967295}unset(o,a){const c=a*this.rowSize+Math.floor(o/32);this.bits[c]&=~(1<<(o&31)&4294967295)}flip(o,a){const c=a*this.rowSize+Math.floor(o/32);this.bits[c]^=1<<(o&31)&4294967295}xor(o){if(this.width!==o.getWidth()||this.height!==o.getHeight()||this.rowSize!==o.getRowSize())throw new _("input matrix dimensions do not match");const a=new K(Math.floor(this.width/32)+1),c=this.rowSize,d=this.bits;for(let h=0,C=this.height;h<C;h++){const E=h*c,S=o.getRow(h,a).getBitArray();for(let N=0;N<c;N++)d[E+N]^=S[N]}}clear(){const o=this.bits,a=o.length;for(let c=0;c<a;c++)o[c]=0}setRegion(o,a,c,d){if(a<0||o<0)throw new _("Left and top must be nonnegative");if(d<1||c<1)throw new _("Height and width must be at least 1");const h=o+c,C=a+d;if(C>this.height||h>this.width)throw new _("The region must fit inside the matrix");const E=this.rowSize,S=this.bits;for(let N=a;N<C;N++){const R=N*E;for(let U=o;U<h;U++)S[R+Math.floor(U/32)]|=1<<(U&31)&4294967295}}getRow(o,a){a==null||a.getSize()<this.width?a=new K(this.width):a.clear();const c=this.rowSize,d=this.bits,h=o*c;for(let C=0;C<c;C++)a.setBulk(C*32,d[h+C]);return a}setRow(o,a){D.arraycopy(a.getBitArray(),0,this.bits,o*this.rowSize,this.rowSize)}rotate180(){const o=this.getWidth(),a=this.getHeight();let c=new K(o),d=new K(o);for(let h=0,C=Math.floor((a+1)/2);h<C;h++)c=this.getRow(h,c),d=this.getRow(a-1-h,d),c.reverse(),d.reverse(),this.setRow(h,d),this.setRow(a-1-h,c)}getEnclosingRectangle(){const o=this.width,a=this.height,c=this.rowSize,d=this.bits;let h=o,C=a,E=-1,S=-1;for(let N=0;N<a;N++)for(let R=0;R<c;R++){const U=d[N*c+R];if(U!==0){if(N<C&&(C=N),N>S&&(S=N),R*32<h){let V=0;for(;(U<<31-V&4294967295)===0;)V++;R*32+V<h&&(h=R*32+V)}if(R*32+31>E){let V=31;for(;!(U>>>V);)V--;R*32+V>E&&(E=R*32+V)}}}return E<h||S<C?null:Int32Array.from([h,C,E-h+1,S-C+1])}getTopLeftOnBit(){const o=this.rowSize,a=this.bits;let c=0;for(;c<a.length&&a[c]===0;)c++;if(c===a.length)return null;const d=c/o;let h=c%o*32;const C=a[c];let E=0;for(;(C<<31-E&4294967295)===0;)E++;return h+=E,Int32Array.from([h,d])}getBottomRightOnBit(){const o=this.rowSize,a=this.bits;let c=a.length-1;for(;c>=0&&a[c]===0;)c--;if(c<0)return null;const d=Math.floor(c/o);let h=Math.floor(c%o)*32;const C=a[c];let E=31;for(;!(C>>>E);)E--;return h+=E,Int32Array.from([h,d])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(o){if(!(o instanceof qe))return!1;const a=o;return this.width===a.width&&this.height===a.height&&this.rowSize===a.rowSize&&q.equals(this.bits,a.bits)}hashCode(){let o=this.width;return o=31*o+this.width,o=31*o+this.height,o=31*o+this.rowSize,o=31*o+q.hashCode(this.bits),o}toString(o="X ",a="  ",c=`
`){return this.buildToString(o,a,c)}buildToString(o,a,c){let d=new Be;for(let h=0,C=this.height;h<C;h++){for(let E=0,S=this.width;E<S;E++)d.append(this.get(E,h)?o:a);d.append(c)}return d.toString()}clone(){return new qe(this.width,this.height,this.rowSize,this.bits.slice())}}class re extends y{static getNotFoundInstance(){return new re}}re.kind="NotFoundException";class ne extends P{constructor(o){super(o),this.luminances=ne.EMPTY,this.buckets=new Int32Array(ne.LUMINANCE_BUCKETS)}getBlackRow(o,a){const c=this.getLuminanceSource(),d=c.getWidth();a==null||a.getSize()<d?a=new K(d):a.clear(),this.initArrays(d);const h=c.getRow(o,this.luminances),C=this.buckets;for(let S=0;S<d;S++)C[(h[S]&255)>>ne.LUMINANCE_SHIFT]++;const E=ne.estimateBlackPoint(C);if(d<3)for(let S=0;S<d;S++)(h[S]&255)<E&&a.set(S);else{let S=h[0]&255,N=h[1]&255;for(let R=1;R<d-1;R++){const U=h[R+1]&255;(N*4-S-U)/2<E&&a.set(R),S=N,N=U}}return a}getBlackMatrix(){const o=this.getLuminanceSource(),a=o.getWidth(),c=o.getHeight(),d=new qe(a,c);this.initArrays(a);const h=this.buckets;for(let S=1;S<5;S++){const N=Math.floor(c*S/5),R=o.getRow(N,this.luminances),U=Math.floor(a*4/5);for(let V=Math.floor(a/5);V<U;V++){const X=R[V]&255;h[X>>ne.LUMINANCE_SHIFT]++}}const C=ne.estimateBlackPoint(h),E=o.getMatrix();for(let S=0;S<c;S++){const N=S*a;for(let R=0;R<a;R++)(E[N+R]&255)<C&&d.set(R,S)}return d}createBinarizer(o){return new ne(o)}initArrays(o){this.luminances.length<o&&(this.luminances=new Uint8ClampedArray(o));const a=this.buckets;for(let c=0;c<ne.LUMINANCE_BUCKETS;c++)a[c]=0}static estimateBlackPoint(o){const a=o.length;let c=0,d=0,h=0;for(let R=0;R<a;R++)o[R]>h&&(d=R,h=o[R]),o[R]>c&&(c=o[R]);let C=0,E=0;for(let R=0;R<a;R++){const U=R-d,V=o[R]*U*U;V>E&&(C=R,E=V)}if(d>C){const R=d;d=C,C=R}if(C-d<=a/16)throw new re;let S=C-1,N=-1;for(let R=C-1;R>d;R--){const U=R-d,V=U*U*(C-R)*(c-o[R]);V>N&&(S=R,N=V)}return S<<ne.LUMINANCE_SHIFT}}ne.LUMINANCE_BITS=5,ne.LUMINANCE_SHIFT=8-ne.LUMINANCE_BITS,ne.LUMINANCE_BUCKETS=1<<ne.LUMINANCE_BITS,ne.EMPTY=Uint8ClampedArray.from([0]);class he extends ne{constructor(o){super(o),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const o=this.getLuminanceSource(),a=o.getWidth(),c=o.getHeight();if(a>=he.MINIMUM_DIMENSION&&c>=he.MINIMUM_DIMENSION){const d=o.getMatrix();let h=a>>he.BLOCK_SIZE_POWER;(a&he.BLOCK_SIZE_MASK)!==0&&h++;let C=c>>he.BLOCK_SIZE_POWER;(c&he.BLOCK_SIZE_MASK)!==0&&C++;const E=he.calculateBlackPoints(d,h,C,a,c),S=new qe(a,c);he.calculateThresholdForBlock(d,h,C,a,c,E,S),this.matrix=S}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(o){return new he(o)}static calculateThresholdForBlock(o,a,c,d,h,C,E){const S=h-he.BLOCK_SIZE,N=d-he.BLOCK_SIZE;for(let R=0;R<c;R++){let U=R<<he.BLOCK_SIZE_POWER;U>S&&(U=S);const V=he.cap(R,2,c-3);for(let X=0;X<a;X++){let J=X<<he.BLOCK_SIZE_POWER;J>N&&(J=N);const $=he.cap(X,2,a-3);let le=0;for(let Ne=-2;Ne<=2;Ne++){const Ie=C[V+Ne];le+=Ie[$-2]+Ie[$-1]+Ie[$]+Ie[$+1]+Ie[$+2]}const ge=le/25;he.thresholdBlock(o,J,U,ge,d,E)}}}static cap(o,a,c){return o<a?a:o>c?c:o}static thresholdBlock(o,a,c,d,h,C){for(let E=0,S=c*h+a;E<he.BLOCK_SIZE;E++,S+=h)for(let N=0;N<he.BLOCK_SIZE;N++)(o[S+N]&255)<=d&&C.set(a+N,c+E)}static calculateBlackPoints(o,a,c,d,h){const C=h-he.BLOCK_SIZE,E=d-he.BLOCK_SIZE,S=new Array(c);for(let N=0;N<c;N++){S[N]=new Int32Array(a);let R=N<<he.BLOCK_SIZE_POWER;R>C&&(R=C);for(let U=0;U<a;U++){let V=U<<he.BLOCK_SIZE_POWER;V>E&&(V=E);let X=0,J=255,$=0;for(let ge=0,Ne=R*d+V;ge<he.BLOCK_SIZE;ge++,Ne+=d){for(let Ie=0;Ie<he.BLOCK_SIZE;Ie++){const _e=o[Ne+Ie]&255;X+=_e,_e<J&&(J=_e),_e>$&&($=_e)}if($-J>he.MIN_DYNAMIC_RANGE)for(ge++,Ne+=d;ge<he.BLOCK_SIZE;ge++,Ne+=d)for(let Ie=0;Ie<he.BLOCK_SIZE;Ie++)X+=o[Ne+Ie]&255}let le=X>>he.BLOCK_SIZE_POWER*2;if($-J<=he.MIN_DYNAMIC_RANGE&&(le=J/2,N>0&&U>0)){const ge=(S[N-1][U]+2*S[N][U-1]+S[N-1][U-1])/4;J<ge&&(le=ge)}S[N][U]=le}}return S}}he.BLOCK_SIZE_POWER=3,he.BLOCK_SIZE=1<<he.BLOCK_SIZE_POWER,he.BLOCK_SIZE_MASK=he.BLOCK_SIZE-1,he.MINIMUM_DIMENSION=he.BLOCK_SIZE*5,he.MIN_DYNAMIC_RANGE=24;class ie{constructor(o,a){this.width=o,this.height=a}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(o,a,c,d){throw new Me("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Me("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Me("This luminance source does not support rotation by 45 degrees.")}toString(){const o=new Uint8ClampedArray(this.width);let a=new Be;for(let c=0;c<this.height;c++){const d=this.getRow(c,o);for(let h=0;h<this.width;h++){const C=d[h]&255;let E;C<64?E="#":C<128?E="+":C<192?E=".":E=" ",a.append(E)}a.append(`
`)}return a.toString()}}class De extends ie{constructor(o){super(o.getWidth(),o.getHeight()),this.delegate=o}getRow(o,a){const c=this.delegate.getRow(o,a),d=this.getWidth();for(let h=0;h<d;h++)c[h]=255-(c[h]&255);return c}getMatrix(){const o=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),c=new Uint8ClampedArray(a);for(let d=0;d<a;d++)c[d]=255-(o[d]&255);return c}isCropSupported(){return this.delegate.isCropSupported()}crop(o,a,c,d){return new De(this.delegate.crop(o,a,c,d))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new De(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new De(this.delegate.rotateCounterClockwise45())}}class j extends ie{constructor(o){super(o.width,o.height),this.canvas=o,this.tempCanvasElement=null,this.buffer=j.makeBufferFromCanvasImageData(o)}static makeBufferFromCanvasImageData(o){const a=o.getContext("2d").getImageData(0,0,o.width,o.height);return j.toGrayscaleBuffer(a.data,o.width,o.height)}static toGrayscaleBuffer(o,a,c){const d=new Uint8ClampedArray(a*c);for(let h=0,C=0,E=o.length;h<E;h+=4,C++){let S;if(o[h+3]===0)S=255;else{const R=o[h],U=o[h+1],V=o[h+2];S=306*R+601*U+117*V+512>>10}d[C]=S}return d}getRow(o,a){if(o<0||o>=this.getHeight())throw new _("Requested row is outside the image: "+o);const c=this.getWidth(),d=o*c;return a===null?a=this.buffer.slice(d,d+c):(a.length<c&&(a=new Uint8ClampedArray(c)),a.set(this.buffer.slice(d,d+c))),a}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(o,a,c,d){return super.crop(o,a,c,d),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const o=this.canvas.ownerDocument.createElement("canvas");o.width=this.canvas.width,o.height=this.canvas.height,this.tempCanvasElement=o}return this.tempCanvasElement}rotate(o){const a=this.getTempCanvasElement(),c=a.getContext("2d"),d=o*j.DEGREE_TO_RADIANS,h=this.canvas.width,C=this.canvas.height,E=Math.ceil(Math.abs(Math.cos(d))*h+Math.abs(Math.sin(d))*C),S=Math.ceil(Math.abs(Math.sin(d))*h+Math.abs(Math.cos(d))*C);return a.width=E,a.height=S,c.translate(E/2,S/2),c.rotate(d),c.drawImage(this.canvas,h/-2,C/-2),this.buffer=j.makeBufferFromCanvasImageData(a),this}invert(){return new De(this)}}j.DEGREE_TO_RADIANS=Math.PI/180;class xe{constructor(o,a,c){this.deviceId=o,this.label=a,this.kind="videoinput",this.groupId=c||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ee=(globalThis||Ju||self||window||void 0)&&(globalThis||Ju||self||window||void 0).__awaiter||function(k,o,a,c){function d(h){return h instanceof a?h:new a(function(C){C(h)})}return new(a||(a=Promise))(function(h,C){function E(R){try{N(c.next(R))}catch(U){C(U)}}function S(R){try{N(c.throw(R))}catch(U){C(U)}}function N(R){R.done?h(R.value):d(R.value).then(E,S)}N((c=c.apply(k,o||[])).next())})};class Se{constructor(o,a=500,c){this.reader=o,this.timeBetweenScansMillis=a,this._hints=c,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(o){this._timeBetweenDecodingAttempts=o<0?0:o}set hints(o){this._hints=o||null}get hints(){return this._hints}listVideoInputDevices(){return Ee(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const o=yield navigator.mediaDevices.enumerateDevices(),a=[];for(const c of o){const d=c.kind==="video"?"videoinput":c.kind;if(d!=="videoinput")continue;const h=c.deviceId||c.id,C=c.label||`Video device ${a.length+1}`,E=c.groupId,S={deviceId:h,label:C,kind:d,groupId:E};a.push(S)}return a})}getVideoInputDevices(){return Ee(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(a=>new xe(a.deviceId,a.label))})}findDeviceById(o){return Ee(this,void 0,void 0,function*(){const a=yield this.listVideoInputDevices();return a?a.find(c=>c.deviceId===o):null})}decodeFromInputVideoDevice(o,a){return Ee(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(o,a)})}decodeOnceFromVideoDevice(o,a){return Ee(this,void 0,void 0,function*(){this.reset();let c;o?c={deviceId:{exact:o}}:c={facingMode:"environment"};const d={video:c};return yield this.decodeOnceFromConstraints(d,a)})}decodeOnceFromConstraints(o,a){return Ee(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeOnceFromStream(c,a)})}decodeOnceFromStream(o,a){return Ee(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(o,a);return yield this.decodeOnce(c)})}decodeFromInputVideoDeviceContinuously(o,a,c){return Ee(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(o,a,c)})}decodeFromVideoDevice(o,a,c){return Ee(this,void 0,void 0,function*(){let d;o?d={deviceId:{exact:o}}:d={facingMode:"environment"};const h={video:d};return yield this.decodeFromConstraints(h,a,c)})}decodeFromConstraints(o,a,c){return Ee(this,void 0,void 0,function*(){const d=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeFromStream(d,a,c)})}decodeFromStream(o,a,c){return Ee(this,void 0,void 0,function*(){this.reset();const d=yield this.attachStreamToVideo(o,a);return yield this.decodeContinuously(d,c)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(o,a){return Ee(this,void 0,void 0,function*(){const c=this.prepareVideoElement(a);return this.addVideoSource(c,o),this.videoElement=c,this.stream=o,yield this.playVideoOnLoadAsync(c),c})}playVideoOnLoadAsync(o){return new Promise((a,c)=>this.playVideoOnLoad(o,()=>a()))}playVideoOnLoad(o,a){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(o),o.addEventListener("ended",this.videoEndedListener),o.addEventListener("canplay",this.videoCanPlayListener),o.addEventListener("playing",a),this.tryPlayVideo(o)}isVideoPlaying(o){return o.currentTime>0&&!o.paused&&!o.ended&&o.readyState>2}tryPlayVideo(o){return Ee(this,void 0,void 0,function*(){if(this.isVideoPlaying(o)){console.warn("Trying to play video that is already playing.");return}try{yield o.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(o,a){const c=document.getElementById(o);if(!c)throw new T(`element with id '${o}' not found`);if(c.nodeName.toLowerCase()!==a.toLowerCase())throw new T(`element with id '${o}' must be an ${a} element`);return c}decodeFromImage(o,a){if(!o&&!a)throw new T("either imageElement with a src set or an url must be provided");return a&&!o?this.decodeFromImageUrl(a):this.decodeFromImageElement(o)}decodeFromVideo(o,a){if(!o&&!a)throw new T("Either an element with a src set or an URL must be provided");return a&&!o?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(o)}decodeFromVideoContinuously(o,a,c){if(o===void 0&&a===void 0)throw new T("Either an element with a src set or an URL must be provided");return a&&!o?this.decodeFromVideoUrlContinuously(a,c):this.decodeFromVideoElementContinuously(o,c)}decodeFromImageElement(o){if(!o)throw new T("An image element must be provided.");this.reset();const a=this.prepareImageElement(o);this.imageElement=a;let c;return this.isImageLoaded(a)?c=this.decodeOnce(a,!1,!0):c=this._decodeOnLoadImage(a),c}decodeFromVideoElement(o){const a=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideo(a)}decodeFromVideoElementContinuously(o,a){const c=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideoContinuously(c,a)}_decodeFromVideoElementSetup(o){if(!o)throw new T("A video element must be provided.");this.reset();const a=this.prepareVideoElement(o);return this.videoElement=a,a}decodeFromImageUrl(o){if(!o)throw new T("An URL must be provided.");this.reset();const a=this.prepareImageElement();this.imageElement=a;const c=this._decodeOnLoadImage(a);return a.src=o,c}decodeFromVideoUrl(o){if(!o)throw new T("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),c=this.decodeFromVideoElement(a);return a.src=o,c}decodeFromVideoUrlContinuously(o,a){if(!o)throw new T("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),d=this.decodeFromVideoElementContinuously(c,a);return c.src=o,d}_decodeOnLoadImage(o){return new Promise((a,c)=>{this.imageLoadedListener=()=>this.decodeOnce(o,!1,!0).then(a,c),o.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(o){return Ee(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(o),yield this.decodeOnce(o)})}_decodeOnLoadVideoContinuously(o,a){return Ee(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(o),this.decodeContinuously(o,a)})}isImageLoaded(o){return!(!o.complete||o.naturalWidth===0)}prepareImageElement(o){let a;return typeof o>"u"&&(a=document.createElement("img"),a.width=200,a.height=200),typeof o=="string"&&(a=this.getMediaElement(o,"img")),o instanceof HTMLImageElement&&(a=o),a}prepareVideoElement(o){let a;return!o&&typeof document<"u"&&(a=document.createElement("video"),a.width=200,a.height=200),typeof o=="string"&&(a=this.getMediaElement(o,"video")),o instanceof HTMLVideoElement&&(a=o),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a}decodeOnce(o,a=!0,c=!0){this._stopAsyncDecode=!1;const d=(h,C)=>{if(this._stopAsyncDecode){C(new re("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const E=this.decode(o);h(E)}catch(E){const S=a&&E instanceof re,R=(E instanceof O||E instanceof Z)&&c;if(S||R)return setTimeout(d,this._timeBetweenDecodingAttempts,h,C);C(E)}};return new Promise((h,C)=>d(h,C))}decodeContinuously(o,a){this._stopContinuousDecode=!1;const c=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const d=this.decode(o);a(d,null),setTimeout(c,this.timeBetweenScansMillis)}catch(d){a(null,d);const h=d instanceof O||d instanceof Z,C=d instanceof re;(h||C)&&setTimeout(c,this._timeBetweenDecodingAttempts)}};c()}decode(o){const a=this.createBinaryBitmap(o);return this.decodeBitmap(a)}_isHTMLVideoElement(o){return o.videoWidth!==0}drawFrameOnCanvas(o,a,c){a||(a={sx:0,sy:0,sWidth:o.videoWidth,sHeight:o.videoHeight,dx:0,dy:0,dWidth:o.videoWidth,dHeight:o.videoHeight}),c||(c=this.captureCanvasContext),c.drawImage(o,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}drawImageOnCanvas(o,a,c=this.captureCanvasContext){a||(a={sx:0,sy:0,sWidth:o.naturalWidth,sHeight:o.naturalHeight,dx:0,dy:0,dWidth:o.naturalWidth,dHeight:o.naturalHeight}),c||(c=this.captureCanvasContext),c.drawImage(o,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}createBinaryBitmap(o){this.getCaptureCanvasContext(o),this._isHTMLVideoElement(o)?this.drawFrameOnCanvas(o):this.drawImageOnCanvas(o);const a=this.getCaptureCanvas(o),c=new j(a),d=new he(c);return new I(d)}getCaptureCanvasContext(o){if(!this.captureCanvasContext){const c=this.getCaptureCanvas(o).getContext("2d");this.captureCanvasContext=c}return this.captureCanvasContext}getCaptureCanvas(o){if(!this.captureCanvas){const a=this.createCaptureCanvas(o);this.captureCanvas=a}return this.captureCanvas}decodeBitmap(o){return this.reader.decode(o,this._hints)}createCaptureCanvas(o){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const a=document.createElement("canvas");let c,d;return typeof o<"u"&&(o instanceof HTMLVideoElement?(c=o.videoWidth,d=o.videoHeight):o instanceof HTMLImageElement&&(c=o.naturalWidth||o.width,d=o.naturalHeight||o.height)),a.style.width=c+"px",a.style.height=d+"px",a.width=c,a.height=d,a}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(o=>o.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(o,a){try{o.srcObject=a}catch{o.src=URL.createObjectURL(a)}}cleanVideoSource(o){try{o.srcObject=null}catch{o.src=""}this.videoElement.removeAttribute("src")}}class Oe{constructor(o,a,c=a==null?0:8*a.length,d,h,C=D.currentTimeMillis()){this.text=o,this.rawBytes=a,this.numBits=c,this.resultPoints=d,this.format=h,this.timestamp=C,this.text=o,this.rawBytes=a,c==null?this.numBits=a==null?0:8*a.length:this.numBits=c,this.resultPoints=d,this.format=h,this.resultMetadata=null,C==null?this.timestamp=D.currentTimeMillis():this.timestamp=C}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(o,a){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(o,a)}putAllMetadata(o){o!==null&&(this.resultMetadata===null?this.resultMetadata=o:this.resultMetadata=new Map(o))}addResultPoints(o){const a=this.resultPoints;if(a===null)this.resultPoints=o;else if(o!==null&&o.length>0){const c=new Array(a.length+o.length);D.arraycopy(a,0,c,0,a.length),D.arraycopy(o,0,c,a.length,o.length),this.resultPoints=c}}getTimestamp(){return this.timestamp}toString(){return this.text}}var tt;(function(k){k[k.AZTEC=0]="AZTEC",k[k.CODABAR=1]="CODABAR",k[k.CODE_39=2]="CODE_39",k[k.CODE_93=3]="CODE_93",k[k.CODE_128=4]="CODE_128",k[k.DATA_MATRIX=5]="DATA_MATRIX",k[k.EAN_8=6]="EAN_8",k[k.EAN_13=7]="EAN_13",k[k.ITF=8]="ITF",k[k.MAXICODE=9]="MAXICODE",k[k.PDF_417=10]="PDF_417",k[k.QR_CODE=11]="QR_CODE",k[k.RSS_14=12]="RSS_14",k[k.RSS_EXPANDED=13]="RSS_EXPANDED",k[k.UPC_A=14]="UPC_A",k[k.UPC_E=15]="UPC_E",k[k.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(tt||(tt={}));var be=tt,Pe;(function(k){k[k.OTHER=0]="OTHER",k[k.ORIENTATION=1]="ORIENTATION",k[k.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",k[k.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",k[k.ISSUE_NUMBER=4]="ISSUE_NUMBER",k[k.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",k[k.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",k[k.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",k[k.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",k[k.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",k[k.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Pe||(Pe={}));var ke=Pe;class Ct{constructor(o,a,c,d,h=-1,C=-1){this.rawBytes=o,this.text=a,this.byteSegments=c,this.ecLevel=d,this.structuredAppendSequenceNumber=h,this.structuredAppendParity=C,this.numBits=o==null?0:8*o.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(o){this.numBits=o}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(o){this.errorsCorrected=o}getErasures(){return this.erasures}setErasures(o){this.erasures=o}getOther(){return this.other}setOther(o){this.other=o}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class lt{exp(o){return this.expTable[o]}log(o){if(o===0)throw new _;return this.logTable[o]}static addOrSubtract(o,a){return o^a}}class Qe{constructor(o,a){if(a.length===0)throw new _;this.field=o;const c=a.length;if(c>1&&a[0]===0){let d=1;for(;d<c&&a[d]===0;)d++;d===c?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(c-d),D.arraycopy(a,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);const a=this.coefficients;let c;if(o===1){c=0;for(let C=0,E=a.length;C!==E;C++){const S=a[C];c=lt.addOrSubtract(c,S)}return c}c=a[0];const d=a.length,h=this.field;for(let C=1;C<d;C++)c=lt.addOrSubtract(h.multiply(o,c),a[C]);return c}addOrSubtract(o){if(!this.field.equals(o.field))throw new _("GenericGFPolys do not have same GenericGF field");if(this.isZero())return o;if(o.isZero())return this;let a=this.coefficients,c=o.coefficients;if(a.length>c.length){const C=a;a=c,c=C}let d=new Int32Array(c.length);const h=c.length-a.length;D.arraycopy(c,0,d,0,h);for(let C=h;C<c.length;C++)d[C]=lt.addOrSubtract(a[C-h],c[C]);return new Qe(this.field,d)}multiply(o){if(!this.field.equals(o.field))throw new _("GenericGFPolys do not have same GenericGF field");if(this.isZero()||o.isZero())return this.field.getZero();const a=this.coefficients,c=a.length,d=o.coefficients,h=d.length,C=new Int32Array(c+h-1),E=this.field;for(let S=0;S<c;S++){const N=a[S];for(let R=0;R<h;R++)C[S+R]=lt.addOrSubtract(C[S+R],E.multiply(N,d[R]))}return new Qe(E,C)}multiplyScalar(o){if(o===0)return this.field.getZero();if(o===1)return this;const a=this.coefficients.length,c=this.field,d=new Int32Array(a),h=this.coefficients;for(let C=0;C<a;C++)d[C]=c.multiply(h[C],o);return new Qe(c,d)}multiplyByMonomial(o,a){if(o<0)throw new _;if(a===0)return this.field.getZero();const c=this.coefficients,d=c.length,h=new Int32Array(d+o),C=this.field;for(let E=0;E<d;E++)h[E]=C.multiply(c[E],a);return new Qe(C,h)}divide(o){if(!this.field.equals(o.field))throw new _("GenericGFPolys do not have same GenericGF field");if(o.isZero())throw new _("Divide by 0");const a=this.field;let c=a.getZero(),d=this;const h=o.getCoefficient(o.getDegree()),C=a.inverse(h);for(;d.getDegree()>=o.getDegree()&&!d.isZero();){const E=d.getDegree()-o.getDegree(),S=a.multiply(d.getCoefficient(d.getDegree()),C),N=o.multiplyByMonomial(E,S),R=a.buildMonomial(E,S);c=c.addOrSubtract(R),d=d.addOrSubtract(N)}return[c,d]}toString(){let o="";for(let a=this.getDegree();a>=0;a--){let c=this.getCoefficient(a);if(c!==0){if(c<0?(o+=" - ",c=-c):o.length>0&&(o+=" + "),a===0||c!==1){const d=this.field.log(c);d===0?o+="1":d===1?o+="a":(o+="a^",o+=d)}a!==0&&(a===1?o+="x":(o+="x^",o+=a))}}return o}}class st extends y{}st.kind="ArithmeticException";class et extends lt{constructor(o,a,c){super(),this.primitive=o,this.size=a,this.generatorBase=c;const d=new Int32Array(a);let h=1;for(let E=0;E<a;E++)d[E]=h,h*=2,h>=a&&(h^=o,h&=a-1);this.expTable=d;const C=new Int32Array(a);for(let E=0;E<a-1;E++)C[d[E]]=E;this.logTable=C,this.zero=new Qe(this,Int32Array.from([0])),this.one=new Qe(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,a){if(o<0)throw new _;if(a===0)return this.zero;const c=new Int32Array(o+1);return c[0]=a,new Qe(this,c)}inverse(o){if(o===0)throw new st;return this.expTable[this.size-this.logTable[o]-1]}multiply(o,a){return o===0||a===0?0:this.expTable[(this.logTable[o]+this.logTable[a])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+H.toHexString(this.primitive)+","+this.size+")"}equals(o){return o===this}}et.AZTEC_DATA_12=new et(4201,4096,1),et.AZTEC_DATA_10=new et(1033,1024,1),et.AZTEC_DATA_6=new et(67,64,1),et.AZTEC_PARAM=new et(19,16,1),et.QR_CODE_FIELD_256=new et(285,256,0),et.DATA_MATRIX_FIELD_256=new et(301,256,1),et.AZTEC_DATA_8=et.DATA_MATRIX_FIELD_256,et.MAXICODE_FIELD_64=et.AZTEC_DATA_6;class wn extends y{}wn.kind="ReedSolomonException";class Gn extends y{}Gn.kind="IllegalStateException";class Mi{constructor(o){this.field=o}decode(o,a){const c=this.field,d=new Qe(c,o),h=new Int32Array(a);let C=!0;for(let X=0;X<a;X++){const J=d.evaluateAt(c.exp(X+c.getGeneratorBase()));h[h.length-1-X]=J,J!==0&&(C=!1)}if(C)return;const E=new Qe(c,h),S=this.runEuclideanAlgorithm(c.buildMonomial(a,1),E,a),N=S[0],R=S[1],U=this.findErrorLocations(N),V=this.findErrorMagnitudes(R,U);for(let X=0;X<U.length;X++){const J=o.length-1-c.log(U[X]);if(J<0)throw new wn("Bad error location");o[J]=et.addOrSubtract(o[J],V[X])}}runEuclideanAlgorithm(o,a,c){if(o.getDegree()<a.getDegree()){const X=o;o=a,a=X}const d=this.field;let h=o,C=a,E=d.getZero(),S=d.getOne();for(;C.getDegree()>=(c/2|0);){let X=h,J=E;if(h=C,E=S,h.isZero())throw new wn("r_{i-1} was zero");C=X;let $=d.getZero();const le=h.getCoefficient(h.getDegree()),ge=d.inverse(le);for(;C.getDegree()>=h.getDegree()&&!C.isZero();){const Ne=C.getDegree()-h.getDegree(),Ie=d.multiply(C.getCoefficient(C.getDegree()),ge);$=$.addOrSubtract(d.buildMonomial(Ne,Ie)),C=C.addOrSubtract(h.multiplyByMonomial(Ne,Ie))}if(S=$.multiply(E).addOrSubtract(J),C.getDegree()>=h.getDegree())throw new Gn("Division algorithm failed to reduce polynomial?")}const N=S.getCoefficient(0);if(N===0)throw new wn("sigmaTilde(0) was zero");const R=d.inverse(N),U=S.multiplyScalar(R),V=C.multiplyScalar(R);return[U,V]}findErrorLocations(o){const a=o.getDegree();if(a===1)return Int32Array.from([o.getCoefficient(1)]);const c=new Int32Array(a);let d=0;const h=this.field;for(let C=1;C<h.getSize()&&d<a;C++)o.evaluateAt(C)===0&&(c[d]=h.inverse(C),d++);if(d!==a)throw new wn("Error locator degree does not match number of roots");return c}findErrorMagnitudes(o,a){const c=a.length,d=new Int32Array(c),h=this.field;for(let C=0;C<c;C++){const E=h.inverse(a[C]);let S=1;for(let N=0;N<c;N++)if(C!==N){const R=h.multiply(a[N],E),U=(R&1)===0?R|1:R&-2;S=h.multiply(S,U)}d[C]=h.multiply(o.evaluateAt(E),h.inverse(S)),h.getGeneratorBase()!==0&&(d[C]=h.multiply(d[C],E))}return d}}var At;(function(k){k[k.UPPER=0]="UPPER",k[k.LOWER=1]="LOWER",k[k.MIXED=2]="MIXED",k[k.DIGIT=3]="DIGIT",k[k.PUNCT=4]="PUNCT",k[k.BINARY=5]="BINARY"})(At||(At={}));class Rt{decode(o){this.ddata=o;let a=o.getBits(),c=this.extractBits(a),d=this.correctBits(c),h=Rt.convertBoolArrayToByteArray(d),C=Rt.getEncodedData(d),E=new Ct(h,C,null,null);return E.setNumBits(d.length),E}static highLevelDecode(o){return this.getEncodedData(o)}static getEncodedData(o){let a=o.length,c=At.UPPER,d=At.UPPER,h="",C=0;for(;C<a;)if(d===At.BINARY){if(a-C<5)break;let E=Rt.readCode(o,C,5);if(C+=5,E===0){if(a-C<11)break;E=Rt.readCode(o,C,11)+31,C+=11}for(let S=0;S<E;S++){if(a-C<8){C=a;break}const N=Rt.readCode(o,C,8);h+=Te.castAsNonUtf8Char(N),C+=8}d=c}else{let E=d===At.DIGIT?4:5;if(a-C<E)break;let S=Rt.readCode(o,C,E);C+=E;let N=Rt.getCharacter(d,S);N.startsWith("CTRL_")?(c=d,d=Rt.getTable(N.charAt(5)),N.charAt(6)==="L"&&(c=d)):(h+=N,d=c)}return h}static getTable(o){switch(o){case"L":return At.LOWER;case"P":return At.PUNCT;case"M":return At.MIXED;case"D":return At.DIGIT;case"B":return At.BINARY;case"U":default:return At.UPPER}}static getCharacter(o,a){switch(o){case At.UPPER:return Rt.UPPER_TABLE[a];case At.LOWER:return Rt.LOWER_TABLE[a];case At.MIXED:return Rt.MIXED_TABLE[a];case At.PUNCT:return Rt.PUNCT_TABLE[a];case At.DIGIT:return Rt.DIGIT_TABLE[a];default:throw new Gn("Bad table")}}correctBits(o){let a,c;this.ddata.getNbLayers()<=2?(c=6,a=et.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(c=8,a=et.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(c=10,a=et.AZTEC_DATA_10):(c=12,a=et.AZTEC_DATA_12);let d=this.ddata.getNbDatablocks(),h=o.length/c;if(h<d)throw new Z;let C=o.length%c,E=new Int32Array(h);for(let V=0;V<h;V++,C+=c)E[V]=Rt.readCode(o,C,c);try{new Mi(a).decode(E,h-d)}catch(V){throw new Z(V)}let S=(1<<c)-1,N=0;for(let V=0;V<d;V++){let X=E[V];if(X===0||X===S)throw new Z;(X===1||X===S-1)&&N++}let R=new Array(d*c-N),U=0;for(let V=0;V<d;V++){let X=E[V];if(X===1||X===S-1)R.fill(X>1,U,U+c-1),U+=c-1;else for(let J=c-1;J>=0;--J)R[U++]=(X&1<<J)!==0}return R}extractBits(o){let a=this.ddata.isCompact(),c=this.ddata.getNbLayers(),d=(a?11:14)+c*4,h=new Int32Array(d),C=new Array(this.totalBitsInLayer(c,a));if(a)for(let E=0;E<h.length;E++)h[E]=E;else{let E=d+1+2*H.truncDivision(H.truncDivision(d,2)-1,15),S=d/2,N=H.truncDivision(E,2);for(let R=0;R<S;R++){let U=R+H.truncDivision(R,15);h[S-R-1]=N-U-1,h[S+R]=N+U+1}}for(let E=0,S=0;E<c;E++){let N=(c-E)*4+(a?9:12),R=E*2,U=d-1-R;for(let V=0;V<N;V++){let X=V*2;for(let J=0;J<2;J++)C[S+X+J]=o.get(h[R+J],h[R+V]),C[S+2*N+X+J]=o.get(h[R+V],h[U-J]),C[S+4*N+X+J]=o.get(h[U-J],h[U-V]),C[S+6*N+X+J]=o.get(h[U-V],h[R+J])}S+=N*8}return C}static readCode(o,a,c){let d=0;for(let h=a;h<a+c;h++)d<<=1,o[h]&&(d|=1);return d}static readByte(o,a){let c=o.length-a;return c>=8?Rt.readCode(o,a,8):Rt.readCode(o,a,c)<<8-c}static convertBoolArrayToByteArray(o){let a=new Uint8Array((o.length+7)/8);for(let c=0;c<a.length;c++)a[c]=Rt.readByte(o,8*c);return a}totalBitsInLayer(o,a){return((a?88:112)+16*o)*o}}Rt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Rt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Rt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Rt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Rt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ct{constructor(){}static round(o){return o===NaN?0:o<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:o>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:o+(o<0?-.5:.5)|0}static distance(o,a,c,d){const h=o-c,C=a-d;return Math.sqrt(h*h+C*C)}static sum(o){let a=0;for(let c=0,d=o.length;c!==d;c++){const h=o[c];a+=h}return a}}class gs{static floatToIntBits(o){return o}}gs.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ve{constructor(o,a){this.x=o,this.y=a}getX(){return this.x}getY(){return this.y}equals(o){if(o instanceof Ve){const a=o;return this.x===a.x&&this.y===a.y}return!1}hashCode(){return 31*gs.floatToIntBits(this.x)+gs.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(o){const a=this.distance(o[0],o[1]),c=this.distance(o[1],o[2]),d=this.distance(o[0],o[2]);let h,C,E;if(c>=a&&c>=d?(C=o[0],h=o[1],E=o[2]):d>=c&&d>=a?(C=o[1],h=o[0],E=o[2]):(C=o[2],h=o[0],E=o[1]),this.crossProductZ(h,C,E)<0){const S=h;h=E,E=S}o[0]=h,o[1]=C,o[2]=E}static distance(o,a){return ct.distance(o.x,o.y,a.x,a.y)}static crossProductZ(o,a,c){const d=a.x,h=a.y;return(c.x-d)*(o.y-h)-(c.y-h)*(o.x-d)}}class $s{constructor(o,a){this.bits=o,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class Cl extends $s{constructor(o,a,c,d,h){super(o,a),this.compact=c,this.nbDatablocks=d,this.nbLayers=h}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class rr{constructor(o,a,c,d){this.image=o,this.height=o.getHeight(),this.width=o.getWidth(),a==null&&(a=rr.INIT_SIZE),c==null&&(c=o.getWidth()/2|0),d==null&&(d=o.getHeight()/2|0);const h=a/2|0;if(this.leftInit=c-h,this.rightInit=c+h,this.upInit=d-h,this.downInit=d+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new re}detect(){let o=this.leftInit,a=this.rightInit,c=this.upInit,d=this.downInit,h=!1,C=!0,E=!1,S=!1,N=!1,R=!1,U=!1;const V=this.width,X=this.height;for(;C;){C=!1;let J=!0;for(;(J||!S)&&a<V;)J=this.containsBlackPoint(c,d,a,!1),J?(a++,C=!0,S=!0):S||a++;if(a>=V){h=!0;break}let $=!0;for(;($||!N)&&d<X;)$=this.containsBlackPoint(o,a,d,!0),$?(d++,C=!0,N=!0):N||d++;if(d>=X){h=!0;break}let le=!0;for(;(le||!R)&&o>=0;)le=this.containsBlackPoint(c,d,o,!1),le?(o--,C=!0,R=!0):R||o--;if(o<0){h=!0;break}let ge=!0;for(;(ge||!U)&&c>=0;)ge=this.containsBlackPoint(o,a,c,!0),ge?(c--,C=!0,U=!0):U||c--;if(c<0){h=!0;break}C&&(E=!0)}if(!h&&E){const J=a-o;let $=null;for(let Ie=1;$===null&&Ie<J;Ie++)$=this.getBlackPointOnSegment(o,d-Ie,o+Ie,d);if($==null)throw new re;let le=null;for(let Ie=1;le===null&&Ie<J;Ie++)le=this.getBlackPointOnSegment(o,c+Ie,o+Ie,c);if(le==null)throw new re;let ge=null;for(let Ie=1;ge===null&&Ie<J;Ie++)ge=this.getBlackPointOnSegment(a,c+Ie,a-Ie,c);if(ge==null)throw new re;let Ne=null;for(let Ie=1;Ne===null&&Ie<J;Ie++)Ne=this.getBlackPointOnSegment(a,d-Ie,a-Ie,d);if(Ne==null)throw new re;return this.centerEdges(Ne,$,ge,le)}else throw new re}getBlackPointOnSegment(o,a,c,d){const h=ct.round(ct.distance(o,a,c,d)),C=(c-o)/h,E=(d-a)/h,S=this.image;for(let N=0;N<h;N++){const R=ct.round(o+N*C),U=ct.round(a+N*E);if(S.get(R,U))return new Ve(R,U)}return null}centerEdges(o,a,c,d){const h=o.getX(),C=o.getY(),E=a.getX(),S=a.getY(),N=c.getX(),R=c.getY(),U=d.getX(),V=d.getY(),X=rr.CORR;return h<this.width/2?[new Ve(U-X,V+X),new Ve(E+X,S+X),new Ve(N-X,R-X),new Ve(h+X,C-X)]:[new Ve(U+X,V+X),new Ve(E+X,S-X),new Ve(N-X,R+X),new Ve(h-X,C-X)]}containsBlackPoint(o,a,c,d){const h=this.image;if(d){for(let C=o;C<=a;C++)if(h.get(C,c))return!0}else for(let C=o;C<=a;C++)if(h.get(c,C))return!0;return!1}}rr.INIT_SIZE=10,rr.CORR=1;class vl{static checkAndNudgePoints(o,a){const c=o.getWidth(),d=o.getHeight();let h=!0;for(let C=0;C<a.length&&h;C+=2){const E=Math.floor(a[C]),S=Math.floor(a[C+1]);if(E<-1||E>c||S<-1||S>d)throw new re;h=!1,E===-1?(a[C]=0,h=!0):E===c&&(a[C]=c-1,h=!0),S===-1?(a[C+1]=0,h=!0):S===d&&(a[C+1]=d-1,h=!0)}h=!0;for(let C=a.length-2;C>=0&&h;C-=2){const E=Math.floor(a[C]),S=Math.floor(a[C+1]);if(E<-1||E>c||S<-1||S>d)throw new re;h=!1,E===-1?(a[C]=0,h=!0):E===c&&(a[C]=c-1,h=!0),S===-1?(a[C+1]=0,h=!0):S===d&&(a[C+1]=d-1,h=!0)}}}class Zn{constructor(o,a,c,d,h,C,E,S,N){this.a11=o,this.a21=a,this.a31=c,this.a12=d,this.a22=h,this.a32=C,this.a13=E,this.a23=S,this.a33=N}static quadrilateralToQuadrilateral(o,a,c,d,h,C,E,S,N,R,U,V,X,J,$,le){const ge=Zn.quadrilateralToSquare(o,a,c,d,h,C,E,S);return Zn.squareToQuadrilateral(N,R,U,V,X,J,$,le).times(ge)}transformPoints(o){const a=o.length,c=this.a11,d=this.a12,h=this.a13,C=this.a21,E=this.a22,S=this.a23,N=this.a31,R=this.a32,U=this.a33;for(let V=0;V<a;V+=2){const X=o[V],J=o[V+1],$=h*X+S*J+U;o[V]=(c*X+C*J+N)/$,o[V+1]=(d*X+E*J+R)/$}}transformPointsWithValues(o,a){const c=this.a11,d=this.a12,h=this.a13,C=this.a21,E=this.a22,S=this.a23,N=this.a31,R=this.a32,U=this.a33,V=o.length;for(let X=0;X<V;X++){const J=o[X],$=a[X],le=h*J+S*$+U;o[X]=(c*J+C*$+N)/le,a[X]=(d*J+E*$+R)/le}}static squareToQuadrilateral(o,a,c,d,h,C,E,S){const N=o-c+h-E,R=a-d+C-S;if(N===0&&R===0)return new Zn(c-o,h-c,o,d-a,C-d,a,0,0,1);{const U=c-h,V=E-h,X=d-C,J=S-C,$=U*J-V*X,le=(N*J-V*R)/$,ge=(U*R-N*X)/$;return new Zn(c-o+le*c,E-o+ge*E,o,d-a+le*d,S-a+ge*S,a,le,ge,1)}}static quadrilateralToSquare(o,a,c,d,h,C,E,S){return Zn.squareToQuadrilateral(o,a,c,d,h,C,E,S).buildAdjoint()}buildAdjoint(){return new Zn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(o){return new Zn(this.a11*o.a11+this.a21*o.a12+this.a31*o.a13,this.a11*o.a21+this.a21*o.a22+this.a31*o.a23,this.a11*o.a31+this.a21*o.a32+this.a31*o.a33,this.a12*o.a11+this.a22*o.a12+this.a32*o.a13,this.a12*o.a21+this.a22*o.a22+this.a32*o.a23,this.a12*o.a31+this.a22*o.a32+this.a32*o.a33,this.a13*o.a11+this.a23*o.a12+this.a33*o.a13,this.a13*o.a21+this.a23*o.a22+this.a33*o.a23,this.a13*o.a31+this.a23*o.a32+this.a33*o.a33)}}class ni extends vl{sampleGrid(o,a,c,d,h,C,E,S,N,R,U,V,X,J,$,le,ge,Ne,Ie){const _e=Zn.quadrilateralToQuadrilateral(d,h,C,E,S,N,R,U,V,X,J,$,le,ge,Ne,Ie);return this.sampleGridWithTransform(o,a,c,_e)}sampleGridWithTransform(o,a,c,d){if(a<=0||c<=0)throw new re;const h=new qe(a,c),C=new Float32Array(2*a);for(let E=0;E<c;E++){const S=C.length,N=E+.5;for(let R=0;R<S;R+=2)C[R]=R/2+.5,C[R+1]=N;d.transformPoints(C),vl.checkAndNudgePoints(o,C);try{for(let R=0;R<S;R+=2)o.get(Math.floor(C[R]),Math.floor(C[R+1]))&&h.set(R/2,E)}catch{throw new re}}return h}}class Qn{static setGridSampler(o){Qn.gridSampler=o}static getInstance(){return Qn.gridSampler}}Qn.gridSampler=new ni;class Pt{constructor(o,a){this.x=o,this.y=a}toResultPoint(){return new Ve(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class zc{constructor(o){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=o}detect(){return this.detectMirror(!1)}detectMirror(o){let a=this.getMatrixCenter(),c=this.getBullsEyeCorners(a);if(o){let C=c[0];c[0]=c[2],c[2]=C}this.extractParameters(c);let d=this.sampleGrid(this.image,c[this.shift%4],c[(this.shift+1)%4],c[(this.shift+2)%4],c[(this.shift+3)%4]),h=this.getMatrixCornerPoints(c);return new Cl(d,h,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(o){if(!this.isValidPoint(o[0])||!this.isValidPoint(o[1])||!this.isValidPoint(o[2])||!this.isValidPoint(o[3]))throw new re;let a=2*this.nbCenterLayers,c=new Int32Array([this.sampleLine(o[0],o[1],a),this.sampleLine(o[1],o[2],a),this.sampleLine(o[2],o[3],a),this.sampleLine(o[3],o[0],a)]);this.shift=this.getRotation(c,a);let d=0;for(let C=0;C<4;C++){let E=c[(this.shift+C)%4];this.compact?(d<<=7,d+=E>>1&127):(d<<=10,d+=(E>>2&992)+(E>>1&31))}let h=this.getCorrectedParameterData(d,this.compact);this.compact?(this.nbLayers=(h>>6)+1,this.nbDataBlocks=(h&63)+1):(this.nbLayers=(h>>11)+1,this.nbDataBlocks=(h&2047)+1)}getRotation(o,a){let c=0;o.forEach((d,h,C)=>{let E=(d>>a-2<<1)+(d&1);c=(c<<3)+E}),c=((c&1)<<11)+(c>>1);for(let d=0;d<4;d++)if(H.bitCount(c^this.EXPECTED_CORNER_BITS[d])<=2)return d;throw new re}getCorrectedParameterData(o,a){let c,d;a?(c=7,d=2):(c=10,d=4);let h=c-d,C=new Int32Array(c);for(let S=c-1;S>=0;--S)C[S]=o&15,o>>=4;try{new Mi(et.AZTEC_PARAM).decode(C,h)}catch{throw new re}let E=0;for(let S=0;S<d;S++)E=(E<<4)+C[S];return E}getBullsEyeCorners(o){let a=o,c=o,d=o,h=o,C=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let U=this.getFirstDifferent(a,C,1,-1),V=this.getFirstDifferent(c,C,1,1),X=this.getFirstDifferent(d,C,-1,1),J=this.getFirstDifferent(h,C,-1,-1);if(this.nbCenterLayers>2){let $=this.distancePoint(J,U)*this.nbCenterLayers/(this.distancePoint(h,a)*(this.nbCenterLayers+2));if($<.75||$>1.25||!this.isWhiteOrBlackRectangle(U,V,X,J))break}a=U,c=V,d=X,h=J,C=!C}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new re;this.compact=this.nbCenterLayers===5;let E=new Ve(a.getX()+.5,a.getY()-.5),S=new Ve(c.getX()+.5,c.getY()+.5),N=new Ve(d.getX()-.5,d.getY()+.5),R=new Ve(h.getX()-.5,h.getY()-.5);return this.expandSquare([E,S,N,R],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let o,a,c,d;try{let E=new rr(this.image).detect();o=E[0],a=E[1],c=E[2],d=E[3]}catch{let S=this.image.getWidth()/2,N=this.image.getHeight()/2;o=this.getFirstDifferent(new Pt(S+7,N-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new Pt(S+7,N+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new Pt(S-7,N+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new Pt(S-7,N-7),!1,-1,-1).toResultPoint()}let h=ct.round((o.getX()+d.getX()+a.getX()+c.getX())/4),C=ct.round((o.getY()+d.getY()+a.getY()+c.getY())/4);try{let E=new rr(this.image,15,h,C).detect();o=E[0],a=E[1],c=E[2],d=E[3]}catch{o=this.getFirstDifferent(new Pt(h+7,C-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new Pt(h+7,C+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new Pt(h-7,C+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new Pt(h-7,C-7),!1,-1,-1).toResultPoint()}return h=ct.round((o.getX()+d.getX()+a.getX()+c.getX())/4),C=ct.round((o.getY()+d.getY()+a.getY()+c.getY())/4),new Pt(h,C)}getMatrixCornerPoints(o){return this.expandSquare(o,2*this.nbCenterLayers,this.getDimension())}sampleGrid(o,a,c,d,h){let C=Qn.getInstance(),E=this.getDimension(),S=E/2-this.nbCenterLayers,N=E/2+this.nbCenterLayers;return C.sampleGrid(o,E,E,S,S,N,S,N,N,S,N,a.getX(),a.getY(),c.getX(),c.getY(),d.getX(),d.getY(),h.getX(),h.getY())}sampleLine(o,a,c){let d=0,h=this.distanceResultPoint(o,a),C=h/c,E=o.getX(),S=o.getY(),N=C*(a.getX()-o.getX())/h,R=C*(a.getY()-o.getY())/h;for(let U=0;U<c;U++)this.image.get(ct.round(E+U*N),ct.round(S+U*R))&&(d|=1<<c-U-1);return d}isWhiteOrBlackRectangle(o,a,c,d){let h=3;o=new Pt(o.getX()-h,o.getY()+h),a=new Pt(a.getX()-h,a.getY()-h),c=new Pt(c.getX()+h,c.getY()-h),d=new Pt(d.getX()+h,d.getY()+h);let C=this.getColor(d,o);if(C===0)return!1;let E=this.getColor(o,a);return E!==C||(E=this.getColor(a,c),E!==C)?!1:(E=this.getColor(c,d),E===C)}getColor(o,a){let c=this.distancePoint(o,a),d=(a.getX()-o.getX())/c,h=(a.getY()-o.getY())/c,C=0,E=o.getX(),S=o.getY(),N=this.image.get(o.getX(),o.getY()),R=Math.ceil(c);for(let V=0;V<R;V++)E+=d,S+=h,this.image.get(ct.round(E),ct.round(S))!==N&&C++;let U=C/c;return U>.1&&U<.9?0:U<=.1===N?1:-1}getFirstDifferent(o,a,c,d){let h=o.getX()+c,C=o.getY()+d;for(;this.isValid(h,C)&&this.image.get(h,C)===a;)h+=c,C+=d;for(h-=c,C-=d;this.isValid(h,C)&&this.image.get(h,C)===a;)h+=c;for(h-=c;this.isValid(h,C)&&this.image.get(h,C)===a;)C+=d;return C-=d,new Pt(h,C)}expandSquare(o,a,c){let d=c/(2*a),h=o[0].getX()-o[2].getX(),C=o[0].getY()-o[2].getY(),E=(o[0].getX()+o[2].getX())/2,S=(o[0].getY()+o[2].getY())/2,N=new Ve(E+d*h,S+d*C),R=new Ve(E-d*h,S-d*C);h=o[1].getX()-o[3].getX(),C=o[1].getY()-o[3].getY(),E=(o[1].getX()+o[3].getX())/2,S=(o[1].getY()+o[3].getY())/2;let U=new Ve(E+d*h,S+d*C),V=new Ve(E-d*h,S-d*C);return[N,U,R,V]}isValid(o,a){return o>=0&&o<this.image.getWidth()&&a>0&&a<this.image.getHeight()}isValidPoint(o){let a=ct.round(o.getX()),c=ct.round(o.getY());return this.isValid(a,c)}distancePoint(o,a){return ct.distance(o.getX(),o.getY(),a.getX(),a.getY())}distanceResultPoint(o,a){return ct.distance(o.getX(),o.getY(),a.getX(),a.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(H.truncDivision(this.nbLayers-4,8)+1)+15}}class ea{decode(o,a=null){let c=null,d=new zc(o.getBlackMatrix()),h=null,C=null;try{let R=d.detectMirror(!1);h=R.getPoints(),this.reportFoundResultPoints(a,h),C=new Rt().decode(R)}catch(R){c=R}if(C==null)try{let R=d.detectMirror(!0);h=R.getPoints(),this.reportFoundResultPoints(a,h),C=new Rt().decode(R)}catch(R){throw c??R}let E=new Oe(C.getText(),C.getRawBytes(),C.getNumBits(),h,be.AZTEC,D.currentTimeMillis()),S=C.getByteSegments();S!=null&&E.putMetadata(ke.BYTE_SEGMENTS,S);let N=C.getECLevel();return N!=null&&E.putMetadata(ke.ERROR_CORRECTION_LEVEL,N),E}reportFoundResultPoints(o,a){if(o!=null){let c=o.get(oe.NEED_RESULT_POINT_CALLBACK);c!=null&&a.forEach((d,h,C)=>{c.foundPossibleResultPoint(d)})}}reset(){}}class ud extends Se{constructor(o=500){super(new ea,o)}}class nn{decode(o,a){try{return this.doDecode(o,a)}catch{if(a&&a.get(oe.TRY_HARDER)===!0&&o.isRotateSupported()){const h=o.rotateCounterClockwise(),C=this.doDecode(h,a),E=C.getResultMetadata();let S=270;E!==null&&E.get(ke.ORIENTATION)===!0&&(S=S+E.get(ke.ORIENTATION)%360),C.putMetadata(ke.ORIENTATION,S);const N=C.getResultPoints();if(N!==null){const R=h.getHeight();for(let U=0;U<N.length;U++)N[U]=new Ve(R-N[U].getY()-1,N[U].getX())}return C}else throw new re}}reset(){}doDecode(o,a){const c=o.getWidth(),d=o.getHeight();let h=new K(c);const C=a&&a.get(oe.TRY_HARDER)===!0,E=Math.max(1,d>>(C?8:5));let S;C?S=d:S=15;const N=Math.trunc(d/2);for(let R=0;R<S;R++){const U=Math.trunc((R+1)/2),V=(R&1)===0,X=N+E*(V?U:-U);if(X<0||X>=d)break;try{h=o.getBlackRow(X,h)}catch{continue}for(let J=0;J<2;J++){if(J===1&&(h.reverse(),a&&a.get(oe.NEED_RESULT_POINT_CALLBACK)===!0)){const $=new Map;a.forEach((le,ge)=>$.set(ge,le)),$.delete(oe.NEED_RESULT_POINT_CALLBACK),a=$}try{const $=this.decodeRow(X,h,a);if(J===1){$.putMetadata(ke.ORIENTATION,180);const le=$.getResultPoints();le!==null&&(le[0]=new Ve(c-le[0].getX()-1,le[0].getY()),le[1]=new Ve(c-le[1].getX()-1,le[1].getY()))}return $}catch{}}}throw new re}static recordPattern(o,a,c){const d=c.length;for(let N=0;N<d;N++)c[N]=0;const h=o.getSize();if(a>=h)throw new re;let C=!o.get(a),E=0,S=a;for(;S<h;){if(o.get(S)!==C)c[E]++;else{if(++E===d)break;c[E]=1,C=!C}S++}if(!(E===d||E===d-1&&S===h))throw new re}static recordPatternInReverse(o,a,c){let d=c.length,h=o.get(a);for(;a>0&&d>=0;)o.get(--a)!==h&&(d--,h=!h);if(d>=0)throw new re;nn.recordPattern(o,a+1,c)}static patternMatchVariance(o,a,c){const d=o.length;let h=0,C=0;for(let N=0;N<d;N++)h+=o[N],C+=a[N];if(h<C)return Number.POSITIVE_INFINITY;const E=h/C;c*=E;let S=0;for(let N=0;N<d;N++){const R=o[N],U=a[N]*E,V=R>U?R-U:U-R;if(V>c)return Number.POSITIVE_INFINITY;S+=V}return S/h}}class Le extends nn{static findStartPattern(o){const a=o.getSize(),c=o.getNextSet(0);let d=0,h=Int32Array.from([0,0,0,0,0,0]),C=c,E=!1;const S=6;for(let N=c;N<a;N++)if(o.get(N)!==E)h[d]++;else{if(d===S-1){let R=Le.MAX_AVG_VARIANCE,U=-1;for(let V=Le.CODE_START_A;V<=Le.CODE_START_C;V++){const X=nn.patternMatchVariance(h,Le.CODE_PATTERNS[V],Le.MAX_INDIVIDUAL_VARIANCE);X<R&&(R=X,U=V)}if(U>=0&&o.isRange(Math.max(0,C-(N-C)/2),C,!1))return Int32Array.from([C,N,U]);C+=h[0]+h[1],h=h.slice(2,h.length-1),h[d-1]=0,h[d]=0,d--}else d++;h[d]=1,E=!E}throw new re}static decodeCode(o,a,c){nn.recordPattern(o,c,a);let d=Le.MAX_AVG_VARIANCE,h=-1;for(let C=0;C<Le.CODE_PATTERNS.length;C++){const E=Le.CODE_PATTERNS[C],S=this.patternMatchVariance(a,E,Le.MAX_INDIVIDUAL_VARIANCE);S<d&&(d=S,h=C)}if(h>=0)return h;throw new re}decodeRow(o,a,c){const d=c&&c.get(oe.ASSUME_GS1)===!0,h=Le.findStartPattern(a),C=h[2];let E=0;const S=new Uint8Array(20);S[E++]=C;let N;switch(C){case Le.CODE_START_A:N=Le.CODE_CODE_A;break;case Le.CODE_START_B:N=Le.CODE_CODE_B;break;case Le.CODE_START_C:N=Le.CODE_CODE_C;break;default:throw new Z}let R=!1,U=!1,V="",X=h[0],J=h[1];const $=Int32Array.from([0,0,0,0,0,0]);let le=0,ge=0,Ne=C,Ie=0,_e=!0,ot=!1,it=!1;for(;!R;){const Or=U;switch(U=!1,le=ge,ge=Le.decodeCode(a,$,J),S[E++]=ge,ge!==Le.CODE_STOP&&(_e=!0),ge!==Le.CODE_STOP&&(Ie++,Ne+=Ie*ge),X=J,J+=$.reduce((Oi,Jc)=>Oi+Jc,0),ge){case Le.CODE_START_A:case Le.CODE_START_B:case Le.CODE_START_C:throw new Z}switch(N){case Le.CODE_CODE_A:if(ge<64)it===ot?V+=String.fromCharCode(32+ge):V+=String.fromCharCode(32+ge+128),it=!1;else if(ge<96)it===ot?V+=String.fromCharCode(ge-64):V+=String.fromCharCode(ge+64),it=!1;else switch(ge!==Le.CODE_STOP&&(_e=!1),ge){case Le.CODE_FNC_1:d&&(V.length===0?V+="]C1":V+="");break;case Le.CODE_FNC_2:case Le.CODE_FNC_3:break;case Le.CODE_FNC_4_A:!ot&&it?(ot=!0,it=!1):ot&&it?(ot=!1,it=!1):it=!0;break;case Le.CODE_SHIFT:U=!0,N=Le.CODE_CODE_B;break;case Le.CODE_CODE_B:N=Le.CODE_CODE_B;break;case Le.CODE_CODE_C:N=Le.CODE_CODE_C;break;case Le.CODE_STOP:R=!0;break}break;case Le.CODE_CODE_B:if(ge<96)it===ot?V+=String.fromCharCode(32+ge):V+=String.fromCharCode(32+ge+128),it=!1;else switch(ge!==Le.CODE_STOP&&(_e=!1),ge){case Le.CODE_FNC_1:d&&(V.length===0?V+="]C1":V+="");break;case Le.CODE_FNC_2:case Le.CODE_FNC_3:break;case Le.CODE_FNC_4_B:!ot&&it?(ot=!0,it=!1):ot&&it?(ot=!1,it=!1):it=!0;break;case Le.CODE_SHIFT:U=!0,N=Le.CODE_CODE_A;break;case Le.CODE_CODE_A:N=Le.CODE_CODE_A;break;case Le.CODE_CODE_C:N=Le.CODE_CODE_C;break;case Le.CODE_STOP:R=!0;break}break;case Le.CODE_CODE_C:if(ge<100)ge<10&&(V+="0"),V+=ge;else switch(ge!==Le.CODE_STOP&&(_e=!1),ge){case Le.CODE_FNC_1:d&&(V.length===0?V+="]C1":V+="");break;case Le.CODE_CODE_A:N=Le.CODE_CODE_A;break;case Le.CODE_CODE_B:N=Le.CODE_CODE_B;break;case Le.CODE_STOP:R=!0;break}break}Or&&(N=N===Le.CODE_CODE_A?Le.CODE_CODE_B:Le.CODE_CODE_A)}const Jn=J-X;if(J=a.getNextUnset(J),!a.isRange(J,Math.min(a.getSize(),J+(J-X)/2),!1))throw new re;if(Ne-=Ie*le,Ne%103!==le)throw new O;const Ei=V.length;if(Ei===0)throw new re;Ei>0&&_e&&(N===Le.CODE_CODE_C?V=V.substring(0,Ei-2):V=V.substring(0,Ei-1));const si=(h[1]+h[0])/2,Ut=X+Jn/2,Fn=S.length,ai=new Uint8Array(Fn);for(let Or=0;Or<Fn;Or++)ai[Or]=S[Or];const Qr=[new Ve(si,o),new Ve(Ut,o)];return new Oe(V,ai,0,Qr,be.CODE_128,new Date().getTime())}}Le.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Le.MAX_AVG_VARIANCE=.25,Le.MAX_INDIVIDUAL_VARIANCE=.7,Le.CODE_SHIFT=98,Le.CODE_CODE_C=99,Le.CODE_CODE_B=100,Le.CODE_CODE_A=101,Le.CODE_FNC_1=102,Le.CODE_FNC_2=97,Le.CODE_FNC_3=96,Le.CODE_FNC_4_A=101,Le.CODE_FNC_4_B=100,Le.CODE_START_A=103,Le.CODE_START_B=104,Le.CODE_START_C=105,Le.CODE_STOP=106;class Kt extends nn{constructor(o=!1,a=!1){super(),this.usingCheckDigit=o,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(o,a,c){let d=this.counters;d.fill(0),this.decodeRowResult="";let h=Kt.findAsteriskPattern(a,d),C=a.getNextSet(h[1]),E=a.getSize(),S,N;do{Kt.recordPattern(a,C,d);let $=Kt.toNarrowWidePattern(d);if($<0)throw new re;S=Kt.patternToChar($),this.decodeRowResult+=S,N=C;for(let le of d)C+=le;C=a.getNextSet(C)}while(S!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let R=0;for(let $ of d)R+=$;let U=C-N-R;if(C!==E&&U*2<R)throw new re;if(this.usingCheckDigit){let $=this.decodeRowResult.length-1,le=0;for(let ge=0;ge<$;ge++)le+=Kt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ge));if(this.decodeRowResult.charAt($)!==Kt.ALPHABET_STRING.charAt(le%43))throw new O;this.decodeRowResult=this.decodeRowResult.substring(0,$)}if(this.decodeRowResult.length===0)throw new re;let V;this.extendedMode?V=Kt.decodeExtended(this.decodeRowResult):V=this.decodeRowResult;let X=(h[1]+h[0])/2,J=N+R/2;return new Oe(V,null,0,[new Ve(X,o),new Ve(J,o)],be.CODE_39,new Date().getTime())}static findAsteriskPattern(o,a){let c=o.getSize(),d=o.getNextSet(0),h=0,C=d,E=!1,S=a.length;for(let N=d;N<c;N++)if(o.get(N)!==E)a[h]++;else{if(h===S-1){if(this.toNarrowWidePattern(a)===Kt.ASTERISK_ENCODING&&o.isRange(Math.max(0,C-Math.floor((N-C)/2)),C,!1))return[C,N];C+=a[0]+a[1],a.copyWithin(0,2,2+h-1),a[h-1]=0,a[h]=0,h--}else h++;a[h]=1,E=!E}throw new re}static toNarrowWidePattern(o){let a=o.length,c=0,d;do{let h=2147483647;for(let S of o)S<h&&S>c&&(h=S);c=h,d=0;let C=0,E=0;for(let S=0;S<a;S++){let N=o[S];N>c&&(E|=1<<a-1-S,d++,C+=N)}if(d===3){for(let S=0;S<a&&d>0;S++){let N=o[S];if(N>c&&(d--,N*2>=C))return-1}return E}}while(d>3);return-1}static patternToChar(o){for(let a=0;a<Kt.CHARACTER_ENCODINGS.length;a++)if(Kt.CHARACTER_ENCODINGS[a]===o)return Kt.ALPHABET_STRING.charAt(a);if(o===Kt.ASTERISK_ENCODING)return"*";throw new re}static decodeExtended(o){let a=o.length,c="";for(let d=0;d<a;d++){let h=o.charAt(d);if(h==="+"||h==="$"||h==="%"||h==="/"){let C=o.charAt(d+1),E="\0";switch(h){case"+":if(C>="A"&&C<="Z")E=String.fromCharCode(C.charCodeAt(0)+32);else throw new Z;break;case"$":if(C>="A"&&C<="Z")E=String.fromCharCode(C.charCodeAt(0)-64);else throw new Z;break;case"%":if(C>="A"&&C<="E")E=String.fromCharCode(C.charCodeAt(0)-38);else if(C>="F"&&C<="J")E=String.fromCharCode(C.charCodeAt(0)-11);else if(C>="K"&&C<="O")E=String.fromCharCode(C.charCodeAt(0)+16);else if(C>="P"&&C<="T")E=String.fromCharCode(C.charCodeAt(0)+43);else if(C==="U")E="\0";else if(C==="V")E="@";else if(C==="W")E="`";else if(C==="X"||C==="Y"||C==="Z")E="";else throw new Z;break;case"/":if(C>="A"&&C<="O")E=String.fromCharCode(C.charCodeAt(0)-32);else if(C==="Z")E=":";else throw new Z;break}c+=E,d++}else c+=h}return c}}Kt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Kt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Kt.ASTERISK_ENCODING=148;class bt extends nn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(o,a,c){let d=this.decodeStart(a),h=this.decodeEnd(a),C=new Be;bt.decodeMiddle(a,d[1],h[0],C);let E=C.toString(),S=null;c!=null&&(S=c.get(oe.ALLOWED_LENGTHS)),S==null&&(S=bt.DEFAULT_ALLOWED_LENGTHS);let N=E.length,R=!1,U=0;for(let J of S){if(N===J){R=!0;break}J>U&&(U=J)}if(!R&&N>U&&(R=!0),!R)throw new Z;const V=[new Ve(d[1],o),new Ve(h[0],o)];return new Oe(E,null,0,V,be.ITF,new Date().getTime())}static decodeMiddle(o,a,c,d){let h=new Int32Array(10),C=new Int32Array(5),E=new Int32Array(5);for(h.fill(0),C.fill(0),E.fill(0);a<c;){nn.recordPattern(o,a,h);for(let N=0;N<5;N++){let R=2*N;C[N]=h[R],E[N]=h[R+1]}let S=bt.decodeDigit(C);d.append(S.toString()),S=this.decodeDigit(E),d.append(S.toString()),h.forEach(function(N){a+=N})}}decodeStart(o){let a=bt.skipWhiteSpace(o),c=bt.findGuardPattern(o,a,bt.START_PATTERN);return this.narrowLineWidth=(c[1]-c[0])/4,this.validateQuietZone(o,c[0]),c}validateQuietZone(o,a){let c=this.narrowLineWidth*10;c=c<a?c:a;for(let d=a-1;c>0&&d>=0&&!o.get(d);d--)c--;if(c!==0)throw new re}static skipWhiteSpace(o){const a=o.getSize(),c=o.getNextSet(0);if(c===a)throw new re;return c}decodeEnd(o){o.reverse();try{let a=bt.skipWhiteSpace(o),c;try{c=bt.findGuardPattern(o,a,bt.END_PATTERN_REVERSED[0])}catch(h){h instanceof re&&(c=bt.findGuardPattern(o,a,bt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(o,c[0]);let d=c[0];return c[0]=o.getSize()-c[1],c[1]=o.getSize()-d,c}finally{o.reverse()}}static findGuardPattern(o,a,c){let d=c.length,h=new Int32Array(d),C=o.getSize(),E=!1,S=0,N=a;h.fill(0);for(let R=a;R<C;R++)if(o.get(R)!==E)h[S]++;else{if(S===d-1){if(nn.patternMatchVariance(h,c,bt.MAX_INDIVIDUAL_VARIANCE)<bt.MAX_AVG_VARIANCE)return[N,R];N+=h[0]+h[1],D.arraycopy(h,2,h,0,S-1),h[S-1]=0,h[S]=0,S--}else S++;h[S]=1,E=!E}throw new re}static decodeDigit(o){let a=bt.MAX_AVG_VARIANCE,c=-1,d=bt.PATTERNS.length;for(let h=0;h<d;h++){let C=bt.PATTERNS[h],E=nn.patternMatchVariance(o,C,bt.MAX_INDIVIDUAL_VARIANCE);E<a?(a=E,c=h):E===a&&(c=-1)}if(c>=0)return c%10;throw new re}}bt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],bt.MAX_AVG_VARIANCE=.38,bt.MAX_INDIVIDUAL_VARIANCE=.5,bt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],bt.START_PATTERN=Int32Array.from([1,1,1,1]),bt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Yt extends nn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(o){let a=!1,c,d=0,h=Int32Array.from([0,0,0]);for(;!a;){h=Int32Array.from([0,0,0]),c=Yt.findGuardPattern(o,d,!1,this.START_END_PATTERN,h);let C=c[0];d=c[1];let E=C-(d-C);E>=0&&(a=o.isRange(E,C,!1))}return c}static checkChecksum(o){return Yt.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let a=o.length;if(a===0)return!1;let c=parseInt(o.charAt(a-1),10);return Yt.getStandardUPCEANChecksum(o.substring(0,a-1))===c}static getStandardUPCEANChecksum(o){let a=o.length,c=0;for(let d=a-1;d>=0;d-=2){let h=o.charAt(d).charCodeAt(0)-48;if(h<0||h>9)throw new Z;c+=h}c*=3;for(let d=a-2;d>=0;d-=2){let h=o.charAt(d).charCodeAt(0)-48;if(h<0||h>9)throw new Z;c+=h}return(1e3-c)%10}static decodeEnd(o,a){return Yt.findGuardPattern(o,a,!1,Yt.START_END_PATTERN,new Int32Array(Yt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(o,a,c,d){return this.findGuardPattern(o,a,c,d,new Int32Array(d.length))}static findGuardPattern(o,a,c,d,h){let C=o.getSize();a=c?o.getNextUnset(a):o.getNextSet(a);let E=0,S=a,N=d.length,R=c;for(let U=a;U<C;U++)if(o.get(U)!==R)h[E]++;else{if(E===N-1){if(nn.patternMatchVariance(h,d,Yt.MAX_INDIVIDUAL_VARIANCE)<Yt.MAX_AVG_VARIANCE)return Int32Array.from([S,U]);S+=h[0]+h[1];let V=h.slice(2,h.length-1);for(let X=0;X<E-1;X++)h[X]=V[X];h[E-1]=0,h[E]=0,E--}else E++;h[E]=1,R=!R}throw new re}static decodeDigit(o,a,c,d){this.recordPattern(o,c,a);let h=this.MAX_AVG_VARIANCE,C=-1,E=d.length;for(let S=0;S<E;S++){let N=d[S],R=nn.patternMatchVariance(a,N,Yt.MAX_INDIVIDUAL_VARIANCE);R<h&&(h=R,C=S)}if(C>=0)return C;throw new re}}Yt.MAX_AVG_VARIANCE=.48,Yt.MAX_INDIVIDUAL_VARIANCE=.7,Yt.START_END_PATTERN=Int32Array.from([1,1,1]),Yt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Yt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Yt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ms{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,a,c){let d=this.decodeRowStringBuffer,h=this.decodeMiddle(a,c,d),C=d.toString(),E=ms.parseExtensionString(C),S=[new Ve((c[0]+c[1])/2,o),new Ve(h,o)],N=new Oe(C,null,0,S,be.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&N.putAllMetadata(E),N}decodeMiddle(o,a,c){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let h=o.getSize(),C=a[1],E=0;for(let N=0;N<5&&C<h;N++){let R=Yt.decodeDigit(o,d,C,Yt.L_AND_G_PATTERNS);c+=String.fromCharCode(48+R%10);for(let U of d)C+=U;R>=10&&(E|=1<<4-N),N!==4&&(C=o.getNextSet(C),C=o.getNextUnset(C))}if(c.length!==5)throw new re;let S=this.determineCheckDigit(E);if(ms.extensionChecksum(c.toString())!==S)throw new re;return C}static extensionChecksum(o){let a=o.length,c=0;for(let d=a-2;d>=0;d-=2)c+=o.charAt(d).charCodeAt(0)-48;c*=3;for(let d=a-1;d>=0;d-=2)c+=o.charAt(d).charCodeAt(0)-48;return c*=3,c%10}determineCheckDigit(o){for(let a=0;a<10;a++)if(o===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new re}static parseExtensionString(o){if(o.length!==5)return null;let a=ms.parseExtension5String(o);return a==null?null:new Map([[ke.SUGGESTED_PRICE,a]])}static parseExtension5String(o){let a;switch(o.charAt(0)){case"0":a="£";break;case"5":a="$";break;case"9":switch(o){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a="";break}let c=parseInt(o.substring(1)),d=(c/100).toString(),h=c%100,C=h<10?"0"+h:h.toString();return a+d+"."+C}}class ta{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,a,c){let d=this.decodeRowStringBuffer,h=this.decodeMiddle(a,c,d),C=d.toString(),E=ta.parseExtensionString(C),S=[new Ve((c[0]+c[1])/2,o),new Ve(h,o)],N=new Oe(C,null,0,S,be.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&N.putAllMetadata(E),N}decodeMiddle(o,a,c){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let h=o.getSize(),C=a[1],E=0;for(let S=0;S<2&&C<h;S++){let N=Yt.decodeDigit(o,d,C,Yt.L_AND_G_PATTERNS);c+=String.fromCharCode(48+N%10);for(let R of d)C+=R;N>=10&&(E|=1<<1-S),S!==1&&(C=o.getNextSet(C),C=o.getNextUnset(C))}if(c.length!==2)throw new re;if(parseInt(c.toString())%4!==E)throw new re;return C}static parseExtensionString(o){return o.length!==2?null:new Map([[ke.ISSUE_NUMBER,parseInt(o)]])}}class El{static decodeRow(o,a,c){let d=Yt.findGuardPattern(a,c,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new ms().decodeRow(o,a,d)}catch{return new ta().decodeRow(o,a,d)}}}El.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Et extends Yt{constructor(){super(),this.decodeRowStringBuffer="",Et.L_AND_G_PATTERNS=Et.L_PATTERNS.map(o=>Int32Array.from(o));for(let o=10;o<20;o++){let a=Et.L_PATTERNS[o-10],c=new Int32Array(a.length);for(let d=0;d<a.length;d++)c[d]=a[a.length-d-1];Et.L_AND_G_PATTERNS[o]=c}}decodeRow(o,a,c){let d=Et.findStartGuardPattern(a),h=c==null?null:c.get(oe.NEED_RESULT_POINT_CALLBACK);if(h!=null){const _e=new Ve((d[0]+d[1])/2,o);h.foundPossibleResultPoint(_e)}let C=this.decodeMiddle(a,d,this.decodeRowStringBuffer),E=C.rowOffset,S=C.resultString;if(h!=null){const _e=new Ve(E,o);h.foundPossibleResultPoint(_e)}let N=this.decodeEnd(a,E);if(h!=null){const _e=new Ve((N[0]+N[1])/2,o);h.foundPossibleResultPoint(_e)}let R=N[1],U=R+(R-N[0]);if(U>=a.getSize()||!a.isRange(R,U,!1))throw new re;let V=S.toString();if(V.length<8)throw new Z;if(!Et.checkChecksum(V))throw new O;let X=(d[1]+d[0])/2,J=(N[1]+N[0])/2,$=this.getBarcodeFormat(),le=[new Ve(X,o),new Ve(J,o)],ge=new Oe(V,null,0,le,$,new Date().getTime()),Ne=0;try{let _e=El.decodeRow(o,a,N[1]);ge.putMetadata(ke.UPC_EAN_EXTENSION,_e.getText()),ge.putAllMetadata(_e.getResultMetadata()),ge.addResultPoints(_e.getResultPoints()),Ne=_e.getText().length}catch{}let Ie=c==null?null:c.get(oe.ALLOWED_EAN_EXTENSIONS);if(Ie!=null){let _e=!1;for(let ot in Ie)if(Ne.toString()===ot){_e=!0;break}if(!_e)throw new re}return ge}decodeEnd(o,a){return Et.findGuardPattern(o,a,!1,Et.START_END_PATTERN,new Int32Array(Et.START_END_PATTERN.length).fill(0))}static checkChecksum(o){return Et.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let a=o.length;if(a===0)return!1;let c=parseInt(o.charAt(a-1),10);return Et.getStandardUPCEANChecksum(o.substring(0,a-1))===c}static getStandardUPCEANChecksum(o){let a=o.length,c=0;for(let d=a-1;d>=0;d-=2){let h=o.charAt(d).charCodeAt(0)-48;if(h<0||h>9)throw new Z;c+=h}c*=3;for(let d=a-2;d>=0;d-=2){let h=o.charAt(d).charCodeAt(0)-48;if(h<0||h>9)throw new Z;c+=h}return(1e3-c)%10}}class Ii extends Et{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,a,c){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let h=o.getSize(),C=a[1],E=0;for(let N=0;N<6&&C<h;N++){let R=Et.decodeDigit(o,d,C,Et.L_AND_G_PATTERNS);c+=String.fromCharCode(48+R%10);for(let U of d)C+=U;R>=10&&(E|=1<<5-N)}c=Ii.determineFirstDigit(c,E),C=Et.findGuardPattern(o,C,!0,Et.MIDDLE_PATTERN,new Int32Array(Et.MIDDLE_PATTERN.length).fill(0))[1];for(let N=0;N<6&&C<h;N++){let R=Et.decodeDigit(o,d,C,Et.L_PATTERNS);c+=String.fromCharCode(48+R);for(let U of d)C+=U}return{rowOffset:C,resultString:c}}getBarcodeFormat(){return be.EAN_13}static determineFirstDigit(o,a){for(let c=0;c<10;c++)if(a===this.FIRST_DIGIT_ENCODINGS[c])return o=String.fromCharCode(48+c)+o,o;throw new re}}Ii.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Hc extends Et{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,a,c){const d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let h=o.getSize(),C=a[1];for(let S=0;S<4&&C<h;S++){let N=Et.decodeDigit(o,d,C,Et.L_PATTERNS);c+=String.fromCharCode(48+N);for(let R of d)C+=R}C=Et.findGuardPattern(o,C,!0,Et.MIDDLE_PATTERN,new Int32Array(Et.MIDDLE_PATTERN.length).fill(0))[1];for(let S=0;S<4&&C<h;S++){let N=Et.decodeDigit(o,d,C,Et.L_PATTERNS);c+=String.fromCharCode(48+N);for(let R of d)C+=R}return{rowOffset:C,resultString:c}}getBarcodeFormat(){return be.EAN_8}}class wl extends Et{constructor(){super(...arguments),this.ean13Reader=new Ii}getBarcodeFormat(){return be.UPC_A}decode(o,a){return this.maybeReturnResult(this.ean13Reader.decode(o))}decodeRow(o,a,c){return this.maybeReturnResult(this.ean13Reader.decodeRow(o,a,c))}decodeMiddle(o,a,c){return this.ean13Reader.decodeMiddle(o,a,c)}maybeReturnResult(o){let a=o.getText();if(a.charAt(0)==="0"){let c=new Oe(a.substring(1),null,null,o.getResultPoints(),be.UPC_A);return o.getResultMetadata()!=null&&c.putAllMetadata(o.getResultMetadata()),c}else throw new re}reset(){this.ean13Reader.reset()}}class yi extends Et{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(o,a,c){const d=this.decodeMiddleCounters.map(N=>N);d[0]=0,d[1]=0,d[2]=0,d[3]=0;const h=o.getSize();let C=a[1],E=0;for(let N=0;N<6&&C<h;N++){const R=yi.decodeDigit(o,d,C,yi.L_AND_G_PATTERNS);c+=String.fromCharCode(48+R%10);for(let U of d)C+=U;R>=10&&(E|=1<<5-N)}let S=yi.determineNumSysAndCheckDigit(c,E);return{rowOffset:C,resultString:S}}decodeEnd(o,a){return yi.findGuardPatternWithoutCounters(o,a,!0,yi.MIDDLE_END_PATTERN)}checkChecksum(o){return Et.checkChecksum(yi.convertUPCEtoUPCA(o))}static determineNumSysAndCheckDigit(o,a){for(let c=0;c<=1;c++)for(let d=0;d<10;d++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[c][d]){let h=String.fromCharCode(48+c),C=String.fromCharCode(48+d);return h+o+C}throw re.getNotFoundInstance()}getBarcodeFormat(){return be.UPC_E}static convertUPCEtoUPCA(o){const a=o.slice(1,7).split("").map(h=>h.charCodeAt(0)),c=new Be;c.append(o.charAt(0));let d=a[5];switch(d){case 0:case 1:case 2:c.appendChars(a,0,2),c.append(d),c.append("0000"),c.appendChars(a,2,3);break;case 3:c.appendChars(a,0,3),c.append("00000"),c.appendChars(a,3,2);break;case 4:c.appendChars(a,0,4),c.append("00000"),c.append(a[4]);break;default:c.appendChars(a,0,5),c.append("0000"),c.append(d);break}return o.length>=8&&c.append(o.charAt(7)),c.toString()}}yi.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),yi.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ps extends nn{constructor(o){super();let a=o==null?null:o.get(oe.POSSIBLE_FORMATS),c=[];r(a)?(c.push(new Ii),c.push(new wl),c.push(new Hc),c.push(new yi)):(a.indexOf(be.EAN_13)>-1&&c.push(new Ii),a.indexOf(be.UPC_A)>-1&&c.push(new wl),a.indexOf(be.EAN_8)>-1&&c.push(new Hc),a.indexOf(be.UPC_E)>-1&&c.push(new yi)),this.readers=c}decodeRow(o,a,c){for(let d of this.readers)try{const h=d.decodeRow(o,a,c),C=h.getBarcodeFormat()===be.EAN_13&&h.getText().charAt(0)==="0",E=c==null?null:c.get(oe.POSSIBLE_FORMATS),S=E==null||E.includes(be.UPC_A);if(C&&S){const N=h.getRawBytes(),R=new Oe(h.getText().substring(1),N,N?N.length:null,h.getResultPoints(),be.UPC_A);return R.putAllMetadata(h.getResultMetadata()),R}return h}catch{}throw new re}reset(){for(let o of this.readers)o.reset()}}class In extends nn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(o,a){for(let c=0;c<a.length;c++)if(nn.patternMatchVariance(o,a[c],In.MAX_INDIVIDUAL_VARIANCE)<In.MAX_AVG_VARIANCE)return c;throw new re}static count(o){return ct.sum(new Int32Array(o))}static increment(o,a){let c=0,d=a[0];for(let h=1;h<o.length;h++)a[h]>d&&(d=a[h],c=h);o[c]++}static decrement(o,a){let c=0,d=a[0];for(let h=1;h<o.length;h++)a[h]<d&&(d=a[h],c=h);o[c]--}static isFinderPattern(o){let a=o[0]+o[1],c=a+o[2]+o[3],d=a/c;if(d>=In.MIN_FINDER_PATTERN_RATIO&&d<=In.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,C=Number.MIN_SAFE_INTEGER;for(let E of o)E>C&&(C=E),E<h&&(h=E);return C<10*h}return!1}}In.MAX_AVG_VARIANCE=.2,In.MAX_INDIVIDUAL_VARIANCE=.45,In.MIN_FINDER_PATTERN_RATIO=9.5/12,In.MAX_FINDER_PATTERN_RATIO=12.5/14;class Yr{constructor(o,a){this.value=o,this.checksumPortion=a}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(o){if(!(o instanceof Yr))return!1;const a=o;return this.value===a.value&&this.checksumPortion===a.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class na{constructor(o,a,c,d,h){this.value=o,this.startEnd=a,this.value=o,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new Ve(c,h)),this.resultPoints.push(new Ve(d,h))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(o){if(!(o instanceof na))return!1;const a=o;return this.value===a.value}hashCode(){return this.value}}class Ln{constructor(){}static getRSSvalue(o,a,c){let d=0;for(let S of o)d+=S;let h=0,C=0,E=o.length;for(let S=0;S<E-1;S++){let N;for(N=1,C|=1<<S;N<o[S];N++,C&=~(1<<S)){let R=Ln.combins(d-N-1,E-S-2);if(c&&C===0&&d-N-(E-S-1)>=E-S-1&&(R-=Ln.combins(d-N-(E-S),E-S-2)),E-S-1>1){let U=0;for(let V=d-N-(E-S-2);V>a;V--)U+=Ln.combins(d-N-V-1,E-S-3);R-=U*(E-1-S)}else d-N>a&&R--;h+=R}d-=N}return h}static combins(o,a){let c,d;o-a>a?(d=a,c=o-a):(d=o-a,c=a);let h=1,C=1;for(let E=o;E>c;E--)h*=E,C<=d&&(h/=C,C++);for(;C<=d;)h/=C,C++;return h}}class qn{static buildBitArray(o){let a=o.length*2-1;o[o.length-1].getRightChar()==null&&(a-=1);let c=12*a,d=new K(c),h=0,E=o[0].getRightChar().getValue();for(let S=11;S>=0;--S)(E&1<<S)!=0&&d.set(h),h++;for(let S=1;S<o.length;++S){let N=o[S],R=N.getLeftChar().getValue();for(let U=11;U>=0;--U)(R&1<<U)!=0&&d.set(h),h++;if(N.getRightChar()!=null){let U=N.getRightChar().getValue();for(let V=11;V>=0;--V)(U&1<<V)!=0&&d.set(h),h++}}return d}}class mn{constructor(o,a){a?this.decodedInformation=null:(this.finished=o,this.decodedInformation=a)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Er{constructor(o){this.newPosition=o}getNewPosition(){return this.newPosition}}class Yn extends Er{constructor(o,a){super(o),this.value=a}getValue(){return this.value}isFNC1(){return this.value===Yn.FNC1}}Yn.FNC1="$";class Xr extends Er{constructor(o,a,c){super(o),c?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=a}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Ci extends Er{constructor(o,a,c){if(super(o),a<0||a>10||c<0||c>10)throw new Z;this.firstDigit=a,this.secondDigit=c}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Ci.FNC1}isSecondDigitFNC1(){return this.secondDigit===Ci.FNC1}isAnyFNC1(){return this.firstDigit===Ci.FNC1||this.secondDigit===Ci.FNC1}}Ci.FNC1=10;class Ue{constructor(){}static parseFieldsInGeneralPurpose(o){if(!o)return null;if(o.length<2)throw new re;let a=o.substring(0,2);for(let h of Ue.TWO_DIGIT_DATA_LENGTH)if(h[0]===a)return h[1]===Ue.VARIABLE_LENGTH?Ue.processVariableAI(2,h[2],o):Ue.processFixedAI(2,h[1],o);if(o.length<3)throw new re;let c=o.substring(0,3);for(let h of Ue.THREE_DIGIT_DATA_LENGTH)if(h[0]===c)return h[1]===Ue.VARIABLE_LENGTH?Ue.processVariableAI(3,h[2],o):Ue.processFixedAI(3,h[1],o);for(let h of Ue.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(h[0]===c)return h[1]===Ue.VARIABLE_LENGTH?Ue.processVariableAI(4,h[2],o):Ue.processFixedAI(4,h[1],o);if(o.length<4)throw new re;let d=o.substring(0,4);for(let h of Ue.FOUR_DIGIT_DATA_LENGTH)if(h[0]===d)return h[1]===Ue.VARIABLE_LENGTH?Ue.processVariableAI(4,h[2],o):Ue.processFixedAI(4,h[1],o);throw new re}static processFixedAI(o,a,c){if(c.length<o)throw new re;let d=c.substring(0,o);if(c.length<o+a)throw new re;let h=c.substring(o,o+a),C=c.substring(o+a),E="("+d+")"+h,S=Ue.parseFieldsInGeneralPurpose(C);return S==null?E:E+S}static processVariableAI(o,a,c){let d=c.substring(0,o),h;c.length<o+a?h=c.length:h=o+a;let C=c.substring(o,h),E=c.substring(h),S="("+d+")"+C,N=Ue.parseFieldsInGeneralPurpose(E);return N==null?S:S+N}}Ue.VARIABLE_LENGTH=[],Ue.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ue.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ue.VARIABLE_LENGTH,20],["22",Ue.VARIABLE_LENGTH,29],["30",Ue.VARIABLE_LENGTH,8],["37",Ue.VARIABLE_LENGTH,8],["90",Ue.VARIABLE_LENGTH,30],["91",Ue.VARIABLE_LENGTH,30],["92",Ue.VARIABLE_LENGTH,30],["93",Ue.VARIABLE_LENGTH,30],["94",Ue.VARIABLE_LENGTH,30],["95",Ue.VARIABLE_LENGTH,30],["96",Ue.VARIABLE_LENGTH,30],["97",Ue.VARIABLE_LENGTH,3],["98",Ue.VARIABLE_LENGTH,30],["99",Ue.VARIABLE_LENGTH,30]],Ue.THREE_DIGIT_DATA_LENGTH=[["240",Ue.VARIABLE_LENGTH,30],["241",Ue.VARIABLE_LENGTH,30],["242",Ue.VARIABLE_LENGTH,6],["250",Ue.VARIABLE_LENGTH,30],["251",Ue.VARIABLE_LENGTH,30],["253",Ue.VARIABLE_LENGTH,17],["254",Ue.VARIABLE_LENGTH,20],["400",Ue.VARIABLE_LENGTH,30],["401",Ue.VARIABLE_LENGTH,30],["402",17],["403",Ue.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ue.VARIABLE_LENGTH,20],["421",Ue.VARIABLE_LENGTH,15],["422",3],["423",Ue.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ue.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ue.VARIABLE_LENGTH,15],["391",Ue.VARIABLE_LENGTH,18],["392",Ue.VARIABLE_LENGTH,15],["393",Ue.VARIABLE_LENGTH,18],["703",Ue.VARIABLE_LENGTH,30]],Ue.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ue.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ue.VARIABLE_LENGTH,20],["8003",Ue.VARIABLE_LENGTH,30],["8004",Ue.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ue.VARIABLE_LENGTH,30],["8008",Ue.VARIABLE_LENGTH,12],["8018",18],["8020",Ue.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ue.VARIABLE_LENGTH,70],["8200",Ue.VARIABLE_LENGTH,70]];class ji{constructor(o){this.buffer=new Be,this.information=o}decodeAllCodes(o,a){let c=a,d=null;do{let h=this.decodeGeneralPurposeField(c,d),C=Ue.parseFieldsInGeneralPurpose(h.getNewString());if(C!=null&&o.append(C),h.isRemaining()?d=""+h.getRemainingValue():d=null,c===h.getNewPosition())break;c=h.getNewPosition()}while(!0);return o.toString()}isStillNumeric(o){if(o+7>this.information.getSize())return o+4<=this.information.getSize();for(let a=o;a<o+3;++a)if(this.information.get(a))return!0;return this.information.get(o+3)}decodeNumeric(o){if(o+7>this.information.getSize()){let h=this.extractNumericValueFromBitArray(o,4);return h===0?new Ci(this.information.getSize(),Ci.FNC1,Ci.FNC1):new Ci(this.information.getSize(),h-1,Ci.FNC1)}let a=this.extractNumericValueFromBitArray(o,7),c=(a-8)/11,d=(a-8)%11;return new Ci(o+7,c,d)}extractNumericValueFromBitArray(o,a){return ji.extractNumericValueFromBitArray(this.information,o,a)}static extractNumericValueFromBitArray(o,a,c){let d=0;for(let h=0;h<c;++h)o.get(a+h)&&(d|=1<<c-h-1);return d}decodeGeneralPurposeField(o,a){this.buffer.setLengthToZero(),a!=null&&this.buffer.append(a),this.current.setPosition(o);let c=this.parseBlocks();return c!=null&&c.isRemaining()?new Xr(this.current.getPosition(),this.buffer.toString(),c.getRemainingValue()):new Xr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let o,a;do{let c=this.current.getPosition();if(this.current.isAlpha()?(a=this.parseAlphaBlock(),o=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),o=a.isFinished()):(a=this.parseNumericBlock(),o=a.isFinished()),!(c!==this.current.getPosition())&&!o)break}while(!o);return a.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let o=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFirstDigitFNC1()){let a;return o.isSecondDigitFNC1()?a=new Xr(this.current.getPosition(),this.buffer.toString()):a=new Xr(this.current.getPosition(),this.buffer.toString(),o.getSecondDigit()),new mn(!0,a)}if(this.buffer.append(o.getFirstDigit()),o.isSecondDigitFNC1()){let a=new Xr(this.current.getPosition(),this.buffer.toString());return new mn(!0,a)}this.buffer.append(o.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new mn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let o=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let a=new Xr(this.current.getPosition(),this.buffer.toString());return new mn(!0,a)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new mn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let o=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let a=new Xr(this.current.getPosition(),this.buffer.toString());return new mn(!0,a)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new mn(!1)}isStillIsoIec646(o){if(o+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(o,5);if(a>=5&&a<16)return!0;if(o+7>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(o,7);if(c>=64&&c<116)return!0;if(o+8>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(o,8);return d>=232&&d<253}decodeIsoIec646(o){let a=this.extractNumericValueFromBitArray(o,5);if(a===15)return new Yn(o+5,Yn.FNC1);if(a>=5&&a<15)return new Yn(o+5,"0"+(a-5));let c=this.extractNumericValueFromBitArray(o,7);if(c>=64&&c<90)return new Yn(o+7,""+(c+1));if(c>=90&&c<116)return new Yn(o+7,""+(c+7));let d=this.extractNumericValueFromBitArray(o,8),h;switch(d){case 232:h="!";break;case 233:h='"';break;case 234:h="%";break;case 235:h="&";break;case 236:h="'";break;case 237:h="(";break;case 238:h=")";break;case 239:h="*";break;case 240:h="+";break;case 241:h=",";break;case 242:h="-";break;case 243:h=".";break;case 244:h="/";break;case 245:h=":";break;case 246:h=";";break;case 247:h="<";break;case 248:h="=";break;case 249:h=">";break;case 250:h="?";break;case 251:h="_";break;case 252:h=" ";break;default:throw new Z}return new Yn(o+8,h)}isStillAlpha(o){if(o+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(o,5);if(a>=5&&a<16)return!0;if(o+6>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(o,6);return c>=16&&c<63}decodeAlphanumeric(o){let a=this.extractNumericValueFromBitArray(o,5);if(a===15)return new Yn(o+5,Yn.FNC1);if(a>=5&&a<15)return new Yn(o+5,"0"+(a-5));let c=this.extractNumericValueFromBitArray(o,6);if(c>=32&&c<58)return new Yn(o+6,""+(c+33));let d;switch(c){case 58:d="*";break;case 59:d=",";break;case 60:d="-";break;case 61:d=".";break;case 62:d="/";break;default:throw new Gn("Decoding invalid alphanumeric value: "+c)}return new Yn(o+6,d)}isAlphaTo646ToAlphaLatch(o){if(o+1>this.information.getSize())return!1;for(let a=0;a<5&&a+o<this.information.getSize();++a)if(a===2){if(!this.information.get(o+2))return!1}else if(this.information.get(o+a))return!1;return!0}isAlphaOr646ToNumericLatch(o){if(o+3>this.information.getSize())return!1;for(let a=o;a<o+3;++a)if(this.information.get(a))return!1;return!0}isNumericToAlphaNumericLatch(o){if(o+1>this.information.getSize())return!1;for(let a=0;a<4&&a+o<this.information.getSize();++a)if(this.information.get(o+a))return!1;return!0}}class xs{constructor(o){this.information=o,this.generalDecoder=new ji(o)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class An extends xs{constructor(o){super(o)}encodeCompressedGtin(o,a){o.append("(01)");let c=o.length();o.append("9"),this.encodeCompressedGtinWithoutAI(o,a,c)}encodeCompressedGtinWithoutAI(o,a,c){for(let d=0;d<4;++d){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*d,10);h/100===0&&o.append("0"),h/10===0&&o.append("0"),o.append(h)}An.appendCheckDigit(o,c)}static appendCheckDigit(o,a){let c=0;for(let d=0;d<13;d++){let h=o.charAt(d+a).charCodeAt(0)-48;c+=(d&1)===0?3*h:h}c=10-c%10,c===10&&(c=0),o.append(c)}}An.GTIN_SIZE=40;class Ri extends An{constructor(o){super(o)}parseInformation(){let o=new Be;o.append("(01)");let a=o.length(),c=this.getGeneralDecoder().extractNumericValueFromBitArray(Ri.HEADER_SIZE,4);return o.append(c),this.encodeCompressedGtinWithoutAI(o,Ri.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(o,Ri.HEADER_SIZE+44)}}Ri.HEADER_SIZE=4;class wr extends xs{constructor(o){super(o)}parseInformation(){let o=new Be;return this.getGeneralDecoder().decodeAllCodes(o,wr.HEADER_SIZE)}}wr.HEADER_SIZE=5;class or extends An{constructor(o){super(o)}encodeCompressedWeight(o,a,c){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(a,c);this.addWeightCode(o,d);let h=this.checkWeight(d),C=1e5;for(let E=0;E<5;++E)h/C===0&&o.append("0"),C/=10;o.append(h)}}class Bt extends or{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()!=Bt.HEADER_SIZE+or.GTIN_SIZE+Bt.WEIGHT_SIZE)throw new re;let o=new Be;return this.encodeCompressedGtin(o,Bt.HEADER_SIZE),this.encodeCompressedWeight(o,Bt.HEADER_SIZE+or.GTIN_SIZE,Bt.WEIGHT_SIZE),o.toString()}}Bt.HEADER_SIZE=5,Bt.WEIGHT_SIZE=15;class Gc extends Bt{constructor(o){super(o)}addWeightCode(o,a){o.append("(3103)")}checkWeight(o){return o}}class qc extends Bt{constructor(o){super(o)}addWeightCode(o,a){a<1e4?o.append("(3202)"):o.append("(3203)")}checkWeight(o){return o<1e4?o:o-1e4}}class Xn extends An{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<Xn.HEADER_SIZE+An.GTIN_SIZE)throw new re;let o=new Be;this.encodeCompressedGtin(o,Xn.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(Xn.HEADER_SIZE+An.GTIN_SIZE,Xn.LAST_DIGIT_SIZE);o.append("(392"),o.append(a),o.append(")");let c=this.getGeneralDecoder().decodeGeneralPurposeField(Xn.HEADER_SIZE+An.GTIN_SIZE+Xn.LAST_DIGIT_SIZE,null);return o.append(c.getNewString()),o.toString()}}Xn.HEADER_SIZE=8,Xn.LAST_DIGIT_SIZE=2;class pn extends An{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<pn.HEADER_SIZE+An.GTIN_SIZE)throw new re;let o=new Be;this.encodeCompressedGtin(o,pn.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(pn.HEADER_SIZE+An.GTIN_SIZE,pn.LAST_DIGIT_SIZE);o.append("(393"),o.append(a),o.append(")");let c=this.getGeneralDecoder().extractNumericValueFromBitArray(pn.HEADER_SIZE+An.GTIN_SIZE+pn.LAST_DIGIT_SIZE,pn.FIRST_THREE_DIGITS_SIZE);c/100==0&&o.append("0"),c/10==0&&o.append("0"),o.append(c);let d=this.getGeneralDecoder().decodeGeneralPurposeField(pn.HEADER_SIZE+An.GTIN_SIZE+pn.LAST_DIGIT_SIZE+pn.FIRST_THREE_DIGITS_SIZE,null);return o.append(d.getNewString()),o.toString()}}pn.HEADER_SIZE=8,pn.LAST_DIGIT_SIZE=2,pn.FIRST_THREE_DIGITS_SIZE=10;class $t extends or{constructor(o,a,c){super(o),this.dateCode=c,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=$t.HEADER_SIZE+$t.GTIN_SIZE+$t.WEIGHT_SIZE+$t.DATE_SIZE)throw new re;let o=new Be;return this.encodeCompressedGtin(o,$t.HEADER_SIZE),this.encodeCompressedWeight(o,$t.HEADER_SIZE+$t.GTIN_SIZE,$t.WEIGHT_SIZE),this.encodeCompressedDate(o,$t.HEADER_SIZE+$t.GTIN_SIZE+$t.WEIGHT_SIZE),o.toString()}encodeCompressedDate(o,a){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(a,$t.DATE_SIZE);if(c==38400)return;o.append("("),o.append(this.dateCode),o.append(")");let d=c%32;c/=32;let h=c%12+1;c/=12;let C=c;C/10==0&&o.append("0"),o.append(C),h/10==0&&o.append("0"),o.append(h),d/10==0&&o.append("0"),o.append(d)}addWeightCode(o,a){o.append("("),o.append(this.firstAIdigits),o.append(a/1e5),o.append(")")}checkWeight(o){return o%1e5}}$t.HEADER_SIZE=8,$t.WEIGHT_SIZE=20,$t.DATE_SIZE=16;function Al(k){try{if(k.get(1))return new Ri(k);if(!k.get(2))return new wr(k);switch(ji.extractNumericValueFromBitArray(k,1,4)){case 4:return new Gc(k);case 5:return new qc(k)}switch(ji.extractNumericValueFromBitArray(k,1,5)){case 12:return new Xn(k);case 13:return new pn(k)}switch(ji.extractNumericValueFromBitArray(k,1,7)){case 56:return new $t(k,"310","11");case 57:return new $t(k,"320","11");case 58:return new $t(k,"310","13");case 59:return new $t(k,"320","13");case 60:return new $t(k,"310","15");case 61:return new $t(k,"320","15");case 62:return new $t(k,"310","17");case 63:return new $t(k,"320","17")}}catch(o){throw console.log(o),new Gn("unknown decoder: "+k)}}class sr{constructor(o,a,c,d){this.leftchar=o,this.rightchar=a,this.finderpattern=c,this.maybeLast=d}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(o,a){return o instanceof sr?sr.equalsOrNull(o.leftchar,a.leftchar)&&sr.equalsOrNull(o.rightchar,a.rightchar)&&sr.equalsOrNull(o.finderpattern,a.finderpattern):!1}static equalsOrNull(o,a){return o===null?a===null:sr.equals(o,a)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Tl{constructor(o,a,c){this.pairs=o,this.rowNumber=a,this.wasReversed=c}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(o){return this.checkEqualitity(this,o)}toString(){return"{ "+this.pairs+" }"}equals(o,a){return o instanceof Tl?this.checkEqualitity(o,a)&&o.wasReversed===a.wasReversed:!1}checkEqualitity(o,a){if(!o||!a)return;let c;return o.forEach((d,h)=>{a.forEach(C=>{d.getLeftChar().getValue()===C.getLeftChar().getValue()&&d.getRightChar().getValue()===C.getRightChar().getValue()&&d.getFinderPatter().getValue()===C.getFinderPatter().getValue()&&(c=!0)})}),c}}class Ae extends In{constructor(o){super(...arguments),this.pairs=new Array(Ae.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=o===!0}decodeRow(o,a,c){this.pairs.length=0,this.startFromEven=!1;try{return Ae.constructResult(this.decodeRow2pairs(o,a))}catch(d){this.verbose&&console.log(d)}return this.pairs.length=0,this.startFromEven=!0,Ae.constructResult(this.decodeRow2pairs(o,a))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(o,a){let c=!1;for(;!c;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,o))}catch(h){if(h instanceof re){if(!this.pairs.length)throw new re;c=!0}}if(this.checkChecksum())return this.pairs;let d;if(this.rows.length?d=!0:d=!1,this.storeRow(o,!1),d){let h=this.checkRowsBoolean(!1);if(h!=null||(h=this.checkRowsBoolean(!0),h!=null))return h}throw new re}checkRowsBoolean(o){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,o&&(this.rows=this.rows.reverse());let a=null;try{a=this.checkRows(new Array,0)}catch(c){this.verbose&&console.log(c)}return o&&(this.rows=this.rows.reverse()),a}checkRows(o,a){for(let c=a;c<this.rows.length;c++){let d=this.rows[c];this.pairs.length=0;for(let C of o)this.pairs.push(C.getPairs());if(this.pairs.push(d.getPairs()),!Ae.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let h=new Array(o);h.push(d);try{return this.checkRows(h,c+1)}catch(C){this.verbose&&console.log(C)}}throw new re}static isValidSequence(o){for(let a of Ae.FINDER_PATTERN_SEQUENCES){if(o.length>a.length)continue;let c=!0;for(let d=0;d<o.length;d++)if(o[d].getFinderPattern().getValue()!=a[d]){c=!1;break}if(c)return!0}return!1}storeRow(o,a){let c=0,d=!1,h=!1;for(;c<this.rows.length;){let C=this.rows[c];if(C.getRowNumber()>o){h=C.isEquivalent(this.pairs);break}d=C.isEquivalent(this.pairs),c++}h||d||Ae.isPartialRow(this.pairs,this.rows)||(this.rows.push(c,new Tl(this.pairs,o,a)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(o,a){for(let c of a)if(c.getPairs().length!==o.length){for(let d of c.getPairs())for(let h of o)if(sr.equals(d,h))break}}static isPartialRow(o,a){for(let c of a){let d=!0;for(let h of o){let C=!1;for(let E of c.getPairs())if(h.equals(E)){C=!0;break}if(!C){d=!1;break}}if(d)return!0}return!1}getRows(){return this.rows}static constructResult(o){let a=qn.buildBitArray(o),d=Al(a).parseInformation(),h=o[0].getFinderPattern().getResultPoints(),C=o[o.length-1].getFinderPattern().getResultPoints(),E=[h[0],h[1],C[0],C[1]];return new Oe(d,null,null,E,be.RSS_EXPANDED,null)}checkChecksum(){let o=this.pairs.get(0),a=o.getLeftChar(),c=o.getRightChar();if(c==null)return!1;let d=c.getChecksumPortion(),h=2;for(let E=1;E<this.pairs.size();++E){let S=this.pairs.get(E);d+=S.getLeftChar().getChecksumPortion(),h++;let N=S.getRightChar();N!=null&&(d+=N.getChecksumPortion(),h++)}return d%=211,211*(h-4)+d==a.getValue()}static getNextSecondBar(o,a){let c;return o.get(a)?(c=o.getNextUnset(a),c=o.getNextSet(c)):(c=o.getNextSet(a),c=o.getNextUnset(c)),c}retrieveNextPair(o,a,c){let d=a.length%2==0;this.startFromEven&&(d=!d);let h,C=!0,E=-1;do this.findNextPair(o,a,E),h=this.parseFoundFinderPattern(o,c,d),h==null?E=Ae.getNextSecondBar(o,this.startEnd[0]):C=!1;while(C);let S=this.decodeDataCharacter(o,h,d,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new re;let N;try{N=this.decodeDataCharacter(o,h,d,!1)}catch(R){N=null,this.verbose&&console.log(R)}return new sr(S,N,h,!0)}isEmptyPair(o){return o.length===0}findNextPair(o,a,c){let d=this.getDecodeFinderCounters();d[0]=0,d[1]=0,d[2]=0,d[3]=0;let h=o.getSize(),C;c>=0?C=c:this.isEmptyPair(a)?C=0:C=a[a.length-1].getFinderPattern().getStartEnd()[1];let E=a.length%2!=0;this.startFromEven&&(E=!E);let S=!1;for(;C<h&&(S=!o.get(C),!!S);)C++;let N=0,R=C;for(let U=C;U<h;U++)if(o.get(U)!=S)d[N]++;else{if(N==3){if(E&&Ae.reverseCounters(d),Ae.isFinderPattern(d)){this.startEnd[0]=R,this.startEnd[1]=U;return}E&&Ae.reverseCounters(d),R+=d[0]+d[1],d[0]=d[2],d[1]=d[3],d[2]=0,d[3]=0,N--}else N++;d[N]=1,S=!S}throw new re}static reverseCounters(o){let a=o.length;for(let c=0;c<a/2;++c){let d=o[c];o[c]=o[a-c-1],o[a-c-1]=d}}parseFoundFinderPattern(o,a,c){let d,h,C;if(c){let N=this.startEnd[0]-1;for(;N>=0&&!o.get(N);)N--;N++,d=this.startEnd[0]-N,h=N,C=this.startEnd[1]}else h=this.startEnd[0],C=o.getNextUnset(this.startEnd[1]+1),d=C-this.startEnd[1];let E=this.getDecodeFinderCounters();D.arraycopy(E,0,E,1,E.length-1),E[0]=d;let S;try{S=this.parseFinderValue(E,Ae.FINDER_PATTERNS)}catch{return null}return new na(S,[h,C],h,C,a)}decodeDataCharacter(o,a,c,d){let h=this.getDataCharacterCounters();for(let Ut=0;Ut<h.length;Ut++)h[Ut]=0;if(d)Ae.recordPatternInReverse(o,a.getStartEnd()[0],h);else{Ae.recordPattern(o,a.getStartEnd()[1],h);for(let Ut=0,Fn=h.length-1;Ut<Fn;Ut++,Fn--){let ai=h[Ut];h[Ut]=h[Fn],h[Fn]=ai}}let C=17,E=ct.sum(new Int32Array(h))/C,S=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(E-S)/S>.3)throw new re;let N=this.getOddCounts(),R=this.getEvenCounts(),U=this.getOddRoundingErrors(),V=this.getEvenRoundingErrors();for(let Ut=0;Ut<h.length;Ut++){let Fn=1*h[Ut]/E,ai=Fn+.5;if(ai<1){if(Fn<.3)throw new re;ai=1}else if(ai>8){if(Fn>8.7)throw new re;ai=8}let Qr=Ut/2;(Ut&1)==0?(N[Qr]=ai,U[Qr]=Fn-ai):(R[Qr]=ai,V[Qr]=Fn-ai)}this.adjustOddEvenCounts(C);let X=4*a.getValue()+(c?0:2)+(d?0:1)-1,J=0,$=0;for(let Ut=N.length-1;Ut>=0;Ut--){if(Ae.isNotA1left(a,c,d)){let Fn=Ae.WEIGHTS[X][2*Ut];$+=N[Ut]*Fn}J+=N[Ut]}let le=0;for(let Ut=R.length-1;Ut>=0;Ut--)if(Ae.isNotA1left(a,c,d)){let Fn=Ae.WEIGHTS[X][2*Ut+1];le+=R[Ut]*Fn}let ge=$+le;if((J&1)!=0||J>13||J<4)throw new re;let Ne=(13-J)/2,Ie=Ae.SYMBOL_WIDEST[Ne],_e=9-Ie,ot=Ln.getRSSvalue(N,Ie,!0),it=Ln.getRSSvalue(R,_e,!1),Jn=Ae.EVEN_TOTAL_SUBSET[Ne],Ei=Ae.GSUM[Ne],si=ot*Jn+it+Ei;return new Yr(si,ge)}static isNotA1left(o,a,c){return!(o.getValue()==0&&a&&c)}adjustOddEvenCounts(o){let a=ct.sum(new Int32Array(this.getOddCounts())),c=ct.sum(new Int32Array(this.getEvenCounts())),d=!1,h=!1;a>13?h=!0:a<4&&(d=!0);let C=!1,E=!1;c>13?E=!0:c<4&&(C=!0);let S=a+c-o,N=(a&1)==1,R=(c&1)==0;if(S==1)if(N){if(R)throw new re;h=!0}else{if(!R)throw new re;E=!0}else if(S==-1)if(N){if(R)throw new re;d=!0}else{if(!R)throw new re;C=!0}else if(S==0){if(N){if(!R)throw new re;a<c?(d=!0,E=!0):(h=!0,C=!0)}else if(R)throw new re}else throw new re;if(d){if(h)throw new re;Ae.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&Ae.decrement(this.getOddCounts(),this.getOddRoundingErrors()),C){if(E)throw new re;Ae.increment(this.getEvenCounts(),this.getOddRoundingErrors())}E&&Ae.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ae.SYMBOL_WIDEST=[7,5,4,3,1],Ae.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ae.GSUM=[0,348,1388,2948,3988],Ae.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ae.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ae.FINDER_PAT_A=0,Ae.FINDER_PAT_B=1,Ae.FINDER_PAT_C=2,Ae.FINDER_PAT_D=3,Ae.FINDER_PAT_E=4,Ae.FINDER_PAT_F=5,Ae.FINDER_PATTERN_SEQUENCES=[[Ae.FINDER_PAT_A,Ae.FINDER_PAT_A],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_B,Ae.FINDER_PAT_B],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_C,Ae.FINDER_PAT_B,Ae.FINDER_PAT_D],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_E,Ae.FINDER_PAT_B,Ae.FINDER_PAT_D,Ae.FINDER_PAT_C],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_E,Ae.FINDER_PAT_B,Ae.FINDER_PAT_D,Ae.FINDER_PAT_D,Ae.FINDER_PAT_F],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_E,Ae.FINDER_PAT_B,Ae.FINDER_PAT_D,Ae.FINDER_PAT_E,Ae.FINDER_PAT_F,Ae.FINDER_PAT_F],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_A,Ae.FINDER_PAT_B,Ae.FINDER_PAT_B,Ae.FINDER_PAT_C,Ae.FINDER_PAT_C,Ae.FINDER_PAT_D,Ae.FINDER_PAT_D],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_A,Ae.FINDER_PAT_B,Ae.FINDER_PAT_B,Ae.FINDER_PAT_C,Ae.FINDER_PAT_C,Ae.FINDER_PAT_D,Ae.FINDER_PAT_E,Ae.FINDER_PAT_E],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_A,Ae.FINDER_PAT_B,Ae.FINDER_PAT_B,Ae.FINDER_PAT_C,Ae.FINDER_PAT_C,Ae.FINDER_PAT_D,Ae.FINDER_PAT_E,Ae.FINDER_PAT_F,Ae.FINDER_PAT_F],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_A,Ae.FINDER_PAT_B,Ae.FINDER_PAT_B,Ae.FINDER_PAT_C,Ae.FINDER_PAT_D,Ae.FINDER_PAT_D,Ae.FINDER_PAT_E,Ae.FINDER_PAT_E,Ae.FINDER_PAT_F,Ae.FINDER_PAT_F]],Ae.MAX_PAIRS=11;class ia extends Yr{constructor(o,a,c){super(o,a),this.count=0,this.finderPattern=c}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class _t extends In{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(o,a,c){const d=this.decodePair(a,!1,o,c);_t.addOrTally(this.possibleLeftPairs,d),a.reverse();let h=this.decodePair(a,!0,o,c);_t.addOrTally(this.possibleRightPairs,h),a.reverse();for(let C of this.possibleLeftPairs)if(C.getCount()>1){for(let E of this.possibleRightPairs)if(E.getCount()>1&&_t.checkChecksum(C,E))return _t.constructResult(C,E)}throw new re}static addOrTally(o,a){if(a==null)return;let c=!1;for(let d of o)if(d.getValue()===a.getValue()){d.incrementCount(),c=!0;break}c||o.push(a)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(o,a){let c=4537077*o.getValue()+a.getValue(),d=new String(c).toString(),h=new Be;for(let N=13-d.length;N>0;N--)h.append("0");h.append(d);let C=0;for(let N=0;N<13;N++){let R=h.charAt(N).charCodeAt(0)-48;C+=(N&1)===0?3*R:R}C=10-C%10,C===10&&(C=0),h.append(C.toString());let E=o.getFinderPattern().getResultPoints(),S=a.getFinderPattern().getResultPoints();return new Oe(h.toString(),null,0,[E[0],E[1],S[0],S[1]],be.RSS_14,new Date().getTime())}static checkChecksum(o,a){let c=(o.getChecksumPortion()+16*a.getChecksumPortion())%79,d=9*o.getFinderPattern().getValue()+a.getFinderPattern().getValue();return d>72&&d--,d>8&&d--,c===d}decodePair(o,a,c,d){try{let h=this.findFinderPattern(o,a),C=this.parseFoundFinderPattern(o,c,a,h),E=d==null?null:d.get(oe.NEED_RESULT_POINT_CALLBACK);if(E!=null){let R=(h[0]+h[1])/2;a&&(R=o.getSize()-1-R),E.foundPossibleResultPoint(new Ve(R,c))}let S=this.decodeDataCharacter(o,C,!0),N=this.decodeDataCharacter(o,C,!1);return new ia(1597*S.getValue()+N.getValue(),S.getChecksumPortion()+4*N.getChecksumPortion(),C)}catch{return null}}decodeDataCharacter(o,a,c){let d=this.getDataCharacterCounters();for(let le=0;le<d.length;le++)d[le]=0;if(c)nn.recordPatternInReverse(o,a.getStartEnd()[0],d);else{nn.recordPattern(o,a.getStartEnd()[1]+1,d);for(let le=0,ge=d.length-1;le<ge;le++,ge--){let Ne=d[le];d[le]=d[ge],d[ge]=Ne}}let h=c?16:15,C=ct.sum(new Int32Array(d))/h,E=this.getOddCounts(),S=this.getEvenCounts(),N=this.getOddRoundingErrors(),R=this.getEvenRoundingErrors();for(let le=0;le<d.length;le++){let ge=d[le]/C,Ne=Math.floor(ge+.5);Ne<1?Ne=1:Ne>8&&(Ne=8);let Ie=Math.floor(le/2);(le&1)===0?(E[Ie]=Ne,N[Ie]=ge-Ne):(S[Ie]=Ne,R[Ie]=ge-Ne)}this.adjustOddEvenCounts(c,h);let U=0,V=0;for(let le=E.length-1;le>=0;le--)V*=9,V+=E[le],U+=E[le];let X=0,J=0;for(let le=S.length-1;le>=0;le--)X*=9,X+=S[le],J+=S[le];let $=V+3*X;if(c){if((U&1)!==0||U>12||U<4)throw new re;let le=(12-U)/2,ge=_t.OUTSIDE_ODD_WIDEST[le],Ne=9-ge,Ie=Ln.getRSSvalue(E,ge,!1),_e=Ln.getRSSvalue(S,Ne,!0),ot=_t.OUTSIDE_EVEN_TOTAL_SUBSET[le],it=_t.OUTSIDE_GSUM[le];return new Yr(Ie*ot+_e+it,$)}else{if((J&1)!==0||J>10||J<4)throw new re;let le=(10-J)/2,ge=_t.INSIDE_ODD_WIDEST[le],Ne=9-ge,Ie=Ln.getRSSvalue(E,ge,!0),_e=Ln.getRSSvalue(S,Ne,!1),ot=_t.INSIDE_ODD_TOTAL_SUBSET[le],it=_t.INSIDE_GSUM[le];return new Yr(_e*ot+Ie+it,$)}}findFinderPattern(o,a){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=o.getSize(),h=!1,C=0;for(;C<d&&(h=!o.get(C),a!==h);)C++;let E=0,S=C;for(let N=C;N<d;N++)if(o.get(N)!==h)c[E]++;else{if(E===3){if(In.isFinderPattern(c))return[S,N];S+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,E--}else E++;c[E]=1,h=!h}throw new re}parseFoundFinderPattern(o,a,c,d){let h=o.get(d[0]),C=d[0]-1;for(;C>=0&&h!==o.get(C);)C--;C++;const E=d[0]-C,S=this.getDecodeFinderCounters(),N=new Int32Array(S.length);D.arraycopy(S,0,N,1,S.length-1),N[0]=E;const R=this.parseFinderValue(N,_t.FINDER_PATTERNS);let U=C,V=d[1];return c&&(U=o.getSize()-1-U,V=o.getSize()-1-V),new na(R,[C,d[1]],U,V,a)}adjustOddEvenCounts(o,a){let c=ct.sum(new Int32Array(this.getOddCounts())),d=ct.sum(new Int32Array(this.getEvenCounts())),h=!1,C=!1,E=!1,S=!1;o?(c>12?C=!0:c<4&&(h=!0),d>12?S=!0:d<4&&(E=!0)):(c>11?C=!0:c<5&&(h=!0),d>10?S=!0:d<4&&(E=!0));let N=c+d-a,R=(c&1)===(o?1:0),U=(d&1)===1;if(N===1)if(R){if(U)throw new re;C=!0}else{if(!U)throw new re;S=!0}else if(N===-1)if(R){if(U)throw new re;h=!0}else{if(!U)throw new re;E=!0}else if(N===0){if(R){if(!U)throw new re;c<d?(h=!0,S=!0):(C=!0,E=!0)}else if(U)throw new re}else throw new re;if(h){if(C)throw new re;In.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(C&&In.decrement(this.getOddCounts(),this.getOddRoundingErrors()),E){if(S)throw new re;In.increment(this.getEvenCounts(),this.getOddRoundingErrors())}S&&In.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}_t.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],_t.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],_t.OUTSIDE_GSUM=[0,161,961,2015,2715],_t.INSIDE_GSUM=[0,336,1036,1516],_t.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],_t.INSIDE_ODD_WIDEST=[2,4,6,8],_t.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ar extends nn{constructor(o,a){super(),this.readers=[],this.verbose=a===!0;const c=o?o.get(oe.POSSIBLE_FORMATS):null,d=o&&o.get(oe.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;c?((c.includes(be.EAN_13)||c.includes(be.UPC_A)||c.includes(be.EAN_8)||c.includes(be.UPC_E))&&this.readers.push(new ps(o)),c.includes(be.CODE_39)&&this.readers.push(new Kt(d)),c.includes(be.CODE_128)&&this.readers.push(new Le),c.includes(be.ITF)&&this.readers.push(new bt),c.includes(be.RSS_14)&&this.readers.push(new _t),c.includes(be.RSS_EXPANDED)&&this.readers.push(new Ae(this.verbose))):(this.readers.push(new ps(o)),this.readers.push(new Kt),this.readers.push(new ps(o)),this.readers.push(new Le),this.readers.push(new bt),this.readers.push(new _t),this.readers.push(new Ae(this.verbose)))}decodeRow(o,a,c){for(let d=0;d<this.readers.length;d++)try{return this.readers[d].decodeRow(o,a,c)}catch{}throw new re}reset(){this.readers.forEach(o=>o.reset())}}class Yc extends Se{constructor(o=500,a){super(new Ar(a),o,a)}}class pt{constructor(o,a,c){this.ecCodewords=o,this.ecBlocks=[a],c&&this.ecBlocks.push(c)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class wt{constructor(o,a){this.count=o,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class dt{constructor(o,a,c,d,h,C){this.versionNumber=o,this.symbolSizeRows=a,this.symbolSizeColumns=c,this.dataRegionSizeRows=d,this.dataRegionSizeColumns=h,this.ecBlocks=C;let E=0;const S=C.getECCodewords(),N=C.getECBlocks();for(let R of N)E+=R.getCount()*(R.getDataCodewords()+S);this.totalCodewords=E}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(o,a){if((o&1)!==0||(a&1)!==0)throw new Z;for(let c of dt.VERSIONS)if(c.symbolSizeRows===o&&c.symbolSizeColumns===a)return c;throw new Z}toString(){return""+this.versionNumber}static buildVersions(){return[new dt(1,10,10,8,8,new pt(5,new wt(1,3))),new dt(2,12,12,10,10,new pt(7,new wt(1,5))),new dt(3,14,14,12,12,new pt(10,new wt(1,8))),new dt(4,16,16,14,14,new pt(12,new wt(1,12))),new dt(5,18,18,16,16,new pt(14,new wt(1,18))),new dt(6,20,20,18,18,new pt(18,new wt(1,22))),new dt(7,22,22,20,20,new pt(20,new wt(1,30))),new dt(8,24,24,22,22,new pt(24,new wt(1,36))),new dt(9,26,26,24,24,new pt(28,new wt(1,44))),new dt(10,32,32,14,14,new pt(36,new wt(1,62))),new dt(11,36,36,16,16,new pt(42,new wt(1,86))),new dt(12,40,40,18,18,new pt(48,new wt(1,114))),new dt(13,44,44,20,20,new pt(56,new wt(1,144))),new dt(14,48,48,22,22,new pt(68,new wt(1,174))),new dt(15,52,52,24,24,new pt(42,new wt(2,102))),new dt(16,64,64,14,14,new pt(56,new wt(2,140))),new dt(17,72,72,16,16,new pt(36,new wt(4,92))),new dt(18,80,80,18,18,new pt(48,new wt(4,114))),new dt(19,88,88,20,20,new pt(56,new wt(4,144))),new dt(20,96,96,22,22,new pt(68,new wt(4,174))),new dt(21,104,104,24,24,new pt(56,new wt(6,136))),new dt(22,120,120,18,18,new pt(68,new wt(6,175))),new dt(23,132,132,20,20,new pt(62,new wt(8,163))),new dt(24,144,144,22,22,new pt(62,new wt(8,156),new wt(2,155))),new dt(25,8,18,6,16,new pt(7,new wt(1,5))),new dt(26,8,32,6,14,new pt(11,new wt(1,10))),new dt(27,12,26,10,24,new pt(14,new wt(1,16))),new dt(28,12,36,10,16,new pt(18,new wt(1,22))),new dt(29,16,36,14,16,new pt(24,new wt(1,32))),new dt(30,16,48,14,22,new pt(28,new wt(1,49)))]}}dt.VERSIONS=dt.buildVersions();class Sl{constructor(o){const a=o.getHeight();if(a<8||a>144||(a&1)!==0)throw new Z;this.version=Sl.readVersion(o),this.mappingBitMatrix=this.extractDataRegion(o),this.readMappingMatrix=new qe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(o){const a=o.getHeight(),c=o.getWidth();return dt.getVersionForDimensions(a,c)}readCodewords(){const o=new Int8Array(this.version.getTotalCodewords());let a=0,c=4,d=0;const h=this.mappingBitMatrix.getHeight(),C=this.mappingBitMatrix.getWidth();let E=!1,S=!1,N=!1,R=!1;do if(c===h&&d===0&&!E)o[a++]=this.readCorner1(h,C)&255,c-=2,d+=2,E=!0;else if(c===h-2&&d===0&&(C&3)!==0&&!S)o[a++]=this.readCorner2(h,C)&255,c-=2,d+=2,S=!0;else if(c===h+4&&d===2&&(C&7)===0&&!N)o[a++]=this.readCorner3(h,C)&255,c-=2,d+=2,N=!0;else if(c===h-2&&d===0&&(C&7)===4&&!R)o[a++]=this.readCorner4(h,C)&255,c-=2,d+=2,R=!0;else{do c<h&&d>=0&&!this.readMappingMatrix.get(d,c)&&(o[a++]=this.readUtah(c,d,h,C)&255),c-=2,d+=2;while(c>=0&&d<C);c+=1,d+=3;do c>=0&&d<C&&!this.readMappingMatrix.get(d,c)&&(o[a++]=this.readUtah(c,d,h,C)&255),c+=2,d-=2;while(c<h&&d>=0);c+=3,d+=1}while(c<h||d<C);if(a!==this.version.getTotalCodewords())throw new Z;return o}readModule(o,a,c,d){return o<0&&(o+=c,a+=4-(c+4&7)),a<0&&(a+=d,o+=4-(d+4&7)),this.readMappingMatrix.set(a,o),this.mappingBitMatrix.get(a,o)}readUtah(o,a,c,d){let h=0;return this.readModule(o-2,a-2,c,d)&&(h|=1),h<<=1,this.readModule(o-2,a-1,c,d)&&(h|=1),h<<=1,this.readModule(o-1,a-2,c,d)&&(h|=1),h<<=1,this.readModule(o-1,a-1,c,d)&&(h|=1),h<<=1,this.readModule(o-1,a,c,d)&&(h|=1),h<<=1,this.readModule(o,a-2,c,d)&&(h|=1),h<<=1,this.readModule(o,a-1,c,d)&&(h|=1),h<<=1,this.readModule(o,a,c,d)&&(h|=1),h}readCorner1(o,a){let c=0;return this.readModule(o-1,0,o,a)&&(c|=1),c<<=1,this.readModule(o-1,1,o,a)&&(c|=1),c<<=1,this.readModule(o-1,2,o,a)&&(c|=1),c<<=1,this.readModule(0,a-2,o,a)&&(c|=1),c<<=1,this.readModule(0,a-1,o,a)&&(c|=1),c<<=1,this.readModule(1,a-1,o,a)&&(c|=1),c<<=1,this.readModule(2,a-1,o,a)&&(c|=1),c<<=1,this.readModule(3,a-1,o,a)&&(c|=1),c}readCorner2(o,a){let c=0;return this.readModule(o-3,0,o,a)&&(c|=1),c<<=1,this.readModule(o-2,0,o,a)&&(c|=1),c<<=1,this.readModule(o-1,0,o,a)&&(c|=1),c<<=1,this.readModule(0,a-4,o,a)&&(c|=1),c<<=1,this.readModule(0,a-3,o,a)&&(c|=1),c<<=1,this.readModule(0,a-2,o,a)&&(c|=1),c<<=1,this.readModule(0,a-1,o,a)&&(c|=1),c<<=1,this.readModule(1,a-1,o,a)&&(c|=1),c}readCorner3(o,a){let c=0;return this.readModule(o-1,0,o,a)&&(c|=1),c<<=1,this.readModule(o-1,a-1,o,a)&&(c|=1),c<<=1,this.readModule(0,a-3,o,a)&&(c|=1),c<<=1,this.readModule(0,a-2,o,a)&&(c|=1),c<<=1,this.readModule(0,a-1,o,a)&&(c|=1),c<<=1,this.readModule(1,a-3,o,a)&&(c|=1),c<<=1,this.readModule(1,a-2,o,a)&&(c|=1),c<<=1,this.readModule(1,a-1,o,a)&&(c|=1),c}readCorner4(o,a){let c=0;return this.readModule(o-3,0,o,a)&&(c|=1),c<<=1,this.readModule(o-2,0,o,a)&&(c|=1),c<<=1,this.readModule(o-1,0,o,a)&&(c|=1),c<<=1,this.readModule(0,a-2,o,a)&&(c|=1),c<<=1,this.readModule(0,a-1,o,a)&&(c|=1),c<<=1,this.readModule(1,a-1,o,a)&&(c|=1),c<<=1,this.readModule(2,a-1,o,a)&&(c|=1),c<<=1,this.readModule(3,a-1,o,a)&&(c|=1),c}extractDataRegion(o){const a=this.version.getSymbolSizeRows(),c=this.version.getSymbolSizeColumns();if(o.getHeight()!==a)throw new _("Dimension of bitMatrix must match the version size");const d=this.version.getDataRegionSizeRows(),h=this.version.getDataRegionSizeColumns(),C=a/d|0,E=c/h|0,S=C*d,N=E*h,R=new qe(N,S);for(let U=0;U<C;++U){const V=U*d;for(let X=0;X<E;++X){const J=X*h;for(let $=0;$<d;++$){const le=U*(d+2)+1+$,ge=V+$;for(let Ne=0;Ne<h;++Ne){const Ie=X*(h+2)+1+Ne;if(o.get(Ie,le)){const _e=J+Ne;R.set(_e,ge)}}}}}return R}}class ra{constructor(o,a){this.numDataCodewords=o,this.codewords=a}static getDataBlocks(o,a){const c=a.getECBlocks();let d=0;const h=c.getECBlocks();for(let $ of h)d+=$.getCount();const C=new Array(d);let E=0;for(let $ of h)for(let le=0;le<$.getCount();le++){const ge=$.getDataCodewords(),Ne=c.getECCodewords()+ge;C[E++]=new ra(ge,new Uint8Array(Ne))}const N=C[0].codewords.length-c.getECCodewords(),R=N-1;let U=0;for(let $=0;$<R;$++)for(let le=0;le<E;le++)C[le].codewords[$]=o[U++];const V=a.getVersionNumber()===24,X=V?8:E;for(let $=0;$<X;$++)C[$].codewords[N-1]=o[U++];const J=C[0].codewords.length;for(let $=N;$<J;$++)for(let le=0;le<E;le++){const ge=V?(le+8)%E:le,Ne=V&&ge>7?$-1:$;C[ge].codewords[Ne]=o[U++]}if(U!==o.length)throw new _;return C}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class ii{constructor(o){this.bytes=o,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(o){if(o<1||o>32||o>this.available())throw new _(""+o);let a=0,c=this.bitOffset,d=this.byteOffset;const h=this.bytes;if(c>0){const C=8-c,E=o<C?o:C,S=C-E,N=255>>8-E<<S;a=(h[d]&N)>>S,o-=E,c+=E,c===8&&(c=0,d++)}if(o>0){for(;o>=8;)a=a<<8|h[d]&255,d++,o-=8;if(o>0){const C=8-o,E=255>>C<<C;a=a<<o|(h[d]&E)>>C,c+=o}}return this.bitOffset=c,this.byteOffset=d,a}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var xn;(function(k){k[k.PAD_ENCODE=0]="PAD_ENCODE",k[k.ASCII_ENCODE=1]="ASCII_ENCODE",k[k.C40_ENCODE=2]="C40_ENCODE",k[k.TEXT_ENCODE=3]="TEXT_ENCODE",k[k.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",k[k.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",k[k.BASE256_ENCODE=6]="BASE256_ENCODE"})(xn||(xn={}));class Tr{static decode(o){const a=new ii(o),c=new Be,d=new Be,h=new Array;let C=xn.ASCII_ENCODE;do if(C===xn.ASCII_ENCODE)C=this.decodeAsciiSegment(a,c,d);else{switch(C){case xn.C40_ENCODE:this.decodeC40Segment(a,c);break;case xn.TEXT_ENCODE:this.decodeTextSegment(a,c);break;case xn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,c);break;case xn.EDIFACT_ENCODE:this.decodeEdifactSegment(a,c);break;case xn.BASE256_ENCODE:this.decodeBase256Segment(a,c,h);break;default:throw new Z}C=xn.ASCII_ENCODE}while(C!==xn.PAD_ENCODE&&a.available()>0);return d.length()>0&&c.append(d.toString()),new Ct(o,c.toString(),h.length===0?null:h,null)}static decodeAsciiSegment(o,a,c){let d=!1;do{let h=o.readBits(8);if(h===0)throw new Z;if(h<=128)return d&&(h+=128),a.append(String.fromCharCode(h-1)),xn.ASCII_ENCODE;if(h===129)return xn.PAD_ENCODE;if(h<=229){const C=h-130;C<10&&a.append("0"),a.append(""+C)}else switch(h){case 230:return xn.C40_ENCODE;case 231:return xn.BASE256_ENCODE;case 232:a.append("");break;case 233:case 234:break;case 235:d=!0;break;case 236:a.append("[)>05"),c.insert(0,"");break;case 237:a.append("[)>06"),c.insert(0,"");break;case 238:return xn.ANSIX12_ENCODE;case 239:return xn.TEXT_ENCODE;case 240:return xn.EDIFACT_ENCODE;case 241:break;default:if(h!==254||o.available()!==0)throw new Z;break}}while(o.available()>0);return xn.ASCII_ENCODE}static decodeC40Segment(o,a){let c=!1;const d=[];let h=0;do{if(o.available()===8)return;const C=o.readBits(8);if(C===254)return;this.parseTwoBytes(C,o.readBits(8),d);for(let E=0;E<3;E++){const S=d[E];switch(h){case 0:if(S<3)h=S+1;else if(S<this.C40_BASIC_SET_CHARS.length){const N=this.C40_BASIC_SET_CHARS[S];c?(a.append(String.fromCharCode(N.charCodeAt(0)+128)),c=!1):a.append(N)}else throw new Z;break;case 1:c?(a.append(String.fromCharCode(S+128)),c=!1):a.append(String.fromCharCode(S)),h=0;break;case 2:if(S<this.C40_SHIFT2_SET_CHARS.length){const N=this.C40_SHIFT2_SET_CHARS[S];c?(a.append(String.fromCharCode(N.charCodeAt(0)+128)),c=!1):a.append(N)}else switch(S){case 27:a.append("");break;case 30:c=!0;break;default:throw new Z}h=0;break;case 3:c?(a.append(String.fromCharCode(S+224)),c=!1):a.append(String.fromCharCode(S+96)),h=0;break;default:throw new Z}}}while(o.available()>0)}static decodeTextSegment(o,a){let c=!1,d=[],h=0;do{if(o.available()===8)return;const C=o.readBits(8);if(C===254)return;this.parseTwoBytes(C,o.readBits(8),d);for(let E=0;E<3;E++){const S=d[E];switch(h){case 0:if(S<3)h=S+1;else if(S<this.TEXT_BASIC_SET_CHARS.length){const N=this.TEXT_BASIC_SET_CHARS[S];c?(a.append(String.fromCharCode(N.charCodeAt(0)+128)),c=!1):a.append(N)}else throw new Z;break;case 1:c?(a.append(String.fromCharCode(S+128)),c=!1):a.append(String.fromCharCode(S)),h=0;break;case 2:if(S<this.TEXT_SHIFT2_SET_CHARS.length){const N=this.TEXT_SHIFT2_SET_CHARS[S];c?(a.append(String.fromCharCode(N.charCodeAt(0)+128)),c=!1):a.append(N)}else switch(S){case 27:a.append("");break;case 30:c=!0;break;default:throw new Z}h=0;break;case 3:if(S<this.TEXT_SHIFT3_SET_CHARS.length){const N=this.TEXT_SHIFT3_SET_CHARS[S];c?(a.append(String.fromCharCode(N.charCodeAt(0)+128)),c=!1):a.append(N),h=0}else throw new Z;break;default:throw new Z}}}while(o.available()>0)}static decodeAnsiX12Segment(o,a){const c=[];do{if(o.available()===8)return;const d=o.readBits(8);if(d===254)return;this.parseTwoBytes(d,o.readBits(8),c);for(let h=0;h<3;h++){const C=c[h];switch(C){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(C<14)a.append(String.fromCharCode(C+44));else if(C<40)a.append(String.fromCharCode(C+51));else throw new Z;break}}}while(o.available()>0)}static parseTwoBytes(o,a,c){let d=(o<<8)+a-1,h=Math.floor(d/1600);c[0]=h,d-=h*1600,h=Math.floor(d/40),c[1]=h,c[2]=d-h*40}static decodeEdifactSegment(o,a){do{if(o.available()<=16)return;for(let c=0;c<4;c++){let d=o.readBits(6);if(d===31){const h=8-o.getBitOffset();h!==8&&o.readBits(h);return}(d&32)===0&&(d|=64),a.append(String.fromCharCode(d))}}while(o.available()>0)}static decodeBase256Segment(o,a,c){let d=1+o.getByteOffset();const h=this.unrandomize255State(o.readBits(8),d++);let C;if(h===0?C=o.available()/8|0:h<250?C=h:C=250*(h-249)+this.unrandomize255State(o.readBits(8),d++),C<0)throw new Z;const E=new Uint8Array(C);for(let S=0;S<C;S++){if(o.available()<8)throw new Z;E[S]=this.unrandomize255State(o.readBits(8),d++)}c.push(E);try{a.append(Re.decode(E,Te.ISO88591))}catch(S){throw new Gn("Platform does not support required encoding: "+S.message)}}static unrandomize255State(o,a){const c=149*a%255+1,d=o-c;return d>=0?d:d+256}}Tr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Tr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Tr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Tr.TEXT_SHIFT2_SET_CHARS=Tr.C40_SHIFT2_SET_CHARS,Tr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class oa{constructor(){this.rsDecoder=new Mi(et.DATA_MATRIX_FIELD_256)}decode(o){const a=new Sl(o),c=a.getVersion(),d=a.readCodewords(),h=ra.getDataBlocks(d,c);let C=0;for(let N of h)C+=N.getNumDataCodewords();const E=new Uint8Array(C),S=h.length;for(let N=0;N<S;N++){const R=h[N],U=R.getCodewords(),V=R.getNumDataCodewords();this.correctErrors(U,V);for(let X=0;X<V;X++)E[X*S+N]=U[X]}return Tr.decode(E)}correctErrors(o,a){const c=new Int32Array(o);try{this.rsDecoder.decode(c,o.length-a)}catch{throw new O}for(let d=0;d<a;d++)o[d]=c[d]}}class ln{constructor(o){this.image=o,this.rectangleDetector=new rr(this.image)}detect(){const o=this.rectangleDetector.detect();let a=this.detectSolid1(o);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new re;a=this.shiftToModuleCenter(a);const c=a[0],d=a[1],h=a[2],C=a[3];let E=this.transitionsBetween(c,C)+1,S=this.transitionsBetween(h,C)+1;(E&1)===1&&(E+=1),(S&1)===1&&(S+=1),4*E<7*S&&4*S<7*E&&(E=S=Math.max(E,S));let N=ln.sampleGrid(this.image,c,d,h,C,E,S);return new $s(N,[c,d,h,C])}static shiftPoint(o,a,c){let d=(a.getX()-o.getX())/(c+1),h=(a.getY()-o.getY())/(c+1);return new Ve(o.getX()+d,o.getY()+h)}static moveAway(o,a,c){let d=o.getX(),h=o.getY();return d<a?d-=1:d+=1,h<c?h-=1:h+=1,new Ve(d,h)}detectSolid1(o){let a=o[0],c=o[1],d=o[3],h=o[2],C=this.transitionsBetween(a,c),E=this.transitionsBetween(c,d),S=this.transitionsBetween(d,h),N=this.transitionsBetween(h,a),R=C,U=[h,a,c,d];return R>E&&(R=E,U[0]=a,U[1]=c,U[2]=d,U[3]=h),R>S&&(R=S,U[0]=c,U[1]=d,U[2]=h,U[3]=a),R>N&&(U[0]=d,U[1]=h,U[2]=a,U[3]=c),U}detectSolid2(o){let a=o[0],c=o[1],d=o[2],h=o[3],C=this.transitionsBetween(a,h),E=ln.shiftPoint(c,d,(C+1)*4),S=ln.shiftPoint(d,c,(C+1)*4),N=this.transitionsBetween(E,a),R=this.transitionsBetween(S,h);return N<R?(o[0]=a,o[1]=c,o[2]=d,o[3]=h):(o[0]=c,o[1]=d,o[2]=h,o[3]=a),o}correctTopRight(o){let a=o[0],c=o[1],d=o[2],h=o[3],C=this.transitionsBetween(a,h),E=this.transitionsBetween(c,h),S=ln.shiftPoint(a,c,(E+1)*4),N=ln.shiftPoint(d,c,(C+1)*4);C=this.transitionsBetween(S,h),E=this.transitionsBetween(N,h);let R=new Ve(h.getX()+(d.getX()-c.getX())/(C+1),h.getY()+(d.getY()-c.getY())/(C+1)),U=new Ve(h.getX()+(a.getX()-c.getX())/(E+1),h.getY()+(a.getY()-c.getY())/(E+1));if(!this.isValid(R))return this.isValid(U)?U:null;if(!this.isValid(U))return R;let V=this.transitionsBetween(S,R)+this.transitionsBetween(N,R),X=this.transitionsBetween(S,U)+this.transitionsBetween(N,U);return V>X?R:U}shiftToModuleCenter(o){let a=o[0],c=o[1],d=o[2],h=o[3],C=this.transitionsBetween(a,h)+1,E=this.transitionsBetween(d,h)+1,S=ln.shiftPoint(a,c,E*4),N=ln.shiftPoint(d,c,C*4);C=this.transitionsBetween(S,h)+1,E=this.transitionsBetween(N,h)+1,(C&1)===1&&(C+=1),(E&1)===1&&(E+=1);let R=(a.getX()+c.getX()+d.getX()+h.getX())/4,U=(a.getY()+c.getY()+d.getY()+h.getY())/4;a=ln.moveAway(a,R,U),c=ln.moveAway(c,R,U),d=ln.moveAway(d,R,U),h=ln.moveAway(h,R,U);let V,X;return S=ln.shiftPoint(a,c,E*4),S=ln.shiftPoint(S,h,C*4),V=ln.shiftPoint(c,a,E*4),V=ln.shiftPoint(V,d,C*4),N=ln.shiftPoint(d,h,E*4),N=ln.shiftPoint(N,c,C*4),X=ln.shiftPoint(h,d,E*4),X=ln.shiftPoint(X,a,C*4),[S,V,N,X]}isValid(o){return o.getX()>=0&&o.getX()<this.image.getWidth()&&o.getY()>0&&o.getY()<this.image.getHeight()}static sampleGrid(o,a,c,d,h,C,E){return Qn.getInstance().sampleGrid(o,C,E,.5,.5,C-.5,.5,C-.5,E-.5,.5,E-.5,a.getX(),a.getY(),h.getX(),h.getY(),d.getX(),d.getY(),c.getX(),c.getY())}transitionsBetween(o,a){let c=Math.trunc(o.getX()),d=Math.trunc(o.getY()),h=Math.trunc(a.getX()),C=Math.trunc(a.getY()),E=Math.abs(C-d)>Math.abs(h-c);if(E){let $=c;c=d,d=$,$=h,h=C,C=$}let S=Math.abs(h-c),N=Math.abs(C-d),R=-S/2,U=d<C?1:-1,V=c<h?1:-1,X=0,J=this.image.get(E?d:c,E?c:d);for(let $=c,le=d;$!==h;$+=V){let ge=this.image.get(E?le:$,E?$:le);if(ge!==J&&(X++,J=ge),R+=N,R>0){if(le===C)break;le+=U,R-=S}}return X}}class Di{constructor(){this.decoder=new oa}decode(o,a=null){let c,d;if(a!=null&&a.has(oe.PURE_BARCODE)){const N=Di.extractPureBits(o.getBlackMatrix());c=this.decoder.decode(N),d=Di.NO_POINTS}else{const N=new ln(o.getBlackMatrix()).detect();c=this.decoder.decode(N.getBits()),d=N.getPoints()}const h=c.getRawBytes(),C=new Oe(c.getText(),h,8*h.length,d,be.DATA_MATRIX,D.currentTimeMillis()),E=c.getByteSegments();E!=null&&C.putMetadata(ke.BYTE_SEGMENTS,E);const S=c.getECLevel();return S!=null&&C.putMetadata(ke.ERROR_CORRECTION_LEVEL,S),C}reset(){}static extractPureBits(o){const a=o.getTopLeftOnBit(),c=o.getBottomRightOnBit();if(a==null||c==null)throw new re;const d=this.moduleSize(a,o);let h=a[1];const C=c[1];let E=a[0];const N=(c[0]-E+1)/d,R=(C-h+1)/d;if(N<=0||R<=0)throw new re;const U=d/2;h+=U,E+=U;const V=new qe(N,R);for(let X=0;X<R;X++){const J=h+X*d;for(let $=0;$<N;$++)o.get(E+$*d,J)&&V.set($,X)}return V}static moduleSize(o,a){const c=a.getWidth();let d=o[0];const h=o[1];for(;d<c&&a.get(d,h);)d++;if(d===c)throw new re;const C=d-o[0];if(C===0)throw new re;return C}}Di.NO_POINTS=[];class fd extends Se{constructor(o=500){super(new Di,o)}}var Pn;(function(k){k[k.L=0]="L",k[k.M=1]="M",k[k.Q=2]="Q",k[k.H=3]="H"})(Pn||(Pn={}));class Dt{constructor(o,a,c){this.value=o,this.stringValue=a,this.bits=c,Dt.FOR_BITS.set(c,this),Dt.FOR_VALUE.set(o,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(o){switch(o){case"L":return Dt.L;case"M":return Dt.M;case"Q":return Dt.Q;case"H":return Dt.H;default:throw new T(o+"not available")}}toString(){return this.stringValue}equals(o){if(!(o instanceof Dt))return!1;const a=o;return this.value===a.value}static forBits(o){if(o<0||o>=Dt.FOR_BITS.size)throw new _;return Dt.FOR_BITS.get(o)}}Dt.FOR_BITS=new Map,Dt.FOR_VALUE=new Map,Dt.L=new Dt(Pn.L,"L",1),Dt.M=new Dt(Pn.M,"M",0),Dt.Q=new Dt(Pn.Q,"Q",3),Dt.H=new Dt(Pn.H,"H",2);class Bn{constructor(o){this.errorCorrectionLevel=Dt.forBits(o>>3&3),this.dataMask=o&7}static numBitsDiffering(o,a){return H.bitCount(o^a)}static decodeFormatInformation(o,a){const c=Bn.doDecodeFormatInformation(o,a);return c!==null?c:Bn.doDecodeFormatInformation(o^Bn.FORMAT_INFO_MASK_QR,a^Bn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(o,a){let c=Number.MAX_SAFE_INTEGER,d=0;for(const h of Bn.FORMAT_INFO_DECODE_LOOKUP){const C=h[0];if(C===o||C===a)return new Bn(h[1]);let E=Bn.numBitsDiffering(o,C);E<c&&(d=h[1],c=E),o!==a&&(E=Bn.numBitsDiffering(a,C),E<c&&(d=h[1],c=E))}return c<=3?new Bn(d):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(o){if(!(o instanceof Bn))return!1;const a=o;return this.errorCorrectionLevel===a.errorCorrectionLevel&&this.dataMask===a.dataMask}}Bn.FORMAT_INFO_MASK_QR=21522,Bn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ce{constructor(o,...a){this.ecCodewordsPerBlock=o,this.ecBlocks=a}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let o=0;const a=this.ecBlocks;for(const c of a)o+=c.getCount();return o}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class Y{constructor(o,a){this.count=o,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ye{constructor(o,a,...c){this.versionNumber=o,this.alignmentPatternCenters=a,this.ecBlocks=c;let d=0;const h=c[0].getECCodewordsPerBlock(),C=c[0].getECBlocks();for(const E of C)d+=E.getCount()*(E.getDataCodewords()+h);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(o){return this.ecBlocks[o.getValue()]}static getProvisionalVersionForDimension(o){if(o%4!==1)throw new Z;try{return this.getVersionForNumber((o-17)/4)}catch{throw new Z}}static getVersionForNumber(o){if(o<1||o>40)throw new _;return Ye.VERSIONS[o-1]}static decodeVersionInformation(o){let a=Number.MAX_SAFE_INTEGER,c=0;for(let d=0;d<Ye.VERSION_DECODE_INFO.length;d++){const h=Ye.VERSION_DECODE_INFO[d];if(h===o)return Ye.getVersionForNumber(d+7);const C=Bn.numBitsDiffering(o,h);C<a&&(c=d+7,a=C)}return a<=3?Ye.getVersionForNumber(c):null}buildFunctionPattern(){const o=this.getDimensionForVersion(),a=new qe(o);a.setRegion(0,0,9,9),a.setRegion(o-8,0,8,9),a.setRegion(0,o-8,9,8);const c=this.alignmentPatternCenters.length;for(let d=0;d<c;d++){const h=this.alignmentPatternCenters[d]-2;for(let C=0;C<c;C++)d===0&&(C===0||C===c-1)||d===c-1&&C===0||a.setRegion(this.alignmentPatternCenters[C]-2,h,5,5)}return a.setRegion(6,9,1,o-17),a.setRegion(9,6,o-17,1),this.versionNumber>6&&(a.setRegion(o-11,0,3,6),a.setRegion(0,o-11,6,3)),a}toString(){return""+this.versionNumber}}Ye.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ye.VERSIONS=[new Ye(1,new Int32Array(0),new ce(7,new Y(1,19)),new ce(10,new Y(1,16)),new ce(13,new Y(1,13)),new ce(17,new Y(1,9))),new Ye(2,Int32Array.from([6,18]),new ce(10,new Y(1,34)),new ce(16,new Y(1,28)),new ce(22,new Y(1,22)),new ce(28,new Y(1,16))),new Ye(3,Int32Array.from([6,22]),new ce(15,new Y(1,55)),new ce(26,new Y(1,44)),new ce(18,new Y(2,17)),new ce(22,new Y(2,13))),new Ye(4,Int32Array.from([6,26]),new ce(20,new Y(1,80)),new ce(18,new Y(2,32)),new ce(26,new Y(2,24)),new ce(16,new Y(4,9))),new Ye(5,Int32Array.from([6,30]),new ce(26,new Y(1,108)),new ce(24,new Y(2,43)),new ce(18,new Y(2,15),new Y(2,16)),new ce(22,new Y(2,11),new Y(2,12))),new Ye(6,Int32Array.from([6,34]),new ce(18,new Y(2,68)),new ce(16,new Y(4,27)),new ce(24,new Y(4,19)),new ce(28,new Y(4,15))),new Ye(7,Int32Array.from([6,22,38]),new ce(20,new Y(2,78)),new ce(18,new Y(4,31)),new ce(18,new Y(2,14),new Y(4,15)),new ce(26,new Y(4,13),new Y(1,14))),new Ye(8,Int32Array.from([6,24,42]),new ce(24,new Y(2,97)),new ce(22,new Y(2,38),new Y(2,39)),new ce(22,new Y(4,18),new Y(2,19)),new ce(26,new Y(4,14),new Y(2,15))),new Ye(9,Int32Array.from([6,26,46]),new ce(30,new Y(2,116)),new ce(22,new Y(3,36),new Y(2,37)),new ce(20,new Y(4,16),new Y(4,17)),new ce(24,new Y(4,12),new Y(4,13))),new Ye(10,Int32Array.from([6,28,50]),new ce(18,new Y(2,68),new Y(2,69)),new ce(26,new Y(4,43),new Y(1,44)),new ce(24,new Y(6,19),new Y(2,20)),new ce(28,new Y(6,15),new Y(2,16))),new Ye(11,Int32Array.from([6,30,54]),new ce(20,new Y(4,81)),new ce(30,new Y(1,50),new Y(4,51)),new ce(28,new Y(4,22),new Y(4,23)),new ce(24,new Y(3,12),new Y(8,13))),new Ye(12,Int32Array.from([6,32,58]),new ce(24,new Y(2,92),new Y(2,93)),new ce(22,new Y(6,36),new Y(2,37)),new ce(26,new Y(4,20),new Y(6,21)),new ce(28,new Y(7,14),new Y(4,15))),new Ye(13,Int32Array.from([6,34,62]),new ce(26,new Y(4,107)),new ce(22,new Y(8,37),new Y(1,38)),new ce(24,new Y(8,20),new Y(4,21)),new ce(22,new Y(12,11),new Y(4,12))),new Ye(14,Int32Array.from([6,26,46,66]),new ce(30,new Y(3,115),new Y(1,116)),new ce(24,new Y(4,40),new Y(5,41)),new ce(20,new Y(11,16),new Y(5,17)),new ce(24,new Y(11,12),new Y(5,13))),new Ye(15,Int32Array.from([6,26,48,70]),new ce(22,new Y(5,87),new Y(1,88)),new ce(24,new Y(5,41),new Y(5,42)),new ce(30,new Y(5,24),new Y(7,25)),new ce(24,new Y(11,12),new Y(7,13))),new Ye(16,Int32Array.from([6,26,50,74]),new ce(24,new Y(5,98),new Y(1,99)),new ce(28,new Y(7,45),new Y(3,46)),new ce(24,new Y(15,19),new Y(2,20)),new ce(30,new Y(3,15),new Y(13,16))),new Ye(17,Int32Array.from([6,30,54,78]),new ce(28,new Y(1,107),new Y(5,108)),new ce(28,new Y(10,46),new Y(1,47)),new ce(28,new Y(1,22),new Y(15,23)),new ce(28,new Y(2,14),new Y(17,15))),new Ye(18,Int32Array.from([6,30,56,82]),new ce(30,new Y(5,120),new Y(1,121)),new ce(26,new Y(9,43),new Y(4,44)),new ce(28,new Y(17,22),new Y(1,23)),new ce(28,new Y(2,14),new Y(19,15))),new Ye(19,Int32Array.from([6,30,58,86]),new ce(28,new Y(3,113),new Y(4,114)),new ce(26,new Y(3,44),new Y(11,45)),new ce(26,new Y(17,21),new Y(4,22)),new ce(26,new Y(9,13),new Y(16,14))),new Ye(20,Int32Array.from([6,34,62,90]),new ce(28,new Y(3,107),new Y(5,108)),new ce(26,new Y(3,41),new Y(13,42)),new ce(30,new Y(15,24),new Y(5,25)),new ce(28,new Y(15,15),new Y(10,16))),new Ye(21,Int32Array.from([6,28,50,72,94]),new ce(28,new Y(4,116),new Y(4,117)),new ce(26,new Y(17,42)),new ce(28,new Y(17,22),new Y(6,23)),new ce(30,new Y(19,16),new Y(6,17))),new Ye(22,Int32Array.from([6,26,50,74,98]),new ce(28,new Y(2,111),new Y(7,112)),new ce(28,new Y(17,46)),new ce(30,new Y(7,24),new Y(16,25)),new ce(24,new Y(34,13))),new Ye(23,Int32Array.from([6,30,54,78,102]),new ce(30,new Y(4,121),new Y(5,122)),new ce(28,new Y(4,47),new Y(14,48)),new ce(30,new Y(11,24),new Y(14,25)),new ce(30,new Y(16,15),new Y(14,16))),new Ye(24,Int32Array.from([6,28,54,80,106]),new ce(30,new Y(6,117),new Y(4,118)),new ce(28,new Y(6,45),new Y(14,46)),new ce(30,new Y(11,24),new Y(16,25)),new ce(30,new Y(30,16),new Y(2,17))),new Ye(25,Int32Array.from([6,32,58,84,110]),new ce(26,new Y(8,106),new Y(4,107)),new ce(28,new Y(8,47),new Y(13,48)),new ce(30,new Y(7,24),new Y(22,25)),new ce(30,new Y(22,15),new Y(13,16))),new Ye(26,Int32Array.from([6,30,58,86,114]),new ce(28,new Y(10,114),new Y(2,115)),new ce(28,new Y(19,46),new Y(4,47)),new ce(28,new Y(28,22),new Y(6,23)),new ce(30,new Y(33,16),new Y(4,17))),new Ye(27,Int32Array.from([6,34,62,90,118]),new ce(30,new Y(8,122),new Y(4,123)),new ce(28,new Y(22,45),new Y(3,46)),new ce(30,new Y(8,23),new Y(26,24)),new ce(30,new Y(12,15),new Y(28,16))),new Ye(28,Int32Array.from([6,26,50,74,98,122]),new ce(30,new Y(3,117),new Y(10,118)),new ce(28,new Y(3,45),new Y(23,46)),new ce(30,new Y(4,24),new Y(31,25)),new ce(30,new Y(11,15),new Y(31,16))),new Ye(29,Int32Array.from([6,30,54,78,102,126]),new ce(30,new Y(7,116),new Y(7,117)),new ce(28,new Y(21,45),new Y(7,46)),new ce(30,new Y(1,23),new Y(37,24)),new ce(30,new Y(19,15),new Y(26,16))),new Ye(30,Int32Array.from([6,26,52,78,104,130]),new ce(30,new Y(5,115),new Y(10,116)),new ce(28,new Y(19,47),new Y(10,48)),new ce(30,new Y(15,24),new Y(25,25)),new ce(30,new Y(23,15),new Y(25,16))),new Ye(31,Int32Array.from([6,30,56,82,108,134]),new ce(30,new Y(13,115),new Y(3,116)),new ce(28,new Y(2,46),new Y(29,47)),new ce(30,new Y(42,24),new Y(1,25)),new ce(30,new Y(23,15),new Y(28,16))),new Ye(32,Int32Array.from([6,34,60,86,112,138]),new ce(30,new Y(17,115)),new ce(28,new Y(10,46),new Y(23,47)),new ce(30,new Y(10,24),new Y(35,25)),new ce(30,new Y(19,15),new Y(35,16))),new Ye(33,Int32Array.from([6,30,58,86,114,142]),new ce(30,new Y(17,115),new Y(1,116)),new ce(28,new Y(14,46),new Y(21,47)),new ce(30,new Y(29,24),new Y(19,25)),new ce(30,new Y(11,15),new Y(46,16))),new Ye(34,Int32Array.from([6,34,62,90,118,146]),new ce(30,new Y(13,115),new Y(6,116)),new ce(28,new Y(14,46),new Y(23,47)),new ce(30,new Y(44,24),new Y(7,25)),new ce(30,new Y(59,16),new Y(1,17))),new Ye(35,Int32Array.from([6,30,54,78,102,126,150]),new ce(30,new Y(12,121),new Y(7,122)),new ce(28,new Y(12,47),new Y(26,48)),new ce(30,new Y(39,24),new Y(14,25)),new ce(30,new Y(22,15),new Y(41,16))),new Ye(36,Int32Array.from([6,24,50,76,102,128,154]),new ce(30,new Y(6,121),new Y(14,122)),new ce(28,new Y(6,47),new Y(34,48)),new ce(30,new Y(46,24),new Y(10,25)),new ce(30,new Y(2,15),new Y(64,16))),new Ye(37,Int32Array.from([6,28,54,80,106,132,158]),new ce(30,new Y(17,122),new Y(4,123)),new ce(28,new Y(29,46),new Y(14,47)),new ce(30,new Y(49,24),new Y(10,25)),new ce(30,new Y(24,15),new Y(46,16))),new Ye(38,Int32Array.from([6,32,58,84,110,136,162]),new ce(30,new Y(4,122),new Y(18,123)),new ce(28,new Y(13,46),new Y(32,47)),new ce(30,new Y(48,24),new Y(14,25)),new ce(30,new Y(42,15),new Y(32,16))),new Ye(39,Int32Array.from([6,26,54,82,110,138,166]),new ce(30,new Y(20,117),new Y(4,118)),new ce(28,new Y(40,47),new Y(7,48)),new ce(30,new Y(43,24),new Y(22,25)),new ce(30,new Y(10,15),new Y(67,16))),new Ye(40,Int32Array.from([6,30,58,86,114,142,170]),new ce(30,new Y(19,118),new Y(6,119)),new ce(28,new Y(18,47),new Y(31,48)),new ce(30,new Y(34,24),new Y(34,25)),new ce(30,new Y(20,15),new Y(61,16)))];var Tn;(function(k){k[k.DATA_MASK_000=0]="DATA_MASK_000",k[k.DATA_MASK_001=1]="DATA_MASK_001",k[k.DATA_MASK_010=2]="DATA_MASK_010",k[k.DATA_MASK_011=3]="DATA_MASK_011",k[k.DATA_MASK_100=4]="DATA_MASK_100",k[k.DATA_MASK_101=5]="DATA_MASK_101",k[k.DATA_MASK_110=6]="DATA_MASK_110",k[k.DATA_MASK_111=7]="DATA_MASK_111"})(Tn||(Tn={}));class kn{constructor(o,a){this.value=o,this.isMasked=a}unmaskBitMatrix(o,a){for(let c=0;c<a;c++)for(let d=0;d<a;d++)this.isMasked(c,d)&&o.flip(d,c)}}kn.values=new Map([[Tn.DATA_MASK_000,new kn(Tn.DATA_MASK_000,(k,o)=>(k+o&1)===0)],[Tn.DATA_MASK_001,new kn(Tn.DATA_MASK_001,(k,o)=>(k&1)===0)],[Tn.DATA_MASK_010,new kn(Tn.DATA_MASK_010,(k,o)=>o%3===0)],[Tn.DATA_MASK_011,new kn(Tn.DATA_MASK_011,(k,o)=>(k+o)%3===0)],[Tn.DATA_MASK_100,new kn(Tn.DATA_MASK_100,(k,o)=>(Math.floor(k/2)+Math.floor(o/3)&1)===0)],[Tn.DATA_MASK_101,new kn(Tn.DATA_MASK_101,(k,o)=>k*o%6===0)],[Tn.DATA_MASK_110,new kn(Tn.DATA_MASK_110,(k,o)=>k*o%6<3)],[Tn.DATA_MASK_111,new kn(Tn.DATA_MASK_111,(k,o)=>(k+o+k*o%3&1)===0)]]);class dd{constructor(o){const a=o.getHeight();if(a<21||(a&3)!==1)throw new Z;this.bitMatrix=o}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let o=0;for(let h=0;h<6;h++)o=this.copyBit(h,8,o);o=this.copyBit(7,8,o),o=this.copyBit(8,8,o),o=this.copyBit(8,7,o);for(let h=5;h>=0;h--)o=this.copyBit(8,h,o);const a=this.bitMatrix.getHeight();let c=0;const d=a-7;for(let h=a-1;h>=d;h--)c=this.copyBit(8,h,c);for(let h=a-8;h<a;h++)c=this.copyBit(h,8,c);if(this.parsedFormatInfo=Bn.decodeFormatInformation(o,c),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Z}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const o=this.bitMatrix.getHeight(),a=Math.floor((o-17)/4);if(a<=6)return Ye.getVersionForNumber(a);let c=0;const d=o-11;for(let C=5;C>=0;C--)for(let E=o-9;E>=d;E--)c=this.copyBit(E,C,c);let h=Ye.decodeVersionInformation(c);if(h!==null&&h.getDimensionForVersion()===o)return this.parsedVersion=h,h;c=0;for(let C=5;C>=0;C--)for(let E=o-9;E>=d;E--)c=this.copyBit(C,E,c);if(h=Ye.decodeVersionInformation(c),h!==null&&h.getDimensionForVersion()===o)return this.parsedVersion=h,h;throw new Z}copyBit(o,a,c){return(this.isMirror?this.bitMatrix.get(a,o):this.bitMatrix.get(o,a))?c<<1|1:c<<1}readCodewords(){const o=this.readFormatInformation(),a=this.readVersion(),c=kn.values.get(o.getDataMask()),d=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,d);const h=a.buildFunctionPattern();let C=!0;const E=new Uint8Array(a.getTotalCodewords());let S=0,N=0,R=0;for(let U=d-1;U>0;U-=2){U===6&&U--;for(let V=0;V<d;V++){const X=C?d-1-V:V;for(let J=0;J<2;J++)h.get(U-J,X)||(R++,N<<=1,this.bitMatrix.get(U-J,X)&&(N|=1),R===8&&(E[S++]=N,R=0,N=0))}C=!C}if(S!==a.getTotalCodewords())throw new Z;return E}remask(){if(this.parsedFormatInfo===null)return;const o=kn.values[this.parsedFormatInfo.getDataMask()],a=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,a)}setMirror(o){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=o}mirror(){const o=this.bitMatrix;for(let a=0,c=o.getWidth();a<c;a++)for(let d=a+1,h=o.getHeight();d<h;d++)o.get(a,d)!==o.get(d,a)&&(o.flip(d,a),o.flip(a,d))}}class sa{constructor(o,a){this.numDataCodewords=o,this.codewords=a}static getDataBlocks(o,a,c){if(o.length!==a.getTotalCodewords())throw new _;const d=a.getECBlocksForLevel(c);let h=0;const C=d.getECBlocks();for(const J of C)h+=J.getCount();const E=new Array(h);let S=0;for(const J of C)for(let $=0;$<J.getCount();$++){const le=J.getDataCodewords(),ge=d.getECCodewordsPerBlock()+le;E[S++]=new sa(le,new Uint8Array(ge))}const N=E[0].codewords.length;let R=E.length-1;for(;R>=0&&E[R].codewords.length!==N;)R--;R++;const U=N-d.getECCodewordsPerBlock();let V=0;for(let J=0;J<U;J++)for(let $=0;$<S;$++)E[$].codewords[J]=o[V++];for(let J=R;J<S;J++)E[J].codewords[U]=o[V++];const X=E[0].codewords.length;for(let J=U;J<X;J++)for(let $=0;$<S;$++){const le=$<R?J:J+1;E[$].codewords[le]=o[V++]}return E}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var hi;(function(k){k[k.TERMINATOR=0]="TERMINATOR",k[k.NUMERIC=1]="NUMERIC",k[k.ALPHANUMERIC=2]="ALPHANUMERIC",k[k.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",k[k.BYTE=4]="BYTE",k[k.ECI=5]="ECI",k[k.KANJI=6]="KANJI",k[k.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",k[k.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",k[k.HANZI=9]="HANZI"})(hi||(hi={}));class We{constructor(o,a,c,d){this.value=o,this.stringValue=a,this.characterCountBitsForVersions=c,this.bits=d,We.FOR_BITS.set(d,this),We.FOR_VALUE.set(o,this)}static forBits(o){const a=We.FOR_BITS.get(o);if(a===void 0)throw new _;return a}getCharacterCountBits(o){const a=o.getVersionNumber();let c;return a<=9?c=0:a<=26?c=1:c=2,this.characterCountBitsForVersions[c]}getValue(){return this.value}getBits(){return this.bits}equals(o){if(!(o instanceof We))return!1;const a=o;return this.value===a.value}toString(){return this.stringValue}}We.FOR_BITS=new Map,We.FOR_VALUE=new Map,We.TERMINATOR=new We(hi.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),We.NUMERIC=new We(hi.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),We.ALPHANUMERIC=new We(hi.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),We.STRUCTURED_APPEND=new We(hi.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),We.BYTE=new We(hi.BYTE,"BYTE",Int32Array.from([8,16,16]),4),We.ECI=new We(hi.ECI,"ECI",Int32Array.from([0,0,0]),7),We.KANJI=new We(hi.KANJI,"KANJI",Int32Array.from([8,10,12]),8),We.FNC1_FIRST_POSITION=new We(hi.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),We.FNC1_SECOND_POSITION=new We(hi.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),We.HANZI=new We(hi.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class rn{static decode(o,a,c,d){const h=new ii(o);let C=new Be;const E=new Array;let S=-1,N=-1;try{let R=null,U=!1,V;do{if(h.available()<4)V=We.TERMINATOR;else{const X=h.readBits(4);V=We.forBits(X)}switch(V){case We.TERMINATOR:break;case We.FNC1_FIRST_POSITION:case We.FNC1_SECOND_POSITION:U=!0;break;case We.STRUCTURED_APPEND:if(h.available()<16)throw new Z;S=h.readBits(8),N=h.readBits(8);break;case We.ECI:const X=rn.parseECIValue(h);if(R=ee.getCharacterSetECIByValue(X),R===null)throw new Z;break;case We.HANZI:const J=h.readBits(4),$=h.readBits(V.getCharacterCountBits(a));J===rn.GB2312_SUBSET&&rn.decodeHanziSegment(h,C,$);break;default:const le=h.readBits(V.getCharacterCountBits(a));switch(V){case We.NUMERIC:rn.decodeNumericSegment(h,C,le);break;case We.ALPHANUMERIC:rn.decodeAlphanumericSegment(h,C,le,U);break;case We.BYTE:rn.decodeByteSegment(h,C,le,R,E,d);break;case We.KANJI:rn.decodeKanjiSegment(h,C,le);break;default:throw new Z}break}}while(V!==We.TERMINATOR)}catch{throw new Z}return new Ct(o,C.toString(),E.length===0?null:E,c===null?null:c.toString(),S,N)}static decodeHanziSegment(o,a,c){if(c*13>o.available())throw new Z;const d=new Uint8Array(2*c);let h=0;for(;c>0;){const C=o.readBits(13);let E=C/96<<8&4294967295|C%96;E<959?E+=41377:E+=42657,d[h]=E>>8&255,d[h+1]=E&255,h+=2,c--}try{a.append(Re.decode(d,Te.GB2312))}catch(C){throw new Z(C)}}static decodeKanjiSegment(o,a,c){if(c*13>o.available())throw new Z;const d=new Uint8Array(2*c);let h=0;for(;c>0;){const C=o.readBits(13);let E=C/192<<8&4294967295|C%192;E<7936?E+=33088:E+=49472,d[h]=E>>8,d[h+1]=E,h+=2,c--}try{a.append(Re.decode(d,Te.SHIFT_JIS))}catch(C){throw new Z(C)}}static decodeByteSegment(o,a,c,d,h,C){if(8*c>o.available())throw new Z;const E=new Uint8Array(c);for(let N=0;N<c;N++)E[N]=o.readBits(8);let S;d===null?S=Te.guessEncoding(E,C):S=d.getName();try{a.append(Re.decode(E,S))}catch(N){throw new Z(N)}h.push(E)}static toAlphaNumericChar(o){if(o>=rn.ALPHANUMERIC_CHARS.length)throw new Z;return rn.ALPHANUMERIC_CHARS[o]}static decodeAlphanumericSegment(o,a,c,d){const h=a.length();for(;c>1;){if(o.available()<11)throw new Z;const C=o.readBits(11);a.append(rn.toAlphaNumericChar(Math.floor(C/45))),a.append(rn.toAlphaNumericChar(C%45)),c-=2}if(c===1){if(o.available()<6)throw new Z;a.append(rn.toAlphaNumericChar(o.readBits(6)))}if(d)for(let C=h;C<a.length();C++)a.charAt(C)==="%"&&(C<a.length()-1&&a.charAt(C+1)==="%"?a.deleteCharAt(C+1):a.setCharAt(C,""))}static decodeNumericSegment(o,a,c){for(;c>=3;){if(o.available()<10)throw new Z;const d=o.readBits(10);if(d>=1e3)throw new Z;a.append(rn.toAlphaNumericChar(Math.floor(d/100))),a.append(rn.toAlphaNumericChar(Math.floor(d/10)%10)),a.append(rn.toAlphaNumericChar(d%10)),c-=3}if(c===2){if(o.available()<7)throw new Z;const d=o.readBits(7);if(d>=100)throw new Z;a.append(rn.toAlphaNumericChar(Math.floor(d/10))),a.append(rn.toAlphaNumericChar(d%10))}else if(c===1){if(o.available()<4)throw new Z;const d=o.readBits(4);if(d>=10)throw new Z;a.append(rn.toAlphaNumericChar(d))}}static parseECIValue(o){const a=o.readBits(8);if((a&128)===0)return a&127;if((a&192)===128){const c=o.readBits(8);return(a&63)<<8&4294967295|c}if((a&224)===192){const c=o.readBits(16);return(a&31)<<16&4294967295|c}throw new Z}}rn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",rn.GB2312_SUBSET=1;class Xc{constructor(o){this.mirrored=o}isMirrored(){return this.mirrored}applyMirroredCorrection(o){if(!this.mirrored||o===null||o.length<3)return;const a=o[0];o[0]=o[2],o[2]=a}}class aa{constructor(){this.rsDecoder=new Mi(et.QR_CODE_FIELD_256)}decodeBooleanArray(o,a){return this.decodeBitMatrix(qe.parseFromBooleanArray(o),a)}decodeBitMatrix(o,a){const c=new dd(o);let d=null;try{return this.decodeBitMatrixParser(c,a)}catch(h){d=h}try{c.remask(),c.setMirror(!0),c.readVersion(),c.readFormatInformation(),c.mirror();const h=this.decodeBitMatrixParser(c,a);return h.setOther(new Xc(!0)),h}catch(h){throw d!==null?d:h}}decodeBitMatrixParser(o,a){const c=o.readVersion(),d=o.readFormatInformation().getErrorCorrectionLevel(),h=o.readCodewords(),C=sa.getDataBlocks(h,c,d);let E=0;for(const R of C)E+=R.getNumDataCodewords();const S=new Uint8Array(E);let N=0;for(const R of C){const U=R.getCodewords(),V=R.getNumDataCodewords();this.correctErrors(U,V);for(let X=0;X<V;X++)S[N++]=U[X]}return rn.decode(S,c,d,a)}correctErrors(o,a){const c=new Int32Array(o);try{this.rsDecoder.decode(c,o.length-a)}catch{throw new O}for(let d=0;d<a;d++)o[d]=c[d]}}class ys extends Ve{constructor(o,a,c){super(o,a),this.estimatedModuleSize=c}aboutEquals(o,a,c){if(Math.abs(a-this.getY())<=o&&Math.abs(c-this.getX())<=o){const d=Math.abs(o-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1}combineEstimate(o,a,c){const d=(this.getX()+a)/2,h=(this.getY()+o)/2,C=(this.estimatedModuleSize+c)/2;return new ys(d,h,C)}}class wo{constructor(o,a,c,d,h,C,E){this.image=o,this.startX=a,this.startY=c,this.width=d,this.height=h,this.moduleSize=C,this.resultPointCallback=E,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const o=this.startX,a=this.height,c=this.width,d=o+c,h=this.startY+a/2,C=new Int32Array(3),E=this.image;for(let S=0;S<a;S++){const N=h+((S&1)===0?Math.floor((S+1)/2):-Math.floor((S+1)/2));C[0]=0,C[1]=0,C[2]=0;let R=o;for(;R<d&&!E.get(R,N);)R++;let U=0;for(;R<d;){if(E.get(R,N))if(U===1)C[1]++;else if(U===2){if(this.foundPatternCross(C)){const V=this.handlePossibleCenter(C,N,R);if(V!==null)return V}C[0]=C[2],C[1]=1,C[2]=0,U=1}else C[++U]++;else U===1&&U++,C[U]++;R++}if(this.foundPatternCross(C)){const V=this.handlePossibleCenter(C,N,d);if(V!==null)return V}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new re}static centerFromEnd(o,a){return a-o[2]-o[1]/2}foundPatternCross(o){const a=this.moduleSize,c=a/2;for(let d=0;d<3;d++)if(Math.abs(a-o[d])>=c)return!1;return!0}crossCheckVertical(o,a,c,d){const h=this.image,C=h.getHeight(),E=this.crossCheckStateCount;E[0]=0,E[1]=0,E[2]=0;let S=o;for(;S>=0&&h.get(a,S)&&E[1]<=c;)E[1]++,S--;if(S<0||E[1]>c)return NaN;for(;S>=0&&!h.get(a,S)&&E[0]<=c;)E[0]++,S--;if(E[0]>c)return NaN;for(S=o+1;S<C&&h.get(a,S)&&E[1]<=c;)E[1]++,S++;if(S===C||E[1]>c)return NaN;for(;S<C&&!h.get(a,S)&&E[2]<=c;)E[2]++,S++;if(E[2]>c)return NaN;const N=E[0]+E[1]+E[2];return 5*Math.abs(N-d)>=2*d?NaN:this.foundPatternCross(E)?wo.centerFromEnd(E,S):NaN}handlePossibleCenter(o,a,c){const d=o[0]+o[1]+o[2],h=wo.centerFromEnd(o,c),C=this.crossCheckVertical(a,h,2*o[1],d);if(!isNaN(C)){const E=(o[0]+o[1]+o[2])/3;for(const N of this.possibleCenters)if(N.aboutEquals(E,C,h))return N.combineEstimate(C,h,E);const S=new ys(h,C,E);this.possibleCenters.push(S),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(S)}return null}}class Sr extends Ve{constructor(o,a,c,d){super(o,a),this.estimatedModuleSize=c,this.count=d,d===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(o,a,c){if(Math.abs(a-this.getY())<=o&&Math.abs(c-this.getX())<=o){const d=Math.abs(o-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1}combineEstimate(o,a,c){const d=this.count+1,h=(this.count*this.getX()+a)/d,C=(this.count*this.getY()+o)/d,E=(this.count*this.estimatedModuleSize+c)/d;return new Sr(h,C,E,d)}}class Ao{constructor(o){this.bottomLeft=o[0],this.topLeft=o[1],this.topRight=o[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Sn{constructor(o,a){this.image=o,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(o){const a=o!=null&&o.get(oe.TRY_HARDER)!==void 0,c=o!=null&&o.get(oe.PURE_BARCODE)!==void 0,d=this.image,h=d.getHeight(),C=d.getWidth();let E=Math.floor(3*h/(4*Sn.MAX_MODULES));(E<Sn.MIN_SKIP||a)&&(E=Sn.MIN_SKIP);let S=!1;const N=new Int32Array(5);for(let U=E-1;U<h&&!S;U+=E){N[0]=0,N[1]=0,N[2]=0,N[3]=0,N[4]=0;let V=0;for(let X=0;X<C;X++)if(d.get(X,U))(V&1)===1&&V++,N[V]++;else if((V&1)===0)if(V===4)if(Sn.foundPatternCross(N)){if(this.handlePossibleCenter(N,U,X,c)===!0)if(E=2,this.hasSkipped===!0)S=this.haveMultiplyConfirmedCenters();else{const $=this.findRowSkip();$>N[2]&&(U+=$-N[2]-E,X=C-1)}else{N[0]=N[2],N[1]=N[3],N[2]=N[4],N[3]=1,N[4]=0,V=3;continue}V=0,N[0]=0,N[1]=0,N[2]=0,N[3]=0,N[4]=0}else N[0]=N[2],N[1]=N[3],N[2]=N[4],N[3]=1,N[4]=0,V=3;else N[++V]++;else N[V]++;Sn.foundPatternCross(N)&&this.handlePossibleCenter(N,U,C,c)===!0&&(E=N[0],this.hasSkipped&&(S=this.haveMultiplyConfirmedCenters()))}const R=this.selectBestPatterns();return Ve.orderBestPatterns(R),new Ao(R)}static centerFromEnd(o,a){return a-o[4]-o[3]-o[2]/2}static foundPatternCross(o){let a=0;for(let h=0;h<5;h++){const C=o[h];if(C===0)return!1;a+=C}if(a<7)return!1;const c=a/7,d=c/2;return Math.abs(c-o[0])<d&&Math.abs(c-o[1])<d&&Math.abs(3*c-o[2])<3*d&&Math.abs(c-o[3])<d&&Math.abs(c-o[4])<d}getCrossCheckStateCount(){const o=this.crossCheckStateCount;return o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o}crossCheckDiagonal(o,a,c,d){const h=this.getCrossCheckStateCount();let C=0;const E=this.image;for(;o>=C&&a>=C&&E.get(a-C,o-C);)h[2]++,C++;if(o<C||a<C)return!1;for(;o>=C&&a>=C&&!E.get(a-C,o-C)&&h[1]<=c;)h[1]++,C++;if(o<C||a<C||h[1]>c)return!1;for(;o>=C&&a>=C&&E.get(a-C,o-C)&&h[0]<=c;)h[0]++,C++;if(h[0]>c)return!1;const S=E.getHeight(),N=E.getWidth();for(C=1;o+C<S&&a+C<N&&E.get(a+C,o+C);)h[2]++,C++;if(o+C>=S||a+C>=N)return!1;for(;o+C<S&&a+C<N&&!E.get(a+C,o+C)&&h[3]<c;)h[3]++,C++;if(o+C>=S||a+C>=N||h[3]>=c)return!1;for(;o+C<S&&a+C<N&&E.get(a+C,o+C)&&h[4]<c;)h[4]++,C++;if(h[4]>=c)return!1;const R=h[0]+h[1]+h[2]+h[3]+h[4];return Math.abs(R-d)<2*d&&Sn.foundPatternCross(h)}crossCheckVertical(o,a,c,d){const h=this.image,C=h.getHeight(),E=this.getCrossCheckStateCount();let S=o;for(;S>=0&&h.get(a,S);)E[2]++,S--;if(S<0)return NaN;for(;S>=0&&!h.get(a,S)&&E[1]<=c;)E[1]++,S--;if(S<0||E[1]>c)return NaN;for(;S>=0&&h.get(a,S)&&E[0]<=c;)E[0]++,S--;if(E[0]>c)return NaN;for(S=o+1;S<C&&h.get(a,S);)E[2]++,S++;if(S===C)return NaN;for(;S<C&&!h.get(a,S)&&E[3]<c;)E[3]++,S++;if(S===C||E[3]>=c)return NaN;for(;S<C&&h.get(a,S)&&E[4]<c;)E[4]++,S++;if(E[4]>=c)return NaN;const N=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(N-d)>=2*d?NaN:Sn.foundPatternCross(E)?Sn.centerFromEnd(E,S):NaN}crossCheckHorizontal(o,a,c,d){const h=this.image,C=h.getWidth(),E=this.getCrossCheckStateCount();let S=o;for(;S>=0&&h.get(S,a);)E[2]++,S--;if(S<0)return NaN;for(;S>=0&&!h.get(S,a)&&E[1]<=c;)E[1]++,S--;if(S<0||E[1]>c)return NaN;for(;S>=0&&h.get(S,a)&&E[0]<=c;)E[0]++,S--;if(E[0]>c)return NaN;for(S=o+1;S<C&&h.get(S,a);)E[2]++,S++;if(S===C)return NaN;for(;S<C&&!h.get(S,a)&&E[3]<c;)E[3]++,S++;if(S===C||E[3]>=c)return NaN;for(;S<C&&h.get(S,a)&&E[4]<c;)E[4]++,S++;if(E[4]>=c)return NaN;const N=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(N-d)>=d?NaN:Sn.foundPatternCross(E)?Sn.centerFromEnd(E,S):NaN}handlePossibleCenter(o,a,c,d){const h=o[0]+o[1]+o[2]+o[3]+o[4];let C=Sn.centerFromEnd(o,c),E=this.crossCheckVertical(a,Math.floor(C),o[2],h);if(!isNaN(E)&&(C=this.crossCheckHorizontal(Math.floor(C),Math.floor(E),o[2],h),!isNaN(C)&&(!d||this.crossCheckDiagonal(Math.floor(E),Math.floor(C),o[2],h)))){const S=h/7;let N=!1;const R=this.possibleCenters;for(let U=0,V=R.length;U<V;U++){const X=R[U];if(X.aboutEquals(S,E,C)){R[U]=X.combineEstimate(E,C,S),N=!0;break}}if(!N){const U=new Sr(C,E,S);R.push(U),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(U)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(const c of this.possibleCenters)if(c.getCount()>=Sn.CENTER_QUORUM)if(a==null)a=c;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-c.getX())-Math.abs(a.getY()-c.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let o=0,a=0;const c=this.possibleCenters.length;for(const C of this.possibleCenters)C.getCount()>=Sn.CENTER_QUORUM&&(o++,a+=C.getEstimatedModuleSize());if(o<3)return!1;const d=a/c;let h=0;for(const C of this.possibleCenters)h+=Math.abs(C.getEstimatedModuleSize()-d);return h<=.05*a}selectBestPatterns(){const o=this.possibleCenters.length;if(o<3)throw new re;const a=this.possibleCenters;let c;if(o>3){let d=0,h=0;for(const S of this.possibleCenters){const N=S.getEstimatedModuleSize();d+=N,h+=N*N}c=d/o;let C=Math.sqrt(h/o-c*c);a.sort((S,N)=>{const R=Math.abs(N.getEstimatedModuleSize()-c),U=Math.abs(S.getEstimatedModuleSize()-c);return R<U?-1:R>U?1:0});const E=Math.max(.2*c,C);for(let S=0;S<a.length&&a.length>3;S++){const N=a[S];Math.abs(N.getEstimatedModuleSize()-c)>E&&(a.splice(S,1),S--)}}if(a.length>3){let d=0;for(const h of a)d+=h.getEstimatedModuleSize();c=d/a.length,a.sort((h,C)=>{if(C.getCount()===h.getCount()){const E=Math.abs(C.getEstimatedModuleSize()-c),S=Math.abs(h.getEstimatedModuleSize()-c);return E<S?1:E>S?-1:0}else return C.getCount()-h.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}Sn.CENTER_QUORUM=2,Sn.MIN_SKIP=3,Sn.MAX_MODULES=57;class Wr{constructor(o){this.image=o}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(o){this.resultPointCallback=o==null?null:o.get(oe.NEED_RESULT_POINT_CALLBACK);const c=new Sn(this.image,this.resultPointCallback).find(o);return this.processFinderPatternInfo(c)}processFinderPatternInfo(o){const a=o.getTopLeft(),c=o.getTopRight(),d=o.getBottomLeft(),h=this.calculateModuleSize(a,c,d);if(h<1)throw new re("No pattern found in proccess finder.");const C=Wr.computeDimension(a,c,d,h),E=Ye.getProvisionalVersionForDimension(C),S=E.getDimensionForVersion()-7;let N=null;if(E.getAlignmentPatternCenters().length>0){const X=c.getX()-a.getX()+d.getX(),J=c.getY()-a.getY()+d.getY(),$=1-3/S,le=Math.floor(a.getX()+$*(X-a.getX())),ge=Math.floor(a.getY()+$*(J-a.getY()));for(let Ne=4;Ne<=16;Ne<<=1)try{N=this.findAlignmentInRegion(h,le,ge,Ne);break}catch(Ie){if(!(Ie instanceof re))throw Ie}}const R=Wr.createTransform(a,c,d,N,C),U=Wr.sampleGrid(this.image,R,C);let V;return N===null?V=[d,a,c]:V=[d,a,c,N],new $s(U,V)}static createTransform(o,a,c,d,h){const C=h-3.5;let E,S,N,R;return d!==null?(E=d.getX(),S=d.getY(),N=C-3,R=N):(E=a.getX()-o.getX()+c.getX(),S=a.getY()-o.getY()+c.getY(),N=C,R=C),Zn.quadrilateralToQuadrilateral(3.5,3.5,C,3.5,N,R,3.5,C,o.getX(),o.getY(),a.getX(),a.getY(),E,S,c.getX(),c.getY())}static sampleGrid(o,a,c){return Qn.getInstance().sampleGridWithTransform(o,c,c,a)}static computeDimension(o,a,c,d){const h=ct.round(Ve.distance(o,a)/d),C=ct.round(Ve.distance(o,c)/d);let E=Math.floor((h+C)/2)+7;switch(E&3){case 0:E++;break;case 2:E--;break;case 3:throw new re("Dimensions could be not found.")}return E}calculateModuleSize(o,a,c){return(this.calculateModuleSizeOneWay(o,a)+this.calculateModuleSizeOneWay(o,c))/2}calculateModuleSizeOneWay(o,a){const c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(a.getX()),Math.floor(a.getY())),d=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(o.getX()),Math.floor(o.getY()));return isNaN(c)?d/7:isNaN(d)?c/7:(c+d)/14}sizeOfBlackWhiteBlackRunBothWays(o,a,c,d){let h=this.sizeOfBlackWhiteBlackRun(o,a,c,d),C=1,E=o-(c-o);E<0?(C=o/(o-E),E=0):E>=this.image.getWidth()&&(C=(this.image.getWidth()-1-o)/(E-o),E=this.image.getWidth()-1);let S=Math.floor(a-(d-a)*C);return C=1,S<0?(C=a/(a-S),S=0):S>=this.image.getHeight()&&(C=(this.image.getHeight()-1-a)/(S-a),S=this.image.getHeight()-1),E=Math.floor(o+(E-o)*C),h+=this.sizeOfBlackWhiteBlackRun(o,a,E,S),h-1}sizeOfBlackWhiteBlackRun(o,a,c,d){const h=Math.abs(d-a)>Math.abs(c-o);if(h){let X=o;o=a,a=X,X=c,c=d,d=X}const C=Math.abs(c-o),E=Math.abs(d-a);let S=-C/2;const N=o<c?1:-1,R=a<d?1:-1;let U=0;const V=c+N;for(let X=o,J=a;X!==V;X+=N){const $=h?J:X,le=h?X:J;if(U===1===this.image.get($,le)){if(U===2)return ct.distance(X,J,o,a);U++}if(S+=E,S>0){if(J===d)break;J+=R,S-=C}}return U===2?ct.distance(c+N,d,o,a):NaN}findAlignmentInRegion(o,a,c,d){const h=Math.floor(d*o),C=Math.max(0,a-h),E=Math.min(this.image.getWidth()-1,a+h);if(E-C<o*3)throw new re("Alignment top exceeds estimated module size.");const S=Math.max(0,c-h),N=Math.min(this.image.getHeight()-1,c+h);if(N-S<o*3)throw new re("Alignment bottom exceeds estimated module size.");return new wo(this.image,C,S,E-C,N-S,o,this.resultPointCallback).find()}}class ar{constructor(){this.decoder=new aa}getDecoder(){return this.decoder}decode(o,a){let c,d;if(a!=null&&a.get(oe.PURE_BARCODE)!==void 0){const S=ar.extractPureBits(o.getBlackMatrix());c=this.decoder.decodeBitMatrix(S,a),d=ar.NO_POINTS}else{const S=new Wr(o.getBlackMatrix()).detect(a);c=this.decoder.decodeBitMatrix(S.getBits(),a),d=S.getPoints()}c.getOther()instanceof Xc&&c.getOther().applyMirroredCorrection(d);const h=new Oe(c.getText(),c.getRawBytes(),void 0,d,be.QR_CODE,void 0),C=c.getByteSegments();C!==null&&h.putMetadata(ke.BYTE_SEGMENTS,C);const E=c.getECLevel();return E!==null&&h.putMetadata(ke.ERROR_CORRECTION_LEVEL,E),c.hasStructuredAppend()&&(h.putMetadata(ke.STRUCTURED_APPEND_SEQUENCE,c.getStructuredAppendSequenceNumber()),h.putMetadata(ke.STRUCTURED_APPEND_PARITY,c.getStructuredAppendParity())),h}reset(){}static extractPureBits(o){const a=o.getTopLeftOnBit(),c=o.getBottomRightOnBit();if(a===null||c===null)throw new re;const d=this.moduleSize(a,o);let h=a[1],C=c[1],E=a[0],S=c[0];if(E>=S||h>=C)throw new re;if(C-h!==S-E&&(S=E+(C-h),S>=o.getWidth()))throw new re;const N=Math.round((S-E+1)/d),R=Math.round((C-h+1)/d);if(N<=0||R<=0)throw new re;if(R!==N)throw new re;const U=Math.floor(d/2);h+=U,E+=U;const V=E+Math.floor((N-1)*d)-S;if(V>0){if(V>U)throw new re;E-=V}const X=h+Math.floor((R-1)*d)-C;if(X>0){if(X>U)throw new re;h-=X}const J=new qe(N,R);for(let $=0;$<R;$++){const le=h+Math.floor($*d);for(let ge=0;ge<N;ge++)o.get(E+Math.floor(ge*d),le)&&J.set(ge,$)}return J}static moduleSize(o,a){const c=a.getHeight(),d=a.getWidth();let h=o[0],C=o[1],E=!0,S=0;for(;h<d&&C<c;){if(E!==a.get(h,C)){if(++S===5)break;E=!E}h++,C++}if(h===d||C===c)throw new re;return(h-o[0])/7}}ar.NO_POINTS=new Array;class Ke{PDF417Common(){}static getBitCountSum(o){return ct.sum(o)}static toIntArray(o){if(o==null||!o.length)return Ke.EMPTY_INT_ARRAY;const a=new Int32Array(o.length);let c=0;for(const d of o)a[c++]=d;return a}static getCodeword(o){const a=q.binarySearch(Ke.SYMBOL_TABLE,o&262143);return a<0?-1:(Ke.CODEWORD_TABLE[a]-1)%Ke.NUMBER_OF_CODEWORDS}}Ke.NUMBER_OF_CODEWORDS=929,Ke.MAX_CODEWORDS_IN_BARCODE=Ke.NUMBER_OF_CODEWORDS-1,Ke.MIN_ROWS_IN_BARCODE=3,Ke.MAX_ROWS_IN_BARCODE=90,Ke.MODULES_IN_CODEWORD=17,Ke.MODULES_IN_STOP_PATTERN=18,Ke.BARS_IN_MODULE=8,Ke.EMPTY_INT_ARRAY=new Int32Array([]),Ke.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ke.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class lr{constructor(o,a){this.bits=o,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class rt{static detectMultiple(o,a,c){let d=o.getBlackMatrix(),h=rt.detect(c,d);return h.length||(d=d.clone(),d.rotate180(),h=rt.detect(c,d)),new lr(d,h)}static detect(o,a){const c=new Array;let d=0,h=0,C=!1;for(;d<a.getHeight();){const E=rt.findVertices(a,d,h);if(E[0]==null&&E[3]==null){if(!C)break;C=!1,h=0;for(const S of c)S[1]!=null&&(d=Math.trunc(Math.max(d,S[1].getY()))),S[3]!=null&&(d=Math.max(d,Math.trunc(S[3].getY())));d+=rt.ROW_STEP;continue}if(C=!0,c.push(E),!o)break;E[2]!=null?(h=Math.trunc(E[2].getX()),d=Math.trunc(E[2].getY())):(h=Math.trunc(E[4].getX()),d=Math.trunc(E[4].getY()))}return c}static findVertices(o,a,c){const d=o.getHeight(),h=o.getWidth(),C=new Array(8);return rt.copyToResult(C,rt.findRowsWithPattern(o,d,h,a,c,rt.START_PATTERN),rt.INDEXES_START_PATTERN),C[4]!=null&&(c=Math.trunc(C[4].getX()),a=Math.trunc(C[4].getY())),rt.copyToResult(C,rt.findRowsWithPattern(o,d,h,a,c,rt.STOP_PATTERN),rt.INDEXES_STOP_PATTERN),C}static copyToResult(o,a,c){for(let d=0;d<c.length;d++)o[c[d]]=a[d]}static findRowsWithPattern(o,a,c,d,h,C){const E=new Array(4);let S=!1;const N=new Int32Array(C.length);for(;d<a;d+=rt.ROW_STEP){let U=rt.findGuardPattern(o,h,d,c,!1,C,N);if(U!=null){for(;d>0;){const V=rt.findGuardPattern(o,h,--d,c,!1,C,N);if(V!=null)U=V;else{d++;break}}E[0]=new Ve(U[0],d),E[1]=new Ve(U[1],d),S=!0;break}}let R=d+1;if(S){let U=0,V=Int32Array.from([Math.trunc(E[0].getX()),Math.trunc(E[1].getX())]);for(;R<a;R++){const X=rt.findGuardPattern(o,V[0],R,c,!1,C,N);if(X!=null&&Math.abs(V[0]-X[0])<rt.MAX_PATTERN_DRIFT&&Math.abs(V[1]-X[1])<rt.MAX_PATTERN_DRIFT)V=X,U=0;else{if(U>rt.SKIPPED_ROW_COUNT_MAX)break;U++}}R-=U+1,E[2]=new Ve(V[0],R),E[3]=new Ve(V[1],R)}return R-d<rt.BARCODE_MIN_HEIGHT&&q.fill(E,null),E}static findGuardPattern(o,a,c,d,h,C,E){q.fillWithin(E,0,E.length,0);let S=a,N=0;for(;o.get(S,c)&&S>0&&N++<rt.MAX_PIXEL_DRIFT;)S--;let R=S,U=0,V=C.length;for(let X=h;R<d;R++)if(o.get(R,c)!==X)E[U]++;else{if(U===V-1){if(rt.patternMatchVariance(E,C,rt.MAX_INDIVIDUAL_VARIANCE)<rt.MAX_AVG_VARIANCE)return new Int32Array([S,R]);S+=E[0]+E[1],D.arraycopy(E,2,E,0,U-1),E[U-1]=0,E[U]=0,U--}else U++;E[U]=1,X=!X}return U===V-1&&rt.patternMatchVariance(E,C,rt.MAX_INDIVIDUAL_VARIANCE)<rt.MAX_AVG_VARIANCE?new Int32Array([S,R-1]):null}static patternMatchVariance(o,a,c){let d=o.length,h=0,C=0;for(let N=0;N<d;N++)h+=o[N],C+=a[N];if(h<C)return 1/0;let E=h/C;c*=E;let S=0;for(let N=0;N<d;N++){let R=o[N],U=a[N]*E,V=R>U?R-U:U-R;if(V>c)return 1/0;S+=V}return S/h}}rt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),rt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),rt.MAX_AVG_VARIANCE=.42,rt.MAX_INDIVIDUAL_VARIANCE=.8,rt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),rt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),rt.MAX_PIXEL_DRIFT=3,rt.MAX_PATTERN_DRIFT=5,rt.SKIPPED_ROW_COUNT_MAX=25,rt.ROW_STEP=5,rt.BARCODE_MIN_HEIGHT=10;class dn{constructor(o,a){if(a.length===0)throw new _;this.field=o;let c=a.length;if(c>1&&a[0]===0){let d=1;for(;d<c&&a[d]===0;)d++;d===c?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(c-d),D.arraycopy(a,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);if(o===1){let d=0;for(let h of this.coefficients)d=this.field.add(d,h);return d}let a=this.coefficients[0],c=this.coefficients.length;for(let d=1;d<c;d++)a=this.field.add(this.field.multiply(o,a),this.coefficients[d]);return a}add(o){if(!this.field.equals(o.field))throw new _("ModulusPolys do not have same ModulusGF field");if(this.isZero())return o;if(o.isZero())return this;let a=this.coefficients,c=o.coefficients;if(a.length>c.length){let C=a;a=c,c=C}let d=new Int32Array(c.length),h=c.length-a.length;D.arraycopy(c,0,d,0,h);for(let C=h;C<c.length;C++)d[C]=this.field.add(a[C-h],c[C]);return new dn(this.field,d)}subtract(o){if(!this.field.equals(o.field))throw new _("ModulusPolys do not have same ModulusGF field");return o.isZero()?this:this.add(o.negative())}multiply(o){return o instanceof dn?this.multiplyOther(o):this.multiplyScalar(o)}multiplyOther(o){if(!this.field.equals(o.field))throw new _("ModulusPolys do not have same ModulusGF field");if(this.isZero()||o.isZero())return new dn(this.field,new Int32Array([0]));let a=this.coefficients,c=a.length,d=o.coefficients,h=d.length,C=new Int32Array(c+h-1);for(let E=0;E<c;E++){let S=a[E];for(let N=0;N<h;N++)C[E+N]=this.field.add(C[E+N],this.field.multiply(S,d[N]))}return new dn(this.field,C)}negative(){let o=this.coefficients.length,a=new Int32Array(o);for(let c=0;c<o;c++)a[c]=this.field.subtract(0,this.coefficients[c]);return new dn(this.field,a)}multiplyScalar(o){if(o===0)return new dn(this.field,new Int32Array([0]));if(o===1)return this;let a=this.coefficients.length,c=new Int32Array(a);for(let d=0;d<a;d++)c[d]=this.field.multiply(this.coefficients[d],o);return new dn(this.field,c)}multiplyByMonomial(o,a){if(o<0)throw new _;if(a===0)return new dn(this.field,new Int32Array([0]));let c=this.coefficients.length,d=new Int32Array(c+o);for(let h=0;h<c;h++)d[h]=this.field.multiply(this.coefficients[h],a);return new dn(this.field,d)}toString(){let o=new Be;for(let a=this.getDegree();a>=0;a--){let c=this.getCoefficient(a);c!==0&&(c<0?(o.append(" - "),c=-c):o.length()>0&&o.append(" + "),(a===0||c!==1)&&o.append(c),a!==0&&(a===1?o.append("x"):(o.append("x^"),o.append(a))))}return o.toString()}}class br{add(o,a){return(o+a)%this.modulus}subtract(o,a){return(this.modulus+o-a)%this.modulus}exp(o){return this.expTable[o]}log(o){if(o===0)throw new _;return this.logTable[o]}inverse(o){if(o===0)throw new st;return this.expTable[this.modulus-this.logTable[o]-1]}multiply(o,a){return o===0||a===0?0:this.expTable[(this.logTable[o]+this.logTable[a])%(this.modulus-1)]}getSize(){return this.modulus}equals(o){return o===this}}class Cs extends br{constructor(o,a){super(),this.modulus=o,this.expTable=new Int32Array(o),this.logTable=new Int32Array(o);let c=1;for(let d=0;d<o;d++)this.expTable[d]=c,c=c*a%o;for(let d=0;d<o-1;d++)this.logTable[this.expTable[d]]=d;this.zero=new dn(this,new Int32Array([0])),this.one=new dn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,a){if(o<0)throw new _;if(a===0)return this.zero;let c=new Int32Array(o+1);return c[0]=a,new dn(this,c)}}Cs.PDF417_GF=new Cs(Ke.NUMBER_OF_CODEWORDS,3);class vs{constructor(){this.field=Cs.PDF417_GF}decode(o,a,c){let d=new dn(this.field,o),h=new Int32Array(a),C=!1;for(let J=a;J>0;J--){let $=d.evaluateAt(this.field.exp(J));h[a-J]=$,$!==0&&(C=!0)}if(!C)return 0;let E=this.field.getOne();if(c!=null)for(const J of c){let $=this.field.exp(o.length-1-J),le=new dn(this.field,new Int32Array([this.field.subtract(0,$),1]));E=E.multiply(le)}let S=new dn(this.field,h),N=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),S,a),R=N[0],U=N[1],V=this.findErrorLocations(R),X=this.findErrorMagnitudes(U,R,V);for(let J=0;J<V.length;J++){let $=o.length-1-this.field.log(V[J]);if($<0)throw O.getChecksumInstance();o[$]=this.field.subtract(o[$],X[J])}return V.length}runEuclideanAlgorithm(o,a,c){if(o.getDegree()<a.getDegree()){let V=o;o=a,a=V}let d=o,h=a,C=this.field.getZero(),E=this.field.getOne();for(;h.getDegree()>=Math.round(c/2);){let V=d,X=C;if(d=h,C=E,d.isZero())throw O.getChecksumInstance();h=V;let J=this.field.getZero(),$=d.getCoefficient(d.getDegree()),le=this.field.inverse($);for(;h.getDegree()>=d.getDegree()&&!h.isZero();){let ge=h.getDegree()-d.getDegree(),Ne=this.field.multiply(h.getCoefficient(h.getDegree()),le);J=J.add(this.field.buildMonomial(ge,Ne)),h=h.subtract(d.multiplyByMonomial(ge,Ne))}E=J.multiply(C).subtract(X).negative()}let S=E.getCoefficient(0);if(S===0)throw O.getChecksumInstance();let N=this.field.inverse(S),R=E.multiply(N),U=h.multiply(N);return[R,U]}findErrorLocations(o){let a=o.getDegree(),c=new Int32Array(a),d=0;for(let h=1;h<this.field.getSize()&&d<a;h++)o.evaluateAt(h)===0&&(c[d]=this.field.inverse(h),d++);if(d!==a)throw O.getChecksumInstance();return c}findErrorMagnitudes(o,a,c){let d=a.getDegree(),h=new Int32Array(d);for(let N=1;N<=d;N++)h[d-N]=this.field.multiply(N,a.getCoefficient(N));let C=new dn(this.field,h),E=c.length,S=new Int32Array(E);for(let N=0;N<E;N++){let R=this.field.inverse(c[N]),U=this.field.subtract(0,o.evaluateAt(R)),V=this.field.inverse(C.evaluateAt(R));S[N]=this.field.multiply(U,V)}return S}}class _r{constructor(o,a,c,d,h){o instanceof _r?this.constructor_2(o):this.constructor_1(o,a,c,d,h)}constructor_1(o,a,c,d,h){const C=a==null||c==null,E=d==null||h==null;if(C&&E)throw new re;C?(a=new Ve(0,d.getY()),c=new Ve(0,h.getY())):E&&(d=new Ve(o.getWidth()-1,a.getY()),h=new Ve(o.getWidth()-1,c.getY())),this.image=o,this.topLeft=a,this.bottomLeft=c,this.topRight=d,this.bottomRight=h,this.minX=Math.trunc(Math.min(a.getX(),c.getX())),this.maxX=Math.trunc(Math.max(d.getX(),h.getX())),this.minY=Math.trunc(Math.min(a.getY(),d.getY())),this.maxY=Math.trunc(Math.max(c.getY(),h.getY()))}constructor_2(o){this.image=o.image,this.topLeft=o.getTopLeft(),this.bottomLeft=o.getBottomLeft(),this.topRight=o.getTopRight(),this.bottomRight=o.getBottomRight(),this.minX=o.getMinX(),this.maxX=o.getMaxX(),this.minY=o.getMinY(),this.maxY=o.getMaxY()}static merge(o,a){return o==null?a:a==null?o:new _r(o.image,o.topLeft,o.bottomLeft,a.topRight,a.bottomRight)}addMissingRows(o,a,c){let d=this.topLeft,h=this.bottomLeft,C=this.topRight,E=this.bottomRight;if(o>0){let S=c?this.topLeft:this.topRight,N=Math.trunc(S.getY()-o);N<0&&(N=0);let R=new Ve(S.getX(),N);c?d=R:C=R}if(a>0){let S=c?this.bottomLeft:this.bottomRight,N=Math.trunc(S.getY()+a);N>=this.image.getHeight()&&(N=this.image.getHeight()-1);let R=new Ve(S.getX(),N);c?h=R:E=R}return new _r(this.image,d,h,C,E)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class la{constructor(o,a,c,d){this.columnCount=o,this.errorCorrectionLevel=d,this.rowCountUpperPart=a,this.rowCountLowerPart=c,this.rowCount=a+c}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Nr{constructor(){this.buffer=""}static form(o,a){let c=-1;function d(C,E,S,N,R,U){if(C==="%%")return"%";if(a[++c]===void 0)return;C=N?parseInt(N.substr(1)):void 0;let V=R?parseInt(R.substr(1)):void 0,X;switch(U){case"s":X=a[c];break;case"c":X=a[c][0];break;case"f":X=parseFloat(a[c]).toFixed(C);break;case"p":X=parseFloat(a[c]).toPrecision(C);break;case"e":X=parseFloat(a[c]).toExponential(C);break;case"x":X=parseInt(a[c]).toString(V||16);break;case"d":X=parseFloat(parseInt(a[c],V||10).toPrecision(C)).toFixed(0);break}X=typeof X=="object"?JSON.stringify(X):(+X).toString(V);let J=parseInt(S),$=S&&S[0]+""=="0"?"0":" ";for(;X.length<J;)X=E!==void 0?X+$:$+X;return X}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(h,d)}format(o,...a){this.buffer+=Nr.form(o,a)}toString(){return this.buffer}}class To{constructor(o){this.boundingBox=new _r(o),this.codewords=new Array(o.getMaxY()-o.getMinY()+1)}getCodewordNearby(o){let a=this.getCodeword(o);if(a!=null)return a;for(let c=1;c<To.MAX_NEARBY_DISTANCE;c++){let d=this.imageRowToCodewordIndex(o)-c;if(d>=0&&(a=this.codewords[d],a!=null)||(d=this.imageRowToCodewordIndex(o)+c,d<this.codewords.length&&(a=this.codewords[d],a!=null)))return a}return null}imageRowToCodewordIndex(o){return o-this.boundingBox.getMinY()}setCodeword(o,a){this.codewords[this.imageRowToCodewordIndex(o)]=a}getCodeword(o){return this.codewords[this.imageRowToCodewordIndex(o)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const o=new Nr;let a=0;for(const c of this.codewords){if(c==null){o.format("%3d:    |   %n",a++);continue}o.format("%3d: %3d|%3d%n",a++,c.getRowNumber(),c.getValue())}return o.toString()}}To.MAX_NEARBY_DISTANCE=5;class Rn{constructor(){this.values=new Map}setValue(o){o=Math.trunc(o);let a=this.values.get(o);a==null&&(a=0),a++,this.values.set(o,a)}getValue(){let o=-1,a=new Array;for(const[c,d]of this.values.entries()){const h={getKey:()=>c,getValue:()=>d};h.getValue()>o?(o=h.getValue(),a=[],a.push(h.getKey())):h.getValue()===o&&a.push(h.getKey())}return Ke.toIntArray(a)}getConfidence(o){return this.values.get(o)}}class Mr extends To{constructor(o,a){super(o),this._isLeft=a}setRowNumbers(){for(let o of this.getCodewords())o!=null&&o.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(o){let a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,o);let c=this.getBoundingBox(),d=this._isLeft?c.getTopLeft():c.getTopRight(),h=this._isLeft?c.getBottomLeft():c.getBottomRight(),C=this.imageRowToCodewordIndex(Math.trunc(d.getY())),E=this.imageRowToCodewordIndex(Math.trunc(h.getY())),S=-1,N=1,R=0;for(let U=C;U<E;U++){if(a[U]==null)continue;let V=a[U],X=V.getRowNumber()-S;if(X===0)R++;else if(X===1)N=Math.max(N,R),R=1,S=V.getRowNumber();else if(X<0||V.getRowNumber()>=o.getRowCount()||X>U)a[U]=null;else{let J;N>2?J=(N-2)*X:J=X;let $=J>=U;for(let le=1;le<=J&&!$;le++)$=a[U-le]!=null;$?a[U]=null:(S=V.getRowNumber(),R=1)}}}getRowHeights(){let o=this.getBarcodeMetadata();if(o==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(o);let a=new Int32Array(o.getRowCount());for(let c of this.getCodewords())if(c!=null){let d=c.getRowNumber();if(d>=a.length)continue;a[d]++}return a}adjustIncompleteIndicatorColumnRowNumbers(o){let a=this.getBoundingBox(),c=this._isLeft?a.getTopLeft():a.getTopRight(),d=this._isLeft?a.getBottomLeft():a.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),C=this.imageRowToCodewordIndex(Math.trunc(d.getY())),E=this.getCodewords(),S=-1;for(let N=h;N<C;N++){if(E[N]==null)continue;let R=E[N];R.setRowNumberAsRowIndicatorColumn();let U=R.getRowNumber()-S;U===0||(U===1?S=R.getRowNumber():R.getRowNumber()>=o.getRowCount()?E[N]=null:S=R.getRowNumber())}}getBarcodeMetadata(){let o=this.getCodewords(),a=new Rn,c=new Rn,d=new Rn,h=new Rn;for(let E of o){if(E==null)continue;E.setRowNumberAsRowIndicatorColumn();let S=E.getValue()%30,N=E.getRowNumber();switch(this._isLeft||(N+=2),N%3){case 0:c.setValue(S*3+1);break;case 1:h.setValue(S/3),d.setValue(S%3);break;case 2:a.setValue(S+1);break}}if(a.getValue().length===0||c.getValue().length===0||d.getValue().length===0||h.getValue().length===0||a.getValue()[0]<1||c.getValue()[0]+d.getValue()[0]<Ke.MIN_ROWS_IN_BARCODE||c.getValue()[0]+d.getValue()[0]>Ke.MAX_ROWS_IN_BARCODE)return null;let C=new la(a.getValue()[0],c.getValue()[0],d.getValue()[0],h.getValue()[0]);return this.removeIncorrectCodewords(o,C),C}removeIncorrectCodewords(o,a){for(let c=0;c<o.length;c++){let d=o[c];if(o[c]==null)continue;let h=d.getValue()%30,C=d.getRowNumber();if(C>a.getRowCount()){o[c]=null;continue}switch(this._isLeft||(C+=2),C%3){case 0:h*3+1!==a.getRowCountUpperPart()&&(o[c]=null);break;case 1:(Math.trunc(h/3)!==a.getErrorCorrectionLevel()||h%3!==a.getRowCountLowerPart())&&(o[c]=null);break;case 2:h+1!==a.getColumnCount()&&(o[c]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ir{constructor(o,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=o,this.barcodeColumnCount=o.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let o=Ke.MAX_CODEWORDS_IN_BARCODE,a;do a=o,o=this.adjustRowNumbersAndGetCount();while(o>0&&o<a);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(o){o!=null&&o.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let o=this.adjustRowNumbersByRow();if(o===0)return 0;for(let a=1;a<this.barcodeColumnCount+1;a++){let c=this.detectionResultColumns[a].getCodewords();for(let d=0;d<c.length;d++)c[d]!=null&&(c[d].hasValidRowNumber()||this.adjustRowNumbers(a,d,c))}return o}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let o=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<o.length;c++)if(o[c]!=null&&a[c]!=null&&o[c].getRowNumber()===a[c].getRowNumber())for(let d=1;d<=this.barcodeColumnCount;d++){let h=this.detectionResultColumns[d].getCodewords()[c];h!=null&&(h.setRowNumber(o[c].getRowNumber()),h.hasValidRowNumber()||(this.detectionResultColumns[d].getCodewords()[c]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let o=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<a.length;c++){if(a[c]==null)continue;let d=a[c].getRowNumber(),h=0;for(let C=this.barcodeColumnCount+1;C>0&&h<this.ADJUST_ROW_NUMBER_SKIP;C--){let E=this.detectionResultColumns[C].getCodewords()[c];E!=null&&(h=Ir.adjustRowNumberIfValid(d,h,E),E.hasValidRowNumber()||o++)}}return o}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let o=0,a=this.detectionResultColumns[0].getCodewords();for(let c=0;c<a.length;c++){if(a[c]==null)continue;let d=a[c].getRowNumber(),h=0;for(let C=1;C<this.barcodeColumnCount+1&&h<this.ADJUST_ROW_NUMBER_SKIP;C++){let E=this.detectionResultColumns[C].getCodewords()[c];E!=null&&(h=Ir.adjustRowNumberIfValid(d,h,E),E.hasValidRowNumber()||o++)}}return o}static adjustRowNumberIfValid(o,a,c){return c==null||c.hasValidRowNumber()||(c.isValidRowNumber(o)?(c.setRowNumber(o),a=0):++a),a}adjustRowNumbers(o,a,c){if(!this.detectionResultColumns[o-1])return;let d=c[a],h=this.detectionResultColumns[o-1].getCodewords(),C=h;this.detectionResultColumns[o+1]!=null&&(C=this.detectionResultColumns[o+1].getCodewords());let E=new Array(14);E[2]=h[a],E[3]=C[a],a>0&&(E[0]=c[a-1],E[4]=h[a-1],E[5]=C[a-1]),a>1&&(E[8]=c[a-2],E[10]=h[a-2],E[11]=C[a-2]),a<c.length-1&&(E[1]=c[a+1],E[6]=h[a+1],E[7]=C[a+1]),a<c.length-2&&(E[9]=c[a+2],E[12]=h[a+2],E[13]=C[a+2]);for(let S of E)if(Ir.adjustRowNumber(d,S))return}static adjustRowNumber(o,a){return a==null?!1:a.hasValidRowNumber()&&a.getBucket()===o.getBucket()?(o.setRowNumber(a.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(o){this.boundingBox=o}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(o,a){this.detectionResultColumns[o]=a}getDetectionResultColumn(o){return this.detectionResultColumns[o]}toString(){let o=this.detectionResultColumns[0];o==null&&(o=this.detectionResultColumns[this.barcodeColumnCount+1]);let a=new Nr;for(let c=0;c<o.getCodewords().length;c++){a.format("CW %3d:",c);for(let d=0;d<this.barcodeColumnCount+2;d++){if(this.detectionResultColumns[d]==null){a.format("    |   ");continue}let h=this.detectionResultColumns[d].getCodewords()[c];if(h==null){a.format("    |   ");continue}a.format(" %3d|%3d",h.getRowNumber(),h.getValue())}a.format("%n")}return a.toString()}}class cr{constructor(o,a,c,d){this.rowNumber=cr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(o),this.endX=Math.trunc(a),this.bucket=Math.trunc(c),this.value=Math.trunc(d)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(o){return o!==cr.BARCODE_ROW_UNKNOWN&&this.bucket===o%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(o){this.rowNumber=o}toString(){return this.rowNumber+"|"+this.value}}cr.BARCODE_ROW_UNKNOWN=-1;class ri{static initialize(){for(let o=0;o<Ke.SYMBOL_TABLE.length;o++){let a=Ke.SYMBOL_TABLE[o],c=a&1;for(let d=0;d<Ke.BARS_IN_MODULE;d++){let h=0;for(;(a&1)===c;)h+=1,a>>=1;c=a&1,ri.RATIOS_TABLE[o]||(ri.RATIOS_TABLE[o]=new Array(Ke.BARS_IN_MODULE)),ri.RATIOS_TABLE[o][Ke.BARS_IN_MODULE-d-1]=Math.fround(h/Ke.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(o){let a=ri.getDecodedCodewordValue(ri.sampleBitCounts(o));return a!==-1?a:ri.getClosestDecodedValue(o)}static sampleBitCounts(o){let a=ct.sum(o),c=new Int32Array(Ke.BARS_IN_MODULE),d=0,h=0;for(let C=0;C<Ke.MODULES_IN_CODEWORD;C++){let E=a/(2*Ke.MODULES_IN_CODEWORD)+C*a/Ke.MODULES_IN_CODEWORD;h+o[d]<=E&&(h+=o[d],d++),c[d]++}return c}static getDecodedCodewordValue(o){let a=ri.getBitValue(o);return Ke.getCodeword(a)===-1?-1:a}static getBitValue(o){let a=0;for(let c=0;c<o.length;c++)for(let d=0;d<o[c];d++)a=a<<1|(c%2===0?1:0);return Math.trunc(a)}static getClosestDecodedValue(o){let a=ct.sum(o),c=new Array(Ke.BARS_IN_MODULE);if(a>1)for(let C=0;C<c.length;C++)c[C]=Math.fround(o[C]/a);let d=gs.MAX_VALUE,h=-1;this.bSymbolTableReady||ri.initialize();for(let C=0;C<ri.RATIOS_TABLE.length;C++){let E=0,S=ri.RATIOS_TABLE[C];for(let N=0;N<Ke.BARS_IN_MODULE;N++){let R=Math.fround(S[N]-c[N]);if(E+=Math.fround(R*R),E>=d)break}E<d&&(d=E,h=Ke.SYMBOL_TABLE[C])}return h}}ri.bSymbolTableReady=!1,ri.RATIOS_TABLE=new Array(Ke.SYMBOL_TABLE.length).map(k=>new Array(Ke.BARS_IN_MODULE));class ca{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(o){this.segmentIndex=o}getFileId(){return this.fileId}setFileId(o){this.fileId=o}getOptionalData(){return this.optionalData}setOptionalData(o){this.optionalData=o}isLastSegment(){return this.lastSegment}setLastSegment(o){this.lastSegment=o}getSegmentCount(){return this.segmentCount}setSegmentCount(o){this.segmentCount=o}getSender(){return this.sender||null}setSender(o){this.sender=o}getAddressee(){return this.addressee||null}setAddressee(o){this.addressee=o}getFileName(){return this.fileName}setFileName(o){this.fileName=o}getFileSize(){return this.fileSize}setFileSize(o){this.fileSize=o}getChecksum(){return this.checksum}setChecksum(o){this.checksum=o}getTimestamp(){return this.timestamp}setTimestamp(o){this.timestamp=o}}class ua{static parseLong(o,a=void 0){return parseInt(o,a)}}class So extends y{}So.kind="NullPointerException";class fa{writeBytes(o){this.writeBytesOffset(o,0,o.length)}writeBytesOffset(o,a,c){if(o==null)throw new So;if(a<0||a>o.length||c<0||a+c>o.length||a+c<0)throw new F;if(c===0)return;for(let d=0;d<c;d++)this.write(o[a+d])}flush(){}close(){}}class Wc extends y{}class hd extends fa{constructor(o=32){if(super(),this.count=0,o<0)throw new _("Negative initial size: "+o);this.buf=new Uint8Array(o)}ensureCapacity(o){o-this.buf.length>0&&this.grow(o)}grow(o){let c=this.buf.length<<1;if(c-o<0&&(c=o),c<0){if(o<0)throw new Wc;c=H.MAX_VALUE}this.buf=q.copyOfUint8Array(this.buf,c)}write(o){this.ensureCapacity(this.count+1),this.buf[this.count]=o,this.count+=1}writeBytesOffset(o,a,c){if(a<0||a>o.length||c<0||a+c-o.length>0)throw new F;this.ensureCapacity(this.count+c),D.arraycopy(o,a,this.buf,this.count,c),this.count+=c}writeTo(o){o.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return q.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(o){return o?typeof o=="string"?this.toString_string(o):this.toString_number(o):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(o){return new String(this.buf).toString()}toString_number(o){return new String(this.buf).toString()}close(){}}var Ot;(function(k){k[k.ALPHA=0]="ALPHA",k[k.LOWER=1]="LOWER",k[k.MIXED=2]="MIXED",k[k.PUNCT=3]="PUNCT",k[k.ALPHA_SHIFT=4]="ALPHA_SHIFT",k[k.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ot||(Ot={}));function jc(){if(typeof window<"u")return window.BigInt||null;if(typeof Ju<"u")return Ju.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let bo;function Rr(k){if(typeof bo>"u"&&(bo=jc()),bo===null)throw new Error("BigInt is not supported!");return bo(k)}function gd(){let k=[];k[0]=Rr(1);let o=Rr(900);k[1]=o;for(let a=2;a<16;a++)k[a]=k[a-1]*o;return k}class pe{static decode(o,a){let c=new Be(""),d=ee.ISO8859_1;c.enableDecoding(d);let h=1,C=o[h++],E=new ca;for(;h<o[0];){switch(C){case pe.TEXT_COMPACTION_MODE_LATCH:h=pe.textCompaction(o,h,c);break;case pe.BYTE_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH_6:h=pe.byteCompaction(C,o,d,h,c);break;case pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[h++]);break;case pe.NUMERIC_COMPACTION_MODE_LATCH:h=pe.numericCompaction(o,h,c);break;case pe.ECI_CHARSET:ee.getCharacterSetECIByValue(o[h++]);break;case pe.ECI_GENERAL_PURPOSE:h+=2;break;case pe.ECI_USER_DEFINED:h++;break;case pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:h=pe.decodeMacroBlock(o,h,E);break;case pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case pe.MACRO_PDF417_TERMINATOR:throw new Z;default:h--,h=pe.textCompaction(o,h,c);break}if(h<o.length)C=o[h++];else throw Z.getFormatInstance()}if(c.length()===0)throw Z.getFormatInstance();let S=new Ct(null,c.toString(),null,a);return S.setOther(E),S}static decodeMacroBlock(o,a,c){if(a+pe.NUMBER_OF_SEQUENCE_CODEWORDS>o[0])throw Z.getFormatInstance();let d=new Int32Array(pe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let E=0;E<pe.NUMBER_OF_SEQUENCE_CODEWORDS;E++,a++)d[E]=o[a];c.setSegmentIndex(H.parseInt(pe.decodeBase900toBase10(d,pe.NUMBER_OF_SEQUENCE_CODEWORDS)));let h=new Be;a=pe.textCompaction(o,a,h),c.setFileId(h.toString());let C=-1;for(o[a]===pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(C=a+1);a<o[0];)switch(o[a]){case pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(a++,o[a]){case pe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let E=new Be;a=pe.textCompaction(o,a+1,E),c.setFileName(E.toString());break;case pe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let S=new Be;a=pe.textCompaction(o,a+1,S),c.setSender(S.toString());break;case pe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let N=new Be;a=pe.textCompaction(o,a+1,N),c.setAddressee(N.toString());break;case pe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let R=new Be;a=pe.numericCompaction(o,a+1,R),c.setSegmentCount(H.parseInt(R.toString()));break;case pe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let U=new Be;a=pe.numericCompaction(o,a+1,U),c.setTimestamp(ua.parseLong(U.toString()));break;case pe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let V=new Be;a=pe.numericCompaction(o,a+1,V),c.setChecksum(H.parseInt(V.toString()));break;case pe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let X=new Be;a=pe.numericCompaction(o,a+1,X),c.setFileSize(ua.parseLong(X.toString()));break;default:throw Z.getFormatInstance()}break;case pe.MACRO_PDF417_TERMINATOR:a++,c.setLastSegment(!0);break;default:throw Z.getFormatInstance()}if(C!==-1){let E=a-C;c.isLastSegment()&&E--,c.setOptionalData(q.copyOfRange(o,C,C+E))}return a}static textCompaction(o,a,c){let d=new Int32Array((o[0]-a)*2),h=new Int32Array((o[0]-a)*2),C=0,E=!1;for(;a<o[0]&&!E;){let S=o[a++];if(S<pe.TEXT_COMPACTION_MODE_LATCH)d[C]=S/30,d[C+1]=S%30,C+=2;else switch(S){case pe.TEXT_COMPACTION_MODE_LATCH:d[C++]=pe.TEXT_COMPACTION_MODE_LATCH;break;case pe.BYTE_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH_6:case pe.NUMERIC_COMPACTION_MODE_LATCH:case pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case pe.MACRO_PDF417_TERMINATOR:a--,E=!0;break;case pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d[C]=pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,S=o[a++],h[C]=S,C++;break}}return pe.decodeTextCompaction(d,h,C,c),a}static decodeTextCompaction(o,a,c,d){let h=Ot.ALPHA,C=Ot.ALPHA,E=0;for(;E<c;){let S=o[E],N="";switch(h){case Ot.ALPHA:if(S<26)N=String.fromCharCode(65+S);else switch(S){case 26:N=" ";break;case pe.LL:h=Ot.LOWER;break;case pe.ML:h=Ot.MIXED;break;case pe.PS:C=h,h=Ot.PUNCT_SHIFT;break;case pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[E]);break;case pe.TEXT_COMPACTION_MODE_LATCH:h=Ot.ALPHA;break}break;case Ot.LOWER:if(S<26)N=String.fromCharCode(97+S);else switch(S){case 26:N=" ";break;case pe.AS:C=h,h=Ot.ALPHA_SHIFT;break;case pe.ML:h=Ot.MIXED;break;case pe.PS:C=h,h=Ot.PUNCT_SHIFT;break;case pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[E]);break;case pe.TEXT_COMPACTION_MODE_LATCH:h=Ot.ALPHA;break}break;case Ot.MIXED:if(S<pe.PL)N=pe.MIXED_CHARS[S];else switch(S){case pe.PL:h=Ot.PUNCT;break;case 26:N=" ";break;case pe.LL:h=Ot.LOWER;break;case pe.AL:h=Ot.ALPHA;break;case pe.PS:C=h,h=Ot.PUNCT_SHIFT;break;case pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[E]);break;case pe.TEXT_COMPACTION_MODE_LATCH:h=Ot.ALPHA;break}break;case Ot.PUNCT:if(S<pe.PAL)N=pe.PUNCT_CHARS[S];else switch(S){case pe.PAL:h=Ot.ALPHA;break;case pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[E]);break;case pe.TEXT_COMPACTION_MODE_LATCH:h=Ot.ALPHA;break}break;case Ot.ALPHA_SHIFT:if(h=C,S<26)N=String.fromCharCode(65+S);else switch(S){case 26:N=" ";break;case pe.TEXT_COMPACTION_MODE_LATCH:h=Ot.ALPHA;break}break;case Ot.PUNCT_SHIFT:if(h=C,S<pe.PAL)N=pe.PUNCT_CHARS[S];else switch(S){case pe.PAL:h=Ot.ALPHA;break;case pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[E]);break;case pe.TEXT_COMPACTION_MODE_LATCH:h=Ot.ALPHA;break}break}N!==""&&d.append(N),E++}}static byteCompaction(o,a,c,d,h){let C=new hd,E=0,S=0,N=!1;switch(o){case pe.BYTE_COMPACTION_MODE_LATCH:let R=new Int32Array(6),U=a[d++];for(;d<a[0]&&!N;)switch(R[E++]=U,S=900*S+U,U=a[d++],U){case pe.TEXT_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH:case pe.NUMERIC_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH_6:case pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case pe.MACRO_PDF417_TERMINATOR:d--,N=!0;break;default:if(E%5===0&&E>0){for(let V=0;V<6;++V)C.write(Number(Rr(S)>>Rr(8*(5-V))));S=0,E=0}break}d===a[0]&&U<pe.TEXT_COMPACTION_MODE_LATCH&&(R[E++]=U);for(let V=0;V<E;V++)C.write(R[V]);break;case pe.BYTE_COMPACTION_MODE_LATCH_6:for(;d<a[0]&&!N;){let V=a[d++];if(V<pe.TEXT_COMPACTION_MODE_LATCH)E++,S=900*S+V;else switch(V){case pe.TEXT_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH:case pe.NUMERIC_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH_6:case pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case pe.MACRO_PDF417_TERMINATOR:d--,N=!0;break}if(E%5===0&&E>0){for(let X=0;X<6;++X)C.write(Number(Rr(S)>>Rr(8*(5-X))));S=0,E=0}}break}return h.append(Re.decode(C.toByteArray(),c)),d}static numericCompaction(o,a,c){let d=0,h=!1,C=new Int32Array(pe.MAX_NUMERIC_CODEWORDS);for(;a<o[0]&&!h;){let E=o[a++];if(a===o[0]&&(h=!0),E<pe.TEXT_COMPACTION_MODE_LATCH)C[d]=E,d++;else switch(E){case pe.TEXT_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH_6:case pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case pe.MACRO_PDF417_TERMINATOR:a--,h=!0;break}(d%pe.MAX_NUMERIC_CODEWORDS===0||E===pe.NUMERIC_COMPACTION_MODE_LATCH||h)&&d>0&&(c.append(pe.decodeBase900toBase10(C,d)),d=0)}return a}static decodeBase900toBase10(o,a){let c=Rr(0);for(let h=0;h<a;h++)c+=pe.EXP900[a-h-1]*Rr(o[h]);let d=c.toString();if(d.charAt(0)!=="1")throw new Z;return d.substring(1)}}pe.TEXT_COMPACTION_MODE_LATCH=900,pe.BYTE_COMPACTION_MODE_LATCH=901,pe.NUMERIC_COMPACTION_MODE_LATCH=902,pe.BYTE_COMPACTION_MODE_LATCH_6=924,pe.ECI_USER_DEFINED=925,pe.ECI_GENERAL_PURPOSE=926,pe.ECI_CHARSET=927,pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,pe.MACRO_PDF417_TERMINATOR=922,pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,pe.MAX_NUMERIC_CODEWORDS=15,pe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,pe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,pe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,pe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,pe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,pe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,pe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,pe.PL=25,pe.LL=27,pe.AS=27,pe.ML=28,pe.AL=28,pe.PS=29,pe.PAL=29,pe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,pe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",pe.EXP900=jc()?gd():[],pe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ut{constructor(){}static decode(o,a,c,d,h,C,E){let S=new _r(o,a,c,d,h),N=null,R=null,U;for(let J=!0;;J=!1){if(a!=null&&(N=ut.getRowIndicatorColumn(o,S,a,!0,C,E)),d!=null&&(R=ut.getRowIndicatorColumn(o,S,d,!1,C,E)),U=ut.merge(N,R),U==null)throw re.getNotFoundInstance();let $=U.getBoundingBox();if(J&&$!=null&&($.getMinY()<S.getMinY()||$.getMaxY()>S.getMaxY()))S=$;else break}U.setBoundingBox(S);let V=U.getBarcodeColumnCount()+1;U.setDetectionResultColumn(0,N),U.setDetectionResultColumn(V,R);let X=N!=null;for(let J=1;J<=V;J++){let $=X?J:V-J;if(U.getDetectionResultColumn($)!==void 0)continue;let le;$===0||$===V?le=new Mr(S,$===0):le=new To(S),U.setDetectionResultColumn($,le);let ge=-1,Ne=ge;for(let Ie=S.getMinY();Ie<=S.getMaxY();Ie++){if(ge=ut.getStartColumn(U,$,Ie,X),ge<0||ge>S.getMaxX()){if(Ne===-1)continue;ge=Ne}let _e=ut.detectCodeword(o,S.getMinX(),S.getMaxX(),X,ge,Ie,C,E);_e!=null&&(le.setCodeword(Ie,_e),Ne=ge,C=Math.min(C,_e.getWidth()),E=Math.max(E,_e.getWidth()))}}return ut.createDecoderResult(U)}static merge(o,a){if(o==null&&a==null)return null;let c=ut.getBarcodeMetadata(o,a);if(c==null)return null;let d=_r.merge(ut.adjustBoundingBox(o),ut.adjustBoundingBox(a));return new Ir(c,d)}static adjustBoundingBox(o){if(o==null)return null;let a=o.getRowHeights();if(a==null)return null;let c=ut.getMax(a),d=0;for(let E of a)if(d+=c-E,E>0)break;let h=o.getCodewords();for(let E=0;d>0&&h[E]==null;E++)d--;let C=0;for(let E=a.length-1;E>=0&&(C+=c-a[E],!(a[E]>0));E--);for(let E=h.length-1;C>0&&h[E]==null;E--)C--;return o.getBoundingBox().addMissingRows(d,C,o.isLeft())}static getMax(o){let a=-1;for(let c of o)a=Math.max(a,c);return a}static getBarcodeMetadata(o,a){let c;if(o==null||(c=o.getBarcodeMetadata())==null)return a==null?null:a.getBarcodeMetadata();let d;return a==null||(d=a.getBarcodeMetadata())==null?c:c.getColumnCount()!==d.getColumnCount()&&c.getErrorCorrectionLevel()!==d.getErrorCorrectionLevel()&&c.getRowCount()!==d.getRowCount()?null:c}static getRowIndicatorColumn(o,a,c,d,h,C){let E=new Mr(a,d);for(let S=0;S<2;S++){let N=S===0?1:-1,R=Math.trunc(Math.trunc(c.getX()));for(let U=Math.trunc(Math.trunc(c.getY()));U<=a.getMaxY()&&U>=a.getMinY();U+=N){let V=ut.detectCodeword(o,0,o.getWidth(),d,R,U,h,C);V!=null&&(E.setCodeword(U,V),d?R=V.getStartX():R=V.getEndX())}}return E}static adjustCodewordCount(o,a){let c=a[0][1],d=c.getValue(),h=o.getBarcodeColumnCount()*o.getBarcodeRowCount()-ut.getNumberOfECCodeWords(o.getBarcodeECLevel());if(d.length===0){if(h<1||h>Ke.MAX_CODEWORDS_IN_BARCODE)throw re.getNotFoundInstance();c.setValue(h)}else d[0]!==h&&c.setValue(h)}static createDecoderResult(o){let a=ut.createBarcodeMatrix(o);ut.adjustCodewordCount(o,a);let c=new Array,d=new Int32Array(o.getBarcodeRowCount()*o.getBarcodeColumnCount()),h=[],C=new Array;for(let S=0;S<o.getBarcodeRowCount();S++)for(let N=0;N<o.getBarcodeColumnCount();N++){let R=a[S][N+1].getValue(),U=S*o.getBarcodeColumnCount()+N;R.length===0?c.push(U):R.length===1?d[U]=R[0]:(C.push(U),h.push(R))}let E=new Array(h.length);for(let S=0;S<E.length;S++)E[S]=h[S];return ut.createDecoderResultFromAmbiguousValues(o.getBarcodeECLevel(),d,Ke.toIntArray(c),Ke.toIntArray(C),E)}static createDecoderResultFromAmbiguousValues(o,a,c,d,h){let C=new Int32Array(d.length),E=100;for(;E-- >0;){for(let S=0;S<C.length;S++)a[d[S]]=h[S][C[S]];try{return ut.decodeCodewords(a,o,c)}catch(S){if(!(S instanceof O))throw S}if(C.length===0)throw O.getChecksumInstance();for(let S=0;S<C.length;S++)if(C[S]<h[S].length-1){C[S]++;break}else if(C[S]=0,S===C.length-1)throw O.getChecksumInstance()}throw O.getChecksumInstance()}static createBarcodeMatrix(o){let a=Array.from({length:o.getBarcodeRowCount()},()=>new Array(o.getBarcodeColumnCount()+2));for(let d=0;d<a.length;d++)for(let h=0;h<a[d].length;h++)a[d][h]=new Rn;let c=0;for(let d of o.getDetectionResultColumns()){if(d!=null){for(let h of d.getCodewords())if(h!=null){let C=h.getRowNumber();if(C>=0){if(C>=a.length)continue;a[C][c].setValue(h.getValue())}}}c++}return a}static isValidBarcodeColumn(o,a){return a>=0&&a<=o.getBarcodeColumnCount()+1}static getStartColumn(o,a,c,d){let h=d?1:-1,C=null;if(ut.isValidBarcodeColumn(o,a-h)&&(C=o.getDetectionResultColumn(a-h).getCodeword(c)),C!=null)return d?C.getEndX():C.getStartX();if(C=o.getDetectionResultColumn(a).getCodewordNearby(c),C!=null)return d?C.getStartX():C.getEndX();if(ut.isValidBarcodeColumn(o,a-h)&&(C=o.getDetectionResultColumn(a-h).getCodewordNearby(c)),C!=null)return d?C.getEndX():C.getStartX();let E=0;for(;ut.isValidBarcodeColumn(o,a-h);){a-=h;for(let S of o.getDetectionResultColumn(a).getCodewords())if(S!=null)return(d?S.getEndX():S.getStartX())+h*E*(S.getEndX()-S.getStartX());E++}return d?o.getBoundingBox().getMinX():o.getBoundingBox().getMaxX()}static detectCodeword(o,a,c,d,h,C,E,S){h=ut.adjustCodewordStartColumn(o,a,c,d,h,C);let N=ut.getModuleBitCount(o,a,c,d,h,C);if(N==null)return null;let R,U=ct.sum(N);if(d)R=h+U;else{for(let J=0;J<N.length/2;J++){let $=N[J];N[J]=N[N.length-1-J],N[N.length-1-J]=$}R=h,h=R-U}if(!ut.checkCodewordSkew(U,E,S))return null;let V=ri.getDecodedValue(N),X=Ke.getCodeword(V);return X===-1?null:new cr(h,R,ut.getCodewordBucketNumber(V),X)}static getModuleBitCount(o,a,c,d,h,C){let E=h,S=new Int32Array(8),N=0,R=d?1:-1,U=d;for(;(d?E<c:E>=a)&&N<S.length;)o.get(E,C)===U?(S[N]++,E+=R):(N++,U=!U);return N===S.length||E===(d?c:a)&&N===S.length-1?S:null}static getNumberOfECCodeWords(o){return 2<<o}static adjustCodewordStartColumn(o,a,c,d,h,C){let E=h,S=d?-1:1;for(let N=0;N<2;N++){for(;(d?E>=a:E<c)&&d===o.get(E,C);){if(Math.abs(h-E)>ut.CODEWORD_SKEW_SIZE)return h;E+=S}S=-S,d=!d}return E}static checkCodewordSkew(o,a,c){return a-ut.CODEWORD_SKEW_SIZE<=o&&o<=c+ut.CODEWORD_SKEW_SIZE}static decodeCodewords(o,a,c){if(o.length===0)throw Z.getFormatInstance();let d=1<<a+1,h=ut.correctErrors(o,c,d);ut.verifyCodewordCount(o,d);let C=pe.decode(o,""+a);return C.setErrorsCorrected(h),C.setErasures(c.length),C}static correctErrors(o,a,c){if(a!=null&&a.length>c/2+ut.MAX_ERRORS||c<0||c>ut.MAX_EC_CODEWORDS)throw O.getChecksumInstance();return ut.errorCorrection.decode(o,c,a)}static verifyCodewordCount(o,a){if(o.length<4)throw Z.getFormatInstance();let c=o[0];if(c>o.length)throw Z.getFormatInstance();if(c===0)if(a<o.length)o[0]=o.length-a;else throw Z.getFormatInstance()}static getBitCountForCodeword(o){let a=new Int32Array(8),c=0,d=a.length-1;for(;!((o&1)!==c&&(c=o&1,d--,d<0));)a[d]++,o>>=1;return a}static getCodewordBucketNumber(o){return o instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(o):this.getCodewordBucketNumber_number(o)}static getCodewordBucketNumber_number(o){return ut.getCodewordBucketNumber(ut.getBitCountForCodeword(o))}static getCodewordBucketNumber_Int32Array(o){return(o[0]-o[2]+o[4]-o[6]+9)%9}static toString(o){let a=new Nr;for(let c=0;c<o.length;c++){a.format("Row %2d: ",c);for(let d=0;d<o[c].length;d++){let h=o[c][d];h.getValue().length===0?a.format("        ",null):a.format("%4d(%2d)",h.getValue()[0],h.getConfidence(h.getValue()[0]))}a.format("%n")}return a.toString()}}ut.CODEWORD_SKEW_SIZE=2,ut.MAX_ERRORS=3,ut.MAX_EC_CODEWORDS=512,ut.errorCorrection=new vs;class Un{decode(o,a=null){let c=Un.decode(o,a,!1);if(c==null||c.length===0||c[0]==null)throw re.getNotFoundInstance();return c[0]}decodeMultiple(o,a=null){try{return Un.decode(o,a,!0)}catch(c){throw c instanceof Z||c instanceof O?re.getNotFoundInstance():c}}static decode(o,a,c){const d=new Array,h=rt.detectMultiple(o,a,c);for(const C of h.getPoints()){const E=ut.decode(h.getBits(),C[4],C[5],C[6],C[7],Un.getMinCodewordWidth(C),Un.getMaxCodewordWidth(C)),S=new Oe(E.getText(),E.getRawBytes(),void 0,C,be.PDF_417);S.putMetadata(ke.ERROR_CORRECTION_LEVEL,E.getECLevel());const N=E.getOther();N!=null&&S.putMetadata(ke.PDF417_EXTRA_METADATA,N),d.push(S)}return d.map(C=>C)}static getMaxWidth(o,a){return o==null||a==null?0:Math.trunc(Math.abs(o.getX()-a.getX()))}static getMinWidth(o,a){return o==null||a==null?H.MAX_VALUE:Math.trunc(Math.abs(o.getX()-a.getX()))}static getMaxCodewordWidth(o){return Math.floor(Math.max(Math.max(Un.getMaxWidth(o[0],o[4]),Un.getMaxWidth(o[6],o[2])*Ke.MODULES_IN_CODEWORD/Ke.MODULES_IN_STOP_PATTERN),Math.max(Un.getMaxWidth(o[1],o[5]),Un.getMaxWidth(o[7],o[3])*Ke.MODULES_IN_CODEWORD/Ke.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(o){return Math.floor(Math.min(Math.min(Un.getMinWidth(o[0],o[4]),Un.getMinWidth(o[6],o[2])*Ke.MODULES_IN_CODEWORD/Ke.MODULES_IN_STOP_PATTERN),Math.min(Un.getMinWidth(o[1],o[5]),Un.getMinWidth(o[7],o[3])*Ke.MODULES_IN_CODEWORD/Ke.MODULES_IN_STOP_PATTERN)))}reset(){}}class Es extends y{}Es.kind="ReaderException";class Kc{constructor(o,a){this.verbose=o===!0,a&&this.setHints(a)}decode(o,a){return a&&this.setHints(a),this.decodeInternal(o)}decodeWithState(o){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(o)}setHints(o){this.hints=o;const a=!r(o)&&o.get(oe.TRY_HARDER)===!0,c=r(o)?null:o.get(oe.POSSIBLE_FORMATS),d=new Array;if(!r(c)){const h=c.some(C=>C===be.UPC_A||C===be.UPC_E||C===be.EAN_13||C===be.EAN_8||C===be.CODABAR||C===be.CODE_39||C===be.CODE_93||C===be.CODE_128||C===be.ITF||C===be.RSS_14||C===be.RSS_EXPANDED);h&&!a&&d.push(new Ar(o,this.verbose)),c.includes(be.QR_CODE)&&d.push(new ar),c.includes(be.DATA_MATRIX)&&d.push(new Di),c.includes(be.AZTEC)&&d.push(new ea),c.includes(be.PDF_417)&&d.push(new Un),h&&a&&d.push(new Ar(o,this.verbose))}d.length===0&&(a||d.push(new Ar(o,this.verbose)),d.push(new ar),d.push(new Di),d.push(new ea),d.push(new Un),a&&d.push(new Ar(o,this.verbose))),this.readers=d}reset(){if(this.readers!==null)for(const o of this.readers)o.reset()}decodeInternal(o){if(this.readers===null)throw new Es("No readers where selected, nothing can be read.");for(const a of this.readers)try{return a.decode(o,this.hints)}catch(c){if(c instanceof Es)continue}throw new re("No MultiFormat Readers were able to detect the code.")}}class md extends Se{constructor(o=null,a=500){const c=new Kc;c.setHints(o),super(c,a)}decodeBitmap(o){return this.reader.decodeWithState(o)}}class pd extends Se{constructor(o=500){super(new Un,o)}}class xd extends Se{constructor(o=500){super(new ar,o)}}var ws;(function(k){k[k.ERROR_CORRECTION=0]="ERROR_CORRECTION",k[k.CHARACTER_SET=1]="CHARACTER_SET",k[k.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",k[k.MIN_SIZE=3]="MIN_SIZE",k[k.MAX_SIZE=4]="MAX_SIZE",k[k.MARGIN=5]="MARGIN",k[k.PDF417_COMPACT=6]="PDF417_COMPACT",k[k.PDF417_COMPACTION=7]="PDF417_COMPACTION",k[k.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",k[k.AZTEC_LAYERS=9]="AZTEC_LAYERS",k[k.QR_VERSION=10]="QR_VERSION"})(ws||(ws={}));var bn=ws;class bl{constructor(o){this.field=o,this.cachedGenerators=[],this.cachedGenerators.push(new Qe(o,Int32Array.from([1])))}buildGenerator(o){const a=this.cachedGenerators;if(o>=a.length){let c=a[a.length-1];const d=this.field;for(let h=a.length;h<=o;h++){const C=c.multiply(new Qe(d,Int32Array.from([1,d.exp(h-1+d.getGeneratorBase())])));a.push(C),c=C}}return a[o]}encode(o,a){if(a===0)throw new _("No error correction bytes");const c=o.length-a;if(c<=0)throw new _("No data bytes provided");const d=this.buildGenerator(a),h=new Int32Array(c);D.arraycopy(o,0,h,0,c);let C=new Qe(this.field,h);C=C.multiplyByMonomial(a,1);const S=C.divide(d)[1].getCoefficients(),N=a-S.length;for(let R=0;R<N;R++)o[c+R]=0;D.arraycopy(S,0,o,c+N,S.length)}}class cn{constructor(){}static applyMaskPenaltyRule1(o){return cn.applyMaskPenaltyRule1Internal(o,!0)+cn.applyMaskPenaltyRule1Internal(o,!1)}static applyMaskPenaltyRule2(o){let a=0;const c=o.getArray(),d=o.getWidth(),h=o.getHeight();for(let C=0;C<h-1;C++){const E=c[C];for(let S=0;S<d-1;S++){const N=E[S];N===E[S+1]&&N===c[C+1][S]&&N===c[C+1][S+1]&&a++}}return cn.N2*a}static applyMaskPenaltyRule3(o){let a=0;const c=o.getArray(),d=o.getWidth(),h=o.getHeight();for(let C=0;C<h;C++)for(let E=0;E<d;E++){const S=c[C];E+6<d&&S[E]===1&&S[E+1]===0&&S[E+2]===1&&S[E+3]===1&&S[E+4]===1&&S[E+5]===0&&S[E+6]===1&&(cn.isWhiteHorizontal(S,E-4,E)||cn.isWhiteHorizontal(S,E+7,E+11))&&a++,C+6<h&&c[C][E]===1&&c[C+1][E]===0&&c[C+2][E]===1&&c[C+3][E]===1&&c[C+4][E]===1&&c[C+5][E]===0&&c[C+6][E]===1&&(cn.isWhiteVertical(c,E,C-4,C)||cn.isWhiteVertical(c,E,C+7,C+11))&&a++}return a*cn.N3}static isWhiteHorizontal(o,a,c){a=Math.max(a,0),c=Math.min(c,o.length);for(let d=a;d<c;d++)if(o[d]===1)return!1;return!0}static isWhiteVertical(o,a,c,d){c=Math.max(c,0),d=Math.min(d,o.length);for(let h=c;h<d;h++)if(o[h][a]===1)return!1;return!0}static applyMaskPenaltyRule4(o){let a=0;const c=o.getArray(),d=o.getWidth(),h=o.getHeight();for(let S=0;S<h;S++){const N=c[S];for(let R=0;R<d;R++)N[R]===1&&a++}const C=o.getHeight()*o.getWidth();return Math.floor(Math.abs(a*2-C)*10/C)*cn.N4}static getDataMaskBit(o,a,c){let d,h;switch(o){case 0:d=c+a&1;break;case 1:d=c&1;break;case 2:d=a%3;break;case 3:d=(c+a)%3;break;case 4:d=Math.floor(c/2)+Math.floor(a/3)&1;break;case 5:h=c*a,d=(h&1)+h%3;break;case 6:h=c*a,d=(h&1)+h%3&1;break;case 7:h=c*a,d=h%3+(c+a&1)&1;break;default:throw new _("Invalid mask pattern: "+o)}return d===0}static applyMaskPenaltyRule1Internal(o,a){let c=0;const d=a?o.getHeight():o.getWidth(),h=a?o.getWidth():o.getHeight(),C=o.getArray();for(let E=0;E<d;E++){let S=0,N=-1;for(let R=0;R<h;R++){const U=a?C[E][R]:C[R][E];U===N?S++:(S>=5&&(c+=cn.N1+(S-5)),S=1,N=U)}S>=5&&(c+=cn.N1+(S-5))}return c}}cn.N1=3,cn.N2=3,cn.N3=40,cn.N4=10;class As{constructor(o,a){this.width=o,this.height=a;const c=new Array(a);for(let d=0;d!==a;d++)c[d]=new Uint8Array(o);this.bytes=c}getHeight(){return this.height}getWidth(){return this.width}get(o,a){return this.bytes[a][o]}getArray(){return this.bytes}setNumber(o,a,c){this.bytes[a][o]=c}setBoolean(o,a,c){this.bytes[a][o]=c?1:0}clear(o){for(const a of this.bytes)q.fill(a,o)}equals(o){if(!(o instanceof As))return!1;const a=o;if(this.width!==a.width||this.height!==a.height)return!1;for(let c=0,d=this.height;c<d;++c){const h=this.bytes[c],C=a.bytes[c];for(let E=0,S=this.width;E<S;++E)if(h[E]!==C[E])return!1}return!0}toString(){const o=new Be;for(let a=0,c=this.height;a<c;++a){const d=this.bytes[a];for(let h=0,C=this.width;h<C;++h)switch(d[h]){case 0:o.append(" 0");break;case 1:o.append(" 1");break;default:o.append("  ");break}o.append(`
`)}return o.toString()}}class jr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const o=new Be;return o.append(`<<
`),o.append(" mode: "),o.append(this.mode?this.mode.toString():"null"),o.append(`
 ecLevel: `),o.append(this.ecLevel?this.ecLevel.toString():"null"),o.append(`
 version: `),o.append(this.version?this.version.toString():"null"),o.append(`
 maskPattern: `),o.append(this.maskPattern.toString()),this.matrix?(o.append(`
 matrix:
`),o.append(this.matrix.toString())):o.append(`
 matrix: null
`),o.append(`>>
`),o.toString()}setMode(o){this.mode=o}setECLevel(o){this.ecLevel=o}setVersion(o){this.version=o}setMaskPattern(o){this.maskPattern=o}setMatrix(o){this.matrix=o}static isValidMaskPattern(o){return o>=0&&o<jr.NUM_MASK_PATTERNS}}jr.NUM_MASK_PATTERNS=8;class kt extends y{}kt.kind="WriterException";class Ze{constructor(){}static clearMatrix(o){o.clear(255)}static buildMatrix(o,a,c,d,h){Ze.clearMatrix(h),Ze.embedBasicPatterns(c,h),Ze.embedTypeInfo(a,d,h),Ze.maybeEmbedVersionInfo(c,h),Ze.embedDataBits(o,d,h)}static embedBasicPatterns(o,a){Ze.embedPositionDetectionPatternsAndSeparators(a),Ze.embedDarkDotAtLeftBottomCorner(a),Ze.maybeEmbedPositionAdjustmentPatterns(o,a),Ze.embedTimingPatterns(a)}static embedTypeInfo(o,a,c){const d=new K;Ze.makeTypeInfoBits(o,a,d);for(let h=0,C=d.getSize();h<C;++h){const E=d.get(d.getSize()-1-h),S=Ze.TYPE_INFO_COORDINATES[h],N=S[0],R=S[1];if(c.setBoolean(N,R,E),h<8){const U=c.getWidth()-h-1;c.setBoolean(U,8,E)}else{const V=c.getHeight()-7+(h-8);c.setBoolean(8,V,E)}}}static maybeEmbedVersionInfo(o,a){if(o.getVersionNumber()<7)return;const c=new K;Ze.makeVersionInfoBits(o,c);let d=6*3-1;for(let h=0;h<6;++h)for(let C=0;C<3;++C){const E=c.get(d);d--,a.setBoolean(h,a.getHeight()-11+C,E),a.setBoolean(a.getHeight()-11+C,h,E)}}static embedDataBits(o,a,c){let d=0,h=-1,C=c.getWidth()-1,E=c.getHeight()-1;for(;C>0;){for(C===6&&(C-=1);E>=0&&E<c.getHeight();){for(let S=0;S<2;++S){const N=C-S;if(!Ze.isEmpty(c.get(N,E)))continue;let R;d<o.getSize()?(R=o.get(d),++d):R=!1,a!==255&&cn.getDataMaskBit(a,N,E)&&(R=!R),c.setBoolean(N,E,R)}E+=h}h=-h,E+=h,C-=2}if(d!==o.getSize())throw new kt("Not all bits consumed: "+d+"/"+o.getSize())}static findMSBSet(o){return 32-H.numberOfLeadingZeros(o)}static calculateBCHCode(o,a){if(a===0)throw new _("0 polynomial");const c=Ze.findMSBSet(a);for(o<<=c-1;Ze.findMSBSet(o)>=c;)o^=a<<Ze.findMSBSet(o)-c;return o}static makeTypeInfoBits(o,a,c){if(!jr.isValidMaskPattern(a))throw new kt("Invalid mask pattern");const d=o.getBits()<<3|a;c.appendBits(d,5);const h=Ze.calculateBCHCode(d,Ze.TYPE_INFO_POLY);c.appendBits(h,10);const C=new K;if(C.appendBits(Ze.TYPE_INFO_MASK_PATTERN,15),c.xor(C),c.getSize()!==15)throw new kt("should not happen but we got: "+c.getSize())}static makeVersionInfoBits(o,a){a.appendBits(o.getVersionNumber(),6);const c=Ze.calculateBCHCode(o.getVersionNumber(),Ze.VERSION_INFO_POLY);if(a.appendBits(c,12),a.getSize()!==18)throw new kt("should not happen but we got: "+a.getSize())}static isEmpty(o){return o===255}static embedTimingPatterns(o){for(let a=8;a<o.getWidth()-8;++a){const c=(a+1)%2;Ze.isEmpty(o.get(a,6))&&o.setNumber(a,6,c),Ze.isEmpty(o.get(6,a))&&o.setNumber(6,a,c)}}static embedDarkDotAtLeftBottomCorner(o){if(o.get(8,o.getHeight()-8)===0)throw new kt;o.setNumber(8,o.getHeight()-8,1)}static embedHorizontalSeparationPattern(o,a,c){for(let d=0;d<8;++d){if(!Ze.isEmpty(c.get(o+d,a)))throw new kt;c.setNumber(o+d,a,0)}}static embedVerticalSeparationPattern(o,a,c){for(let d=0;d<7;++d){if(!Ze.isEmpty(c.get(o,a+d)))throw new kt;c.setNumber(o,a+d,0)}}static embedPositionAdjustmentPattern(o,a,c){for(let d=0;d<5;++d){const h=Ze.POSITION_ADJUSTMENT_PATTERN[d];for(let C=0;C<5;++C)c.setNumber(o+C,a+d,h[C])}}static embedPositionDetectionPattern(o,a,c){for(let d=0;d<7;++d){const h=Ze.POSITION_DETECTION_PATTERN[d];for(let C=0;C<7;++C)c.setNumber(o+C,a+d,h[C])}}static embedPositionDetectionPatternsAndSeparators(o){const a=Ze.POSITION_DETECTION_PATTERN[0].length;Ze.embedPositionDetectionPattern(0,0,o),Ze.embedPositionDetectionPattern(o.getWidth()-a,0,o),Ze.embedPositionDetectionPattern(0,o.getWidth()-a,o);const c=8;Ze.embedHorizontalSeparationPattern(0,c-1,o),Ze.embedHorizontalSeparationPattern(o.getWidth()-c,c-1,o),Ze.embedHorizontalSeparationPattern(0,o.getWidth()-c,o);const d=7;Ze.embedVerticalSeparationPattern(d,0,o),Ze.embedVerticalSeparationPattern(o.getHeight()-d-1,0,o),Ze.embedVerticalSeparationPattern(d,o.getHeight()-d,o)}static maybeEmbedPositionAdjustmentPatterns(o,a){if(o.getVersionNumber()<2)return;const c=o.getVersionNumber()-1,d=Ze.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[c];for(let h=0,C=d.length;h!==C;h++){const E=d[h];if(E>=0)for(let S=0;S!==C;S++){const N=d[S];N>=0&&Ze.isEmpty(a.get(N,E))&&Ze.embedPositionAdjustmentPattern(N-2,E-2,a)}}}}Ze.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ze.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ze.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ze.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ze.VERSION_INFO_POLY=7973,Ze.TYPE_INFO_POLY=1335,Ze.TYPE_INFO_MASK_PATTERN=21522;class yd{constructor(o,a){this.dataBytes=o,this.errorCorrectionBytes=a}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Zt{constructor(){}static calculateMaskPenalty(o){return cn.applyMaskPenaltyRule1(o)+cn.applyMaskPenaltyRule2(o)+cn.applyMaskPenaltyRule3(o)+cn.applyMaskPenaltyRule4(o)}static encode(o,a,c=null){let d=Zt.DEFAULT_BYTE_MODE_ENCODING;const h=c!==null&&c.get(bn.CHARACTER_SET)!==void 0;h&&(d=c.get(bn.CHARACTER_SET).toString());const C=this.chooseMode(o,d),E=new K;if(C===We.BYTE&&(h||Zt.DEFAULT_BYTE_MODE_ENCODING!==d)){const Ie=ee.getCharacterSetECIByName(d);Ie!==void 0&&this.appendECI(Ie,E)}this.appendModeInfo(C,E);const S=new K;this.appendBytes(o,C,S,d);let N;if(c!==null&&c.get(bn.QR_VERSION)!==void 0){const Ie=Number.parseInt(c.get(bn.QR_VERSION).toString(),10);N=Ye.getVersionForNumber(Ie);const _e=this.calculateBitsNeeded(C,E,S,N);if(!this.willFit(_e,N,a))throw new kt("Data too big for requested version")}else N=this.recommendVersion(a,C,E,S);const R=new K;R.appendBitArray(E);const U=C===We.BYTE?S.getSizeInBytes():o.length;this.appendLengthInfo(U,N,C,R),R.appendBitArray(S);const V=N.getECBlocksForLevel(a),X=N.getTotalCodewords()-V.getTotalECCodewords();this.terminateBits(X,R);const J=this.interleaveWithECBytes(R,N.getTotalCodewords(),X,V.getNumBlocks()),$=new jr;$.setECLevel(a),$.setMode(C),$.setVersion(N);const le=N.getDimensionForVersion(),ge=new As(le,le),Ne=this.chooseMaskPattern(J,a,N,ge);return $.setMaskPattern(Ne),Ze.buildMatrix(J,a,N,Ne,ge),$.setMatrix(ge),$}static recommendVersion(o,a,c,d){const h=this.calculateBitsNeeded(a,c,d,Ye.getVersionForNumber(1)),C=this.chooseVersion(h,o),E=this.calculateBitsNeeded(a,c,d,C);return this.chooseVersion(E,o)}static calculateBitsNeeded(o,a,c,d){return a.getSize()+o.getCharacterCountBits(d)+c.getSize()}static getAlphanumericCode(o){return o<Zt.ALPHANUMERIC_TABLE.length?Zt.ALPHANUMERIC_TABLE[o]:-1}static chooseMode(o,a=null){if(ee.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(o))return We.KANJI;let c=!1,d=!1;for(let h=0,C=o.length;h<C;++h){const E=o.charAt(h);if(Zt.isDigit(E))c=!0;else if(this.getAlphanumericCode(E.charCodeAt(0))!==-1)d=!0;else return We.BYTE}return d?We.ALPHANUMERIC:c?We.NUMERIC:We.BYTE}static isOnlyDoubleByteKanji(o){let a;try{a=Re.encode(o,ee.SJIS)}catch{return!1}const c=a.length;if(c%2!==0)return!1;for(let d=0;d<c;d+=2){const h=a[d]&255;if((h<129||h>159)&&(h<224||h>235))return!1}return!0}static chooseMaskPattern(o,a,c,d){let h=Number.MAX_SAFE_INTEGER,C=-1;for(let E=0;E<jr.NUM_MASK_PATTERNS;E++){Ze.buildMatrix(o,a,c,E,d);let S=this.calculateMaskPenalty(d);S<h&&(h=S,C=E)}return C}static chooseVersion(o,a){for(let c=1;c<=40;c++){const d=Ye.getVersionForNumber(c);if(Zt.willFit(o,d,a))return d}throw new kt("Data too big")}static willFit(o,a,c){const d=a.getTotalCodewords(),C=a.getECBlocksForLevel(c).getTotalECCodewords(),E=d-C,S=(o+7)/8;return E>=S}static terminateBits(o,a){const c=o*8;if(a.getSize()>c)throw new kt("data bits cannot fit in the QR Code"+a.getSize()+" > "+c);for(let C=0;C<4&&a.getSize()<c;++C)a.appendBit(!1);const d=a.getSize()&7;if(d>0)for(let C=d;C<8;C++)a.appendBit(!1);const h=o-a.getSizeInBytes();for(let C=0;C<h;++C)a.appendBits((C&1)===0?236:17,8);if(a.getSize()!==c)throw new kt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(o,a,c,d,h,C){if(d>=c)throw new kt("Block ID too large");const E=o%c,S=c-E,N=Math.floor(o/c),R=N+1,U=Math.floor(a/c),V=U+1,X=N-U,J=R-V;if(X!==J)throw new kt("EC bytes mismatch");if(c!==S+E)throw new kt("RS blocks mismatch");if(o!==(U+X)*S+(V+J)*E)throw new kt("Total bytes mismatch");d<S?(h[0]=U,C[0]=X):(h[0]=V,C[0]=J)}static interleaveWithECBytes(o,a,c,d){if(o.getSizeInBytes()!==c)throw new kt("Number of bits and data bytes does not match");let h=0,C=0,E=0;const S=new Array;for(let R=0;R<d;++R){const U=new Int32Array(1),V=new Int32Array(1);Zt.getNumDataBytesAndNumECBytesForBlockID(a,c,d,R,U,V);const X=U[0],J=new Uint8Array(X);o.toBytes(8*h,J,0,X);const $=Zt.generateECBytes(J,V[0]);S.push(new yd(J,$)),C=Math.max(C,X),E=Math.max(E,$.length),h+=U[0]}if(c!==h)throw new kt("Data bytes does not match offset");const N=new K;for(let R=0;R<C;++R)for(const U of S){const V=U.getDataBytes();R<V.length&&N.appendBits(V[R],8)}for(let R=0;R<E;++R)for(const U of S){const V=U.getErrorCorrectionBytes();R<V.length&&N.appendBits(V[R],8)}if(a!==N.getSizeInBytes())throw new kt("Interleaving error: "+a+" and "+N.getSizeInBytes()+" differ.");return N}static generateECBytes(o,a){const c=o.length,d=new Int32Array(c+a);for(let C=0;C<c;C++)d[C]=o[C]&255;new bl(et.QR_CODE_FIELD_256).encode(d,a);const h=new Uint8Array(a);for(let C=0;C<a;C++)h[C]=d[c+C];return h}static appendModeInfo(o,a){a.appendBits(o.getBits(),4)}static appendLengthInfo(o,a,c,d){const h=c.getCharacterCountBits(a);if(o>=1<<h)throw new kt(o+" is bigger than "+((1<<h)-1));d.appendBits(o,h)}static appendBytes(o,a,c,d){switch(a){case We.NUMERIC:Zt.appendNumericBytes(o,c);break;case We.ALPHANUMERIC:Zt.appendAlphanumericBytes(o,c);break;case We.BYTE:Zt.append8BitBytes(o,c,d);break;case We.KANJI:Zt.appendKanjiBytes(o,c);break;default:throw new kt("Invalid mode: "+a)}}static getDigit(o){return o.charCodeAt(0)-48}static isDigit(o){const a=Zt.getDigit(o);return a>=0&&a<=9}static appendNumericBytes(o,a){const c=o.length;let d=0;for(;d<c;){const h=Zt.getDigit(o.charAt(d));if(d+2<c){const C=Zt.getDigit(o.charAt(d+1)),E=Zt.getDigit(o.charAt(d+2));a.appendBits(h*100+C*10+E,10),d+=3}else if(d+1<c){const C=Zt.getDigit(o.charAt(d+1));a.appendBits(h*10+C,7),d+=2}else a.appendBits(h,4),d++}}static appendAlphanumericBytes(o,a){const c=o.length;let d=0;for(;d<c;){const h=Zt.getAlphanumericCode(o.charCodeAt(d));if(h===-1)throw new kt;if(d+1<c){const C=Zt.getAlphanumericCode(o.charCodeAt(d+1));if(C===-1)throw new kt;a.appendBits(h*45+C,11),d+=2}else a.appendBits(h,6),d++}}static append8BitBytes(o,a,c){let d;try{d=Re.encode(o,c)}catch(h){throw new kt(h)}for(let h=0,C=d.length;h!==C;h++){const E=d[h];a.appendBits(E,8)}}static appendKanjiBytes(o,a){let c;try{c=Re.encode(o,ee.SJIS)}catch(h){throw new kt(h)}const d=c.length;for(let h=0;h<d;h+=2){const C=c[h]&255,E=c[h+1]&255,S=C<<8&4294967295|E;let N=-1;if(S>=33088&&S<=40956?N=S-33088:S>=57408&&S<=60351&&(N=S-49472),N===-1)throw new kt("Invalid byte sequence");const R=(N>>8)*192+(N&255);a.appendBits(R,13)}}static appendECI(o,a){a.appendBits(We.ECI.getBits(),4),a.appendBits(o.getValue(),8)}}Zt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Zt.DEFAULT_BYTE_MODE_ENCODING=ee.UTF8.getName();class Kr{write(o,a,c,d=null){if(o.length===0)throw new _("Found empty contents");if(a<0||c<0)throw new _("Requested dimensions are too small: "+a+"x"+c);let h=Dt.L,C=Kr.QUIET_ZONE_SIZE;d!==null&&(d.get(bn.ERROR_CORRECTION)!==void 0&&(h=Dt.fromString(d.get(bn.ERROR_CORRECTION).toString())),d.get(bn.MARGIN)!==void 0&&(C=Number.parseInt(d.get(bn.MARGIN).toString(),10)));const E=Zt.encode(o,h,d);return this.renderResult(E,a,c,C)}writeToDom(o,a,c,d,h=null){typeof o=="string"&&(o=document.querySelector(o));const C=this.write(a,c,d,h);o&&o.appendChild(C)}renderResult(o,a,c,d){const h=o.getMatrix();if(h===null)throw new Gn;const C=h.getWidth(),E=h.getHeight(),S=C+d*2,N=E+d*2,R=Math.max(a,S),U=Math.max(c,N),V=Math.min(Math.floor(R/S),Math.floor(U/N)),X=Math.floor((R-C*V)/2),J=Math.floor((U-E*V)/2),$=this.createSVGElement(R,U);for(let le=0,ge=J;le<E;le++,ge+=V)for(let Ne=0,Ie=X;Ne<C;Ne++,Ie+=V)if(h.get(Ne,le)===1){const _e=this.createSvgRectElement(Ie,ge,V,V);$.appendChild(_e)}return $}createSVGElement(o,a){const c=document.createElementNS(Kr.SVG_NS,"svg");return c.setAttributeNS(null,"height",o.toString()),c.setAttributeNS(null,"width",a.toString()),c}createSvgRectElement(o,a,c,d){const h=document.createElementNS(Kr.SVG_NS,"rect");return h.setAttributeNS(null,"x",o.toString()),h.setAttributeNS(null,"y",a.toString()),h.setAttributeNS(null,"height",c.toString()),h.setAttributeNS(null,"width",d.toString()),h.setAttributeNS(null,"fill","#000000"),h}}Kr.QUIET_ZONE_SIZE=4,Kr.SVG_NS="http://www.w3.org/2000/svg";class _o{encode(o,a,c,d,h){if(o.length===0)throw new _("Found empty contents");if(a!==be.QR_CODE)throw new _("Can only encode QR_CODE, but got "+a);if(c<0||d<0)throw new _(`Requested dimensions are too small: ${c}x${d}`);let C=Dt.L,E=_o.QUIET_ZONE_SIZE;h!==null&&(h.get(bn.ERROR_CORRECTION)!==void 0&&(C=Dt.fromString(h.get(bn.ERROR_CORRECTION).toString())),h.get(bn.MARGIN)!==void 0&&(E=Number.parseInt(h.get(bn.MARGIN).toString(),10)));const S=Zt.encode(o,C,h);return _o.renderResult(S,c,d,E)}static renderResult(o,a,c,d){const h=o.getMatrix();if(h===null)throw new Gn;const C=h.getWidth(),E=h.getHeight(),S=C+d*2,N=E+d*2,R=Math.max(a,S),U=Math.max(c,N),V=Math.min(Math.floor(R/S),Math.floor(U/N)),X=Math.floor((R-C*V)/2),J=Math.floor((U-E*V)/2),$=new qe(R,U);for(let le=0,ge=J;le<E;le++,ge+=V)for(let Ne=0,Ie=X;Ne<C;Ne++,Ie+=V)h.get(Ne,le)===1&&$.setRegion(Ie,ge,V,V);return $}}_o.QUIET_ZONE_SIZE=4;class Cd{encode(o,a,c,d,h){let C;switch(a){case be.QR_CODE:C=new _o;break;default:throw new _("No encoder available for format "+a)}return C.encode(o,a,c,d,h)}}class Ki extends ie{constructor(o,a,c,d,h,C,E,S){if(super(C,E),this.yuvData=o,this.dataWidth=a,this.dataHeight=c,this.left=d,this.top=h,d+C>a||h+E>c)throw new _("Crop rectangle does not fit within image data.");S&&this.reverseHorizontal(C,E)}getRow(o,a){if(o<0||o>=this.getHeight())throw new _("Requested row is outside the image: "+o);const c=this.getWidth();(a==null||a.length<c)&&(a=new Uint8ClampedArray(c));const d=(o+this.top)*this.dataWidth+this.left;return D.arraycopy(this.yuvData,d,a,0,c),a}getMatrix(){const o=this.getWidth(),a=this.getHeight();if(o===this.dataWidth&&a===this.dataHeight)return this.yuvData;const c=o*a,d=new Uint8ClampedArray(c);let h=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return D.arraycopy(this.yuvData,h,d,0,c),d;for(let C=0;C<a;C++){const E=C*o;D.arraycopy(this.yuvData,h,d,E,o),h+=this.dataWidth}return d}isCropSupported(){return!0}crop(o,a,c,d){return new Ki(this.yuvData,this.dataWidth,this.dataHeight,this.left+o,this.top+a,c,d,!1)}renderThumbnail(){const o=this.getWidth()/Ki.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/Ki.THUMBNAIL_SCALE_FACTOR,c=new Int32Array(o*a),d=this.yuvData;let h=this.top*this.dataWidth+this.left;for(let C=0;C<a;C++){const E=C*o;for(let S=0;S<o;S++){const N=d[h+S*Ki.THUMBNAIL_SCALE_FACTOR]&255;c[E+S]=4278190080|N*65793}h+=this.dataWidth*Ki.THUMBNAIL_SCALE_FACTOR}return c}getThumbnailWidth(){return this.getWidth()/Ki.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Ki.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(o,a){const c=this.yuvData;for(let d=0,h=this.top*this.dataWidth+this.left;d<a;d++,h+=this.dataWidth){const C=h+o/2;for(let E=h,S=h+o-1;E<C;E++,S--){const N=c[E];c[E]=c[S],c[S]=N}}}invert(){return new De(this)}}Ki.THUMBNAIL_SCALE_FACTOR=2;class Ts extends ie{constructor(o,a,c,d,h,C,E){if(super(a,c),this.dataWidth=d,this.dataHeight=h,this.left=C,this.top=E,o.BYTES_PER_ELEMENT===4){const S=a*c,N=new Uint8ClampedArray(S);for(let R=0;R<S;R++){const U=o[R],V=U>>16&255,X=U>>7&510,J=U&255;N[R]=(V+X+J)/4&255}this.luminances=N}else this.luminances=o;if(d===void 0&&(this.dataWidth=a),h===void 0&&(this.dataHeight=c),C===void 0&&(this.left=0),E===void 0&&(this.top=0),this.left+a>this.dataWidth||this.top+c>this.dataHeight)throw new _("Crop rectangle does not fit within image data.")}getRow(o,a){if(o<0||o>=this.getHeight())throw new _("Requested row is outside the image: "+o);const c=this.getWidth();(a==null||a.length<c)&&(a=new Uint8ClampedArray(c));const d=(o+this.top)*this.dataWidth+this.left;return D.arraycopy(this.luminances,d,a,0,c),a}getMatrix(){const o=this.getWidth(),a=this.getHeight();if(o===this.dataWidth&&a===this.dataHeight)return this.luminances;const c=o*a,d=new Uint8ClampedArray(c);let h=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return D.arraycopy(this.luminances,h,d,0,c),d;for(let C=0;C<a;C++){const E=C*o;D.arraycopy(this.luminances,h,d,E,o),h+=this.dataWidth}return d}isCropSupported(){return!0}crop(o,a,c,d){return new Ts(this.luminances,c,d,this.dataWidth,this.dataHeight,this.left+o,this.top+a)}invert(){return new De(this)}}class No extends ee{static forName(o){return this.getCharacterSetECIByName(o)}}class _l{}_l.ISO_8859_1=ee.ISO8859_1;class Nl{isCompact(){return this.compact}setCompact(o){this.compact=o}getSize(){return this.size}setSize(o){this.size=o}getLayers(){return this.layers}setLayers(o){this.layers=o}getCodeWords(){return this.codeWords}setCodeWords(o){this.codeWords=o}getMatrix(){return this.matrix}setMatrix(o){this.matrix=o}}class Ml{static singletonList(o){return[o]}static min(o,a){return o.sort(a)[0]}}class Zc{constructor(o){this.previous=o}getPrevious(){return this.previous}}class Zr extends Zc{constructor(o,a,c){super(o),this.value=a,this.bitCount=c}appendTo(o,a){o.appendBits(this.value,this.bitCount)}add(o,a){return new Zr(this,o,a)}addBinaryShift(o,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Zr(this,o,a)}toString(){let o=this.value&(1<<this.bitCount)-1;return o|=1<<this.bitCount,"<"+H.toBinaryString(o|1<<this.bitCount).substring(1)+">"}}class da extends Zr{constructor(o,a,c){super(o,0,0),this.binaryShiftStart=a,this.binaryShiftByteCount=c}appendTo(o,a){for(let c=0;c<this.binaryShiftByteCount;c++)(c===0||c===31&&this.binaryShiftByteCount<=62)&&(o.appendBits(31,5),this.binaryShiftByteCount>62?o.appendBits(this.binaryShiftByteCount-31,16):c===0?o.appendBits(Math.min(this.binaryShiftByteCount,31),5):o.appendBits(this.binaryShiftByteCount-31,5)),o.appendBits(a[this.binaryShiftStart+c],8)}addBinaryShift(o,a){return new da(this,o,a)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Mo(k,o,a){return new da(k,o,a)}function Ss(k,o,a){return new Zr(k,o,a)}const vd=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Dr=0,bs=1,gi=2,Io=3,oi=4,Ed=new Zr(null,0,0),Ro=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Qc(k){for(let o of k)q.fill(o,-1);return k[Dr][oi]=0,k[bs][oi]=0,k[bs][Dr]=28,k[Io][oi]=0,k[gi][oi]=0,k[gi][Dr]=15,k}const Il=Qc(q.createInt32Array(6,6));class vi{constructor(o,a,c,d){this.token=o,this.mode=a,this.binaryShiftByteCount=c,this.bitCount=d}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(o,a){let c=this.bitCount,d=this.token;if(o!==this.mode){let C=Ro[this.mode][o];d=Ss(d,C&65535,C>>16),c+=C>>16}let h=o===gi?4:5;return d=Ss(d,a,h),new vi(d,o,0,c+h)}shiftAndAppend(o,a){let c=this.token,d=this.mode===gi?4:5;return c=Ss(c,Il[this.mode][o],d),c=Ss(c,a,5),new vi(c,this.mode,0,this.bitCount+d+5)}addBinaryShiftChar(o){let a=this.token,c=this.mode,d=this.bitCount;if(this.mode===oi||this.mode===gi){let E=Ro[c][Dr];a=Ss(a,E&65535,E>>16),d+=E>>16,c=Dr}let h=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,C=new vi(a,c,this.binaryShiftByteCount+1,d+h);return C.binaryShiftByteCount===2078&&(C=C.endBinaryShift(o+1)),C}endBinaryShift(o){if(this.binaryShiftByteCount===0)return this;let a=this.token;return a=Mo(a,o-this.binaryShiftByteCount,this.binaryShiftByteCount),new vi(a,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(o){let a=this.bitCount+(Ro[this.mode][o.mode]>>16);return this.binaryShiftByteCount<o.binaryShiftByteCount?a+=vi.calculateBinaryShiftCost(o)-vi.calculateBinaryShiftCost(this):this.binaryShiftByteCount>o.binaryShiftByteCount&&o.binaryShiftByteCount>0&&(a+=10),a<=o.bitCount}toBitArray(o){let a=[];for(let d=this.endBinaryShift(o.length).token;d!==null;d=d.getPrevious())a.unshift(d);let c=new K;for(const d of a)d.appendTo(c,o);return c}toString(){return Te.format("%s bits=%d bytes=%d",vd[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(o){return o.binaryShiftByteCount>62?21:o.binaryShiftByteCount>31?20:o.binaryShiftByteCount>0?10:0}}vi.INITIAL_STATE=new vi(Ed,Dr,0,0);function Rl(k){const o=Te.getCharCode(" "),a=Te.getCharCode("."),c=Te.getCharCode(",");k[Dr][o]=1;const d=Te.getCharCode("Z"),h=Te.getCharCode("A");for(let V=h;V<=d;V++)k[Dr][V]=V-h+2;k[bs][o]=1;const C=Te.getCharCode("z"),E=Te.getCharCode("a");for(let V=E;V<=C;V++)k[bs][V]=V-E+2;k[gi][o]=1;const S=Te.getCharCode("9"),N=Te.getCharCode("0");for(let V=N;V<=S;V++)k[gi][V]=V-N+2;k[gi][c]=12,k[gi][a]=13;const R=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let V=0;V<R.length;V++)k[Io][Te.getCharCode(R[V])]=V;const U=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let V=0;V<U.length;V++)Te.getCharCode(U[V])>0&&(k[oi][Te.getCharCode(U[V])]=V);return k}const ha=Rl(q.createInt32Array(5,256));class Do{constructor(o){this.text=o}encode(){const o=Te.getCharCode(" "),a=Te.getCharCode(`
`);let c=Ml.singletonList(vi.INITIAL_STATE);for(let h=0;h<this.text.length;h++){let C,E=h+1<this.text.length?this.text[h+1]:0;switch(this.text[h]){case Te.getCharCode("\r"):C=E===a?2:0;break;case Te.getCharCode("."):C=E===o?3:0;break;case Te.getCharCode(","):C=E===o?4:0;break;case Te.getCharCode(":"):C=E===o?5:0;break;default:C=0}C>0?(c=Do.updateStateListForPair(c,h,C),h++):c=this.updateStateListForChar(c,h)}return Ml.min(c,(h,C)=>h.getBitCount()-C.getBitCount()).toBitArray(this.text)}updateStateListForChar(o,a){const c=[];for(let d of o)this.updateStateForChar(d,a,c);return Do.simplifyStates(c)}updateStateForChar(o,a,c){let d=this.text[a]&255,h=ha[o.getMode()][d]>0,C=null;for(let E=0;E<=oi;E++){let S=ha[E][d];if(S>0){if(C==null&&(C=o.endBinaryShift(a)),!h||E===o.getMode()||E===gi){const N=C.latchAndAppend(E,S);c.push(N)}if(!h&&Il[o.getMode()][E]>=0){const N=C.shiftAndAppend(E,S);c.push(N)}}}if(o.getBinaryShiftByteCount()>0||ha[o.getMode()][d]===0){let E=o.addBinaryShiftChar(a);c.push(E)}}static updateStateListForPair(o,a,c){const d=[];for(let h of o)this.updateStateForPair(h,a,c,d);return this.simplifyStates(d)}static updateStateForPair(o,a,c,d){let h=o.endBinaryShift(a);if(d.push(h.latchAndAppend(oi,c)),o.getMode()!==oi&&d.push(h.shiftAndAppend(oi,c)),c===3||c===4){let C=h.latchAndAppend(gi,16-c).latchAndAppend(gi,1);d.push(C)}if(o.getBinaryShiftByteCount()>0){let C=o.addBinaryShiftChar(a).addBinaryShiftChar(a+1);d.push(C)}}static simplifyStates(o){let a=[];for(const c of o){let d=!0;for(const h of a){if(h.isBetterThanOrEqualTo(c)){d=!1;break}c.isBetterThanOrEqualTo(h)&&(a=a.filter(C=>C!==h))}d&&a.push(c)}return a}}class vt{constructor(){}static encodeBytes(o){return vt.encode(o,vt.DEFAULT_EC_PERCENT,vt.DEFAULT_AZTEC_LAYERS)}static encode(o,a,c){let d=new Do(o).encode(),h=H.truncDivision(d.getSize()*a,100)+11,C=d.getSize()+h,E,S,N,R,U;if(c!==vt.DEFAULT_AZTEC_LAYERS){if(E=c<0,S=Math.abs(c),S>(E?vt.MAX_NB_BITS_COMPACT:vt.MAX_NB_BITS))throw new _(Te.format("Illegal value %s for layers",c));N=vt.totalBitsInLayer(S,E),R=vt.WORD_SIZE[S];let _e=N-N%R;if(U=vt.stuffBits(d,R),U.getSize()+h>_e)throw new _("Data to large for user specified layer");if(E&&U.getSize()>R*64)throw new _("Data to large for user specified layer")}else{R=0,U=null;for(let _e=0;;_e++){if(_e>vt.MAX_NB_BITS)throw new _("Data too large for an Aztec code");if(E=_e<=3,S=E?_e+1:_e,N=vt.totalBitsInLayer(S,E),C>N)continue;(U==null||R!==vt.WORD_SIZE[S])&&(R=vt.WORD_SIZE[S],U=vt.stuffBits(d,R));let ot=N-N%R;if(!(E&&U.getSize()>R*64)&&U.getSize()+h<=ot)break}}let V=vt.generateCheckWords(U,N,R),X=U.getSize()/R,J=vt.generateModeMessage(E,S,X),$=(E?11:14)+S*4,le=new Int32Array($),ge;if(E){ge=$;for(let _e=0;_e<le.length;_e++)le[_e]=_e}else{ge=$+1+2*H.truncDivision(H.truncDivision($,2)-1,15);let _e=H.truncDivision($,2),ot=H.truncDivision(ge,2);for(let it=0;it<_e;it++){let Jn=it+H.truncDivision(it,15);le[_e-it-1]=ot-Jn-1,le[_e+it]=ot+Jn+1}}let Ne=new qe(ge);for(let _e=0,ot=0;_e<S;_e++){let it=(S-_e)*4+(E?9:12);for(let Jn=0;Jn<it;Jn++){let Ei=Jn*2;for(let si=0;si<2;si++)V.get(ot+Ei+si)&&Ne.set(le[_e*2+si],le[_e*2+Jn]),V.get(ot+it*2+Ei+si)&&Ne.set(le[_e*2+Jn],le[$-1-_e*2-si]),V.get(ot+it*4+Ei+si)&&Ne.set(le[$-1-_e*2-si],le[$-1-_e*2-Jn]),V.get(ot+it*6+Ei+si)&&Ne.set(le[$-1-_e*2-Jn],le[_e*2+si])}ot+=it*8}if(vt.drawModeMessage(Ne,E,ge,J),E)vt.drawBullsEye(Ne,H.truncDivision(ge,2),5);else{vt.drawBullsEye(Ne,H.truncDivision(ge,2),7);for(let _e=0,ot=0;_e<H.truncDivision($,2)-1;_e+=15,ot+=16)for(let it=H.truncDivision(ge,2)&1;it<ge;it+=2)Ne.set(H.truncDivision(ge,2)-ot,it),Ne.set(H.truncDivision(ge,2)+ot,it),Ne.set(it,H.truncDivision(ge,2)-ot),Ne.set(it,H.truncDivision(ge,2)+ot)}let Ie=new Nl;return Ie.setCompact(E),Ie.setSize(ge),Ie.setLayers(S),Ie.setCodeWords(X),Ie.setMatrix(Ne),Ie}static drawBullsEye(o,a,c){for(let d=0;d<c;d+=2)for(let h=a-d;h<=a+d;h++)o.set(h,a-d),o.set(h,a+d),o.set(a-d,h),o.set(a+d,h);o.set(a-c,a-c),o.set(a-c+1,a-c),o.set(a-c,a-c+1),o.set(a+c,a-c),o.set(a+c,a-c+1),o.set(a+c,a+c-1)}static generateModeMessage(o,a,c){let d=new K;return o?(d.appendBits(a-1,2),d.appendBits(c-1,6),d=vt.generateCheckWords(d,28,4)):(d.appendBits(a-1,5),d.appendBits(c-1,11),d=vt.generateCheckWords(d,40,4)),d}static drawModeMessage(o,a,c,d){let h=H.truncDivision(c,2);if(a)for(let C=0;C<7;C++){let E=h-3+C;d.get(C)&&o.set(E,h-5),d.get(C+7)&&o.set(h+5,E),d.get(20-C)&&o.set(E,h+5),d.get(27-C)&&o.set(h-5,E)}else for(let C=0;C<10;C++){let E=h-5+C+H.truncDivision(C,5);d.get(C)&&o.set(E,h-7),d.get(C+10)&&o.set(h+7,E),d.get(29-C)&&o.set(E,h+7),d.get(39-C)&&o.set(h-7,E)}}static generateCheckWords(o,a,c){let d=o.getSize()/c,h=new bl(vt.getGF(c)),C=H.truncDivision(a,c),E=vt.bitsToWords(o,c,C);h.encode(E,C-d);let S=a%c,N=new K;N.appendBits(0,S);for(const R of Array.from(E))N.appendBits(R,c);return N}static bitsToWords(o,a,c){let d=new Int32Array(c),h,C;for(h=0,C=o.getSize()/a;h<C;h++){let E=0;for(let S=0;S<a;S++)E|=o.get(h*a+S)?1<<a-S-1:0;d[h]=E}return d}static getGF(o){switch(o){case 4:return et.AZTEC_PARAM;case 6:return et.AZTEC_DATA_6;case 8:return et.AZTEC_DATA_8;case 10:return et.AZTEC_DATA_10;case 12:return et.AZTEC_DATA_12;default:throw new _("Unsupported word size "+o)}}static stuffBits(o,a){let c=new K,d=o.getSize(),h=(1<<a)-2;for(let C=0;C<d;C+=a){let E=0;for(let S=0;S<a;S++)(C+S>=d||o.get(C+S))&&(E|=1<<a-1-S);(E&h)===h?(c.appendBits(E&h,a),C--):(E&h)===0?(c.appendBits(E|1,a),C--):c.appendBits(E,a)}return c}static totalBitsInLayer(o,a){return((a?88:112)+16*o)*o}}vt.DEFAULT_EC_PERCENT=33,vt.DEFAULT_AZTEC_LAYERS=0,vt.MAX_NB_BITS=32,vt.MAX_NB_BITS_COMPACT=4,vt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ga{encode(o,a,c,d){return this.encodeWithHints(o,a,c,d,null)}encodeWithHints(o,a,c,d,h){let C=_l.ISO_8859_1,E=vt.DEFAULT_EC_PERCENT,S=vt.DEFAULT_AZTEC_LAYERS;return h!=null&&(h.has(bn.CHARACTER_SET)&&(C=No.forName(h.get(bn.CHARACTER_SET).toString())),h.has(bn.ERROR_CORRECTION)&&(E=H.parseInt(h.get(bn.ERROR_CORRECTION).toString())),h.has(bn.AZTEC_LAYERS)&&(S=H.parseInt(h.get(bn.AZTEC_LAYERS).toString()))),ga.encodeLayers(o,a,c,d,C,E,S)}static encodeLayers(o,a,c,d,h,C,E){if(a!==be.AZTEC)throw new _("Can only encode AZTEC, but got "+a);let S=vt.encode(Te.getBytes(o,h),C,E);return ga.renderResult(S,c,d)}static renderResult(o,a,c){let d=o.getMatrix();if(d==null)throw new Gn;let h=d.getWidth(),C=d.getHeight(),E=Math.max(a,h),S=Math.max(c,C),N=Math.min(E/h,S/C),R=(E-h*N)/2,U=(S-C*N)/2,V=new qe(E,S);for(let X=0,J=U;X<C;X++,J+=N)for(let $=0,le=R;$<h;$++,le+=N)d.get($,X)&&V.setRegion(le,J,N,N);return V}}n.AbstractExpandedDecoder=xs,n.ArgumentException=T,n.ArithmeticException=st,n.AztecCode=Nl,n.AztecCodeReader=ea,n.AztecCodeWriter=ga,n.AztecDecoder=Rt,n.AztecDetector=zc,n.AztecDetectorResult=Cl,n.AztecEncoder=vt,n.AztecHighLevelEncoder=Do,n.AztecPoint=Pt,n.BarcodeFormat=be,n.Binarizer=P,n.BinaryBitmap=I,n.BitArray=K,n.BitMatrix=qe,n.BitSource=ii,n.BrowserAztecCodeReader=ud,n.BrowserBarcodeReader=Yc,n.BrowserCodeReader=Se,n.BrowserDatamatrixCodeReader=fd,n.BrowserMultiFormatReader=md,n.BrowserPDF417Reader=pd,n.BrowserQRCodeReader=xd,n.BrowserQRCodeSvgWriter=Kr,n.CharacterSetECI=ee,n.ChecksumException=O,n.Code128Reader=Le,n.Code39Reader=Kt,n.DataMatrixDecodedBitStreamParser=Tr,n.DataMatrixReader=Di,n.DecodeHintType=oe,n.DecoderResult=Ct,n.DefaultGridSampler=ni,n.DetectorResult=$s,n.EAN13Reader=Ii,n.EncodeHintType=bn,n.Exception=y,n.FormatException=Z,n.GenericGF=et,n.GenericGFPoly=Qe,n.GlobalHistogramBinarizer=ne,n.GridSampler=vl,n.GridSamplerInstance=Qn,n.HTMLCanvasElementLuminanceSource=j,n.HybridBinarizer=he,n.ITFReader=bt,n.IllegalArgumentException=_,n.IllegalStateException=Gn,n.InvertedLuminanceSource=De,n.LuminanceSource=ie,n.MathUtils=ct,n.MultiFormatOneDReader=Ar,n.MultiFormatReader=Kc,n.MultiFormatWriter=Cd,n.NotFoundException=re,n.OneDReader=nn,n.PDF417DecodedBitStreamParser=pe,n.PDF417DecoderErrorCorrection=vs,n.PDF417Reader=Un,n.PDF417ResultMetadata=ca,n.PerspectiveTransform=Zn,n.PlanarYUVLuminanceSource=Ki,n.QRCodeByteMatrix=As,n.QRCodeDataMask=kn,n.QRCodeDecodedBitStreamParser=rn,n.QRCodeDecoderErrorCorrectionLevel=Dt,n.QRCodeDecoderFormatInformation=Bn,n.QRCodeEncoder=Zt,n.QRCodeEncoderQRCode=jr,n.QRCodeMaskUtil=cn,n.QRCodeMatrixUtil=Ze,n.QRCodeMode=We,n.QRCodeReader=ar,n.QRCodeVersion=Ye,n.QRCodeWriter=_o,n.RGBLuminanceSource=Ts,n.RSS14Reader=_t,n.RSSExpandedReader=Ae,n.ReaderException=Es,n.ReedSolomonDecoder=Mi,n.ReedSolomonEncoder=bl,n.ReedSolomonException=wn,n.Result=Oe,n.ResultMetadataType=ke,n.ResultPoint=Ve,n.StringUtils=Te,n.UnsupportedOperationException=Me,n.VideoInputDevice=xe,n.WhiteRectangleDetector=rr,n.WriterException=kt,n.ZXingArrays=q,n.ZXingCharset=No,n.ZXingInteger=H,n.ZXingStandardCharsets=_l,n.ZXingStringBuilder=Be,n.ZXingStringEncoding=Re,n.ZXingSystem=D,n.createAbstractExpandedDecoder=Al,Object.defineProperty(n,"__esModule",{value:!0})})}(Ac,Ac.exports)),Ac.exports}var on=z9();const H9=m1(on),G9=k2({__proto__:null,default:H9},[on]);var b2=function(){function t(e,n,r){if(this.formatMap=new Map([[Fe.QR_CODE,on.BarcodeFormat.QR_CODE],[Fe.AZTEC,on.BarcodeFormat.AZTEC],[Fe.CODABAR,on.BarcodeFormat.CODABAR],[Fe.CODE_39,on.BarcodeFormat.CODE_39],[Fe.CODE_93,on.BarcodeFormat.CODE_93],[Fe.CODE_128,on.BarcodeFormat.CODE_128],[Fe.DATA_MATRIX,on.BarcodeFormat.DATA_MATRIX],[Fe.MAXICODE,on.BarcodeFormat.MAXICODE],[Fe.ITF,on.BarcodeFormat.ITF],[Fe.EAN_13,on.BarcodeFormat.EAN_13],[Fe.EAN_8,on.BarcodeFormat.EAN_8],[Fe.PDF_417,on.BarcodeFormat.PDF_417],[Fe.RSS_14,on.BarcodeFormat.RSS_14],[Fe.RSS_EXPANDED,on.BarcodeFormat.RSS_EXPANDED],[Fe.UPC_A,on.BarcodeFormat.UPC_A],[Fe.UPC_E,on.BarcodeFormat.UPC_E],[Fe.UPC_EAN_EXTENSION,on.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!G9)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var l=this.createZXingFormats(e),f=new Map;f.set(on.DecodeHintType.POSSIBLE_FORMATS,l),f.set(on.DecodeHintType.TRY_HARDER,!1),this.hints=f}return t.prototype.decodeAsync=function(e){var n=this;return new Promise(function(r,l){try{r(n.decode(e))}catch(f){l(f)}})},t.prototype.decode=function(e){var n=new on.MultiFormatReader(this.verbose,this.hints),r=new on.HTMLCanvasElementLuminanceSource(e),l=new on.BinaryBitmap(new on.HybridBinarizer(r)),f=n.decode(l);return{text:f.text,format:uw.create(this.toHtml5QrcodeSupportedFormats(f.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,l){e.set(n,r)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var n=[],r=0,l=e;r<l.length;r++){var f=l[r];this.formatMap.has(f)?n.push(this.formatMap.get(f)):this.logger.logError("".concat(f," is not supported by")+"ZXingHtml5QrcodeShim")}return n},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),q9=function(t,e,n,r){function l(f){return f instanceof n?f:new n(function(p){p(f)})}return new(n||(n=Promise))(function(f,p){function v(T){try{y(r.next(T))}catch(_){p(_)}}function w(T){try{y(r.throw(T))}catch(_){p(_)}}function y(T){T.done?f(T.value):l(T.value).then(v,w)}y((r=r.apply(t,e||[])).next())})},Y9=function(t,e){var n={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},r,l,f,p;return p={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function v(y){return function(T){return w([y,T])}}function w(y){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(n=0)),n;)try{if(r=1,l&&(f=y[0]&2?l.return:y[0]?l.throw||((f=l.return)&&f.call(l),0):l.next)&&!(f=f.call(l,y[1])).done)return f;switch(l=0,f&&(y=[y[0]&2,f.value]),y[0]){case 0:case 1:f=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,l=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(f=n.trys,!(f=f.length>0&&f[f.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!f||y[1]>f[0]&&y[1]<f[3])){n.label=y[1];break}if(y[0]===6&&n.label<f[1]){n.label=f[1],f=y;break}if(f&&n.label<f[2]){n.label=f[2],n.ops.push(y);break}f[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(t,n)}catch(T){y=[6,T],l=0}finally{r=f=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},_2=function(){function t(e,n,r){if(this.formatMap=new Map([[Fe.QR_CODE,"qr_code"],[Fe.AZTEC,"aztec"],[Fe.CODABAR,"codabar"],[Fe.CODE_39,"code_39"],[Fe.CODE_93,"code_93"],[Fe.CODE_128,"code_128"],[Fe.DATA_MATRIX,"data_matrix"],[Fe.ITF,"itf"],[Fe.EAN_13,"ean_13"],[Fe.EAN_8,"ean_8"],[Fe.PDF_417,"pdf417"],[Fe.UPC_A,"upc_a"],[Fe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var l=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(l),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return q9(this,void 0,void 0,function(){var n,r;return Y9(this,function(l){switch(l.label){case 0:return[4,this.detector.detect(e)];case 1:if(n=l.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:uw.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var n=null,r=0,l=0,f=e;l<f.length;l++){var p=f[l],v=p.boundingBox.width*p.boundingBox.height;v>r&&(r=v,n=p)}if(!n)throw"No largest barcode found";return n},t.prototype.createBarcodeDetectorFormats=function(e){for(var n=[],r=0,l=e;r<l.length;r++){var f=l[r];this.formatMap.has(f)?n.push(this.formatMap.get(f)):this.logger.warn("".concat(f," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,l){e.set(n,r)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),N2=function(t,e,n,r){function l(f){return f instanceof n?f:new n(function(p){p(f)})}return new(n||(n=Promise))(function(f,p){function v(T){try{y(r.next(T))}catch(_){p(_)}}function w(T){try{y(r.throw(T))}catch(_){p(_)}}function y(T){T.done?f(T.value):l(T.value).then(v,w)}y((r=r.apply(t,e||[])).next())})},M2=function(t,e){var n={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},r,l,f,p;return p={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function v(y){return function(T){return w([y,T])}}function w(y){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(n=0)),n;)try{if(r=1,l&&(f=y[0]&2?l.return:y[0]?l.throw||((f=l.return)&&f.call(l),0):l.next)&&!(f=f.call(l,y[1])).done)return f;switch(l=0,f&&(y=[y[0]&2,f.value]),y[0]){case 0:case 1:f=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,l=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(f=n.trys,!(f=f.length>0&&f[f.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!f||y[1]>f[0]&&y[1]<f[3])){n.label=y[1];break}if(y[0]===6&&n.label<f[1]){n.label=f[1],f=y;break}if(f&&n.label<f[2]){n.label=f[2],n.ops.push(y);break}f[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(t,n)}catch(T){y=[6,T],l=0}finally{r=f=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},X9=function(){function t(e,n,r,l){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&_2.isSupported()?(this.primaryDecoder=new _2(e,r,l),this.secondaryDecoder=new b2(e,r,l)):this.primaryDecoder=new b2(e,r,l)}return t.prototype.decodeAsync=function(e){return N2(this,void 0,void 0,function(){var n;return M2(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return N2(this,void 0,void 0,function(){var n,r;return M2(this,function(l){switch(l.label){case 0:n=performance.now(),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,l.sent()];case 3:if(r=l.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var n=performance.now()-e;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,n=0,r=this.executionResults;n<r.length;n++){var l=r[n];e+=l}var f=e/this.executionResults.length;console.log("".concat(f," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),eg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,l){r.__proto__=l}||function(r,l){for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(r[f]=l[f])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vf=function(t,e,n,r){function l(f){return f instanceof n?f:new n(function(p){p(f)})}return new(n||(n=Promise))(function(f,p){function v(T){try{y(r.next(T))}catch(_){p(_)}}function w(T){try{y(r.throw(T))}catch(_){p(_)}}function y(T){T.done?f(T.value):l(T.value).then(v,w)}y((r=r.apply(t,e||[])).next())})},zf=function(t,e){var n={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},r,l,f,p;return p={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function v(y){return function(T){return w([y,T])}}function w(y){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(n=0)),n;)try{if(r=1,l&&(f=y[0]&2?l.return:y[0]?l.throw||((f=l.return)&&f.call(l),0):l.next)&&!(f=f.call(l,y[1])).done)return f;switch(l=0,f&&(y=[y[0]&2,f.value]),y[0]){case 0:case 1:f=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,l=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(f=n.trys,!(f=f.length>0&&f[f.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!f||y[1]>f[0]&&y[1]<f[3])){n.label=y[1];break}if(y[0]===6&&n.label<f[1]){n.label=f[1],f=y;break}if(f&&n.label<f[2]){n.label=f[2],n.ops.push(y);break}f[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(t,n)}catch(T){y=[6,T],l=0}finally{r=f=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},gw=function(){function t(e,n){this.name=e,this.track=n}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var n={};n[this.name]=e;var r={advanced:[n]};return this.track.applyConstraints(r)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},t}(),W9=function(t){eg(e,t);function e(n,r){return t.call(this,n,r)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var r={};r[this.name]=n;var l={advanced:[r]};return this.track.applyConstraints(l)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(gw),j9=function(t){eg(e,t);function e(n){return t.call(this,"zoom",n)||this}return e}(W9),K9=function(t){eg(e,t);function e(n){return t.call(this,"torch",n)||this}return e}(gw),Z9=function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new j9(this.track)},t.prototype.torchFeature=function(){return new K9(this.track)},t}(),Q9=function(){function t(e,n,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var n=document.createElement("video");return n.style.width="".concat(e,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=e.surface.clientWidth,l=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,l),e.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,n,r,l){return Vf(this,void 0,void 0,function(){var f,p;return zf(this,function(v){switch(v.label){case 0:return f=new t(e,n,l),r.aspectRatio?(p={aspectRatio:r.aspectRatio},[4,f.getFirstTrackOrFail().applyConstraints(p)]):[3,2];case 1:v.sent(),v.label=2;case 2:return f.setupSurface(),[2,f]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var n=this,r=function(){setTimeout(e,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return Vf(this,void 0,void 0,function(){return zf(this,function(n){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(n,r){var l=e.mediaStream.getVideoTracks(),f=l.length,p=0;e.mediaStream.getVideoTracks().forEach(function(v){e.mediaStream.removeTrack(v),v.stop(),++p,p>=f&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),n())})})},t.prototype.getCapabilities=function(){return new Z9(this.getFirstTrackOrFail())},t}(),J9=function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,n,r){return Vf(this,void 0,void 0,function(){return zf(this,function(l){return[2,Q9.create(e,this.mediaStream,n,r)]})})},t.create=function(e){return Vf(this,void 0,void 0,function(){var n,r;return zf(this,function(l){switch(l.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=l.sent(),[2,new t(r)]}})})},t}(),I2=function(t,e,n,r){function l(f){return f instanceof n?f:new n(function(p){p(f)})}return new(n||(n=Promise))(function(f,p){function v(T){try{y(r.next(T))}catch(_){p(_)}}function w(T){try{y(r.throw(T))}catch(_){p(_)}}function y(T){T.done?f(T.value):l(T.value).then(v,w)}y((r=r.apply(t,e||[])).next())})},R2=function(t,e){var n={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},r,l,f,p;return p={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function v(y){return function(T){return w([y,T])}}function w(y){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(n=0)),n;)try{if(r=1,l&&(f=y[0]&2?l.return:y[0]?l.throw||((f=l.return)&&f.call(l),0):l.next)&&!(f=f.call(l,y[1])).done)return f;switch(l=0,f&&(y=[y[0]&2,f.value]),y[0]){case 0:case 1:f=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,l=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(f=n.trys,!(f=f.length>0&&f[f.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!f||y[1]>f[0]&&y[1]<f[3])){n.label=y[1];break}if(y[0]===6&&n.label<f[1]){n.label=f[1],f=y;break}if(f&&n.label<f[2]){n.label=f[2],n.ops.push(y);break}f[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(t,n)}catch(T){y=[6,T],l=0}finally{r=f=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},$9=function(){function t(){}return t.failIfNotSupported=function(){return I2(this,void 0,void 0,function(){return R2(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return I2(this,void 0,void 0,function(){return R2(this,function(n){return[2,J9.create(e)]})})},t}(),eP=function(t,e,n,r){function l(f){return f instanceof n?f:new n(function(p){p(f)})}return new(n||(n=Promise))(function(f,p){function v(T){try{y(r.next(T))}catch(_){p(_)}}function w(T){try{y(r.throw(T))}catch(_){p(_)}}function y(T){T.done?f(T.value):l(T.value).then(v,w)}y((r=r.apply(t,e||[])).next())})},tP=function(t,e){var n={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},r,l,f,p;return p={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function v(y){return function(T){return w([y,T])}}function w(y){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(n=0)),n;)try{if(r=1,l&&(f=y[0]&2?l.return:y[0]?l.throw||((f=l.return)&&f.call(l),0):l.next)&&!(f=f.call(l,y[1])).done)return f;switch(l=0,f&&(y=[y[0]&2,f.value]),y[0]){case 0:case 1:f=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,l=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(f=n.trys,!(f=f.length>0&&f[f.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!f||y[1]>f[0]&&y[1]<f[3])){n.label=y[1];break}if(y[0]===6&&n.label<f[1]){n.label=f[1],f=y;break}if(f&&n.label<f[2]){n.label=f[2],n.ops.push(y);break}f[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(t,n)}catch(T){y=[6,T],l=0}finally{r=f=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},nP=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=Wa.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=Wa.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return eP(this,void 0,void 0,function(){var e,n,r,l,f,p,v;return tP(this,function(w){switch(w.label){case 0:return e=function(y){for(var T=y.getVideoTracks(),_=0,I=T;_<I.length;_++){var O=I[_];O.enabled=!1,O.stop(),y.removeTrack(O)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=w.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=w.sent(),l=[],f=0,p=r;f<p.length;f++)v=p[f],v.kind==="videoinput"&&l.push({id:v.deviceId,label:v.label});return e(n),[2,l]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,n){var r=function(f){for(var p=[],v=0,w=f;v<w.length;v++){var y=w[v];y.kind==="video"&&p.push({id:y.id,label:y.label})}e(p)},l=MediaStreamTrack;l.getSources(r)})},t}(),vn;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(vn||(vn={}));var iP=function(){function t(){this.state=vn.NOT_STARTED,this.onGoingTransactionNewState=vn.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===vn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=vn.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===vn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=vn.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==vn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case vn.UNKNOWN:throw"Transition from unknown is not allowed";case vn.NOT_STARTED:this.failIfNewStateIs(e,[vn.PAUSED]);break;case vn.SCANNING:break;case vn.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,n){for(var r=0,l=n;r<l.length;r++){var f=l[r];if(e===f)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t}(),rP=function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===vn.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==vn.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===vn.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===vn.PAUSED},t}(),oP=function(){function t(){}return t.create=function(){return new rP(new iP)},t}(),sP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,l){r.__proto__=l}||function(r,l){for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(r[f]=l[f])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vi=function(t){sP(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(hr),aP=function(){function t(e,n){this.logger=n,this.fps=Vi.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Vi.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?hw.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!Vr(this.qrbox)},t.create=function(e,n){return new t(e,n)},t}(),D2=function(){function t(e,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new dw(this.verbose),this.qrcode=new X9(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=oP.create()}return t.prototype.start=function(e,n,r,l){var f=this;if(!e)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var p;l?p=l:p=this.verbose?this.logger.log:function(){};var v=aP.create(n,this.logger);this.clearElement();var w=!1;v.videoConstraints&&(v.isMediaStreamConstraintsValid()?w=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var y=w,T=document.getElementById(this.elementId);T.clientWidth?T.clientWidth:Vi.DEFAULT_WIDTH,T.style.position="relative",this.shouldScan=!0,this.element=T;var _=this,I=this.stateManagerProxy.startTransition(vn.SCANNING);return new Promise(function(O,P){var D=y?v.videoConstraints:_.createVideoConstraints(e);if(!D){I.cancel(),P("videoConstraints should be defined");return}var F={};(!y||v.aspectRatio)&&(F.aspectRatio=v.aspectRatio);var G={onRenderSurfaceReady:function(q,H){_.setupUi(q,H,v),_.isScanning=!0,_.foreverScan(v,r,p)}};$9.failIfNotSupported().then(function(q){q.create(D).then(function(H){return H.render(f.element,F,G).then(function(K){_.renderedCamera=K,I.execute(),O(null)}).catch(function(K){I.cancel(),P(K)})}).catch(function(H){I.cancel(),P(Wa.errorGettingUserMedia(H))})}).catch(function(q){I.cancel(),P(Wa.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(vn.PAUSED),this.showPausedState(),(Vr(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,n=function(){e.stateManagerProxy.directTransition(vn.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(vn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(e.element){var f=document.getElementById(Vi.SHADED_REGION_ELEMENT_ID);f&&e.element.removeChild(f)}},l=this;return this.renderedCamera.close().then(function(){return l.renderedCamera=null,l.element&&(l.element.removeChild(l.canvasElement),l.canvasElement=null),r(),l.qrRegion&&(l.qrRegion=null),l.context&&(l.context=null),n.execute(),l.hidePausedState(),l.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,n){return this.scanFileV2(e,n).then(function(r){return r.decodedText})},t.prototype.scanFileV2=function(e,n){var r=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Vr(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(l,f){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var p=new Image;p.onload=function(){var v=p.width,w=p.height,y=document.getElementById(r.elementId),T=y.clientWidth?y.clientWidth:Vi.DEFAULT_WIDTH,_=Math.max(y.clientHeight?y.clientHeight:w,Vi.FILE_SCAN_MIN_HEIGHT),I=r.computeCanvasDrawConfig(v,w,T,_);if(n){var O=r.createCanvasElement(T,_,"qr-canvas-visible");O.style.display="inline-block",y.appendChild(O);var P=O.getContext("2d");if(!P)throw"Unable to get 2d context from canvas";P.canvas.width=T,P.canvas.height=_,P.drawImage(p,0,0,v,w,I.x,I.y,I.width,I.height)}var D=Vi.FILE_SCAN_HIDDEN_CANVAS_PADDING,F=Math.max(p.width,I.width),G=Math.max(p.height,I.height),q=F+2*D,H=G+2*D,K=r.createCanvasElement(q,H);y.appendChild(K);var W=K.getContext("2d");if(!W)throw"Unable to get 2d context from canvas";W.canvas.width=q,W.canvas.height=H,W.drawImage(p,0,0,v,w,D,D,F,G);try{r.qrcode.decodeRobustlyAsync(K).then(function(oe){l(A2.createFromQrcodeResult(oe))}).catch(f)}catch(oe){f("QR code parse error, error = ".concat(oe))}},p.onerror=f,p.onabort=f,p.onstalled=f,p.onsuspend=f,p.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return nP.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!hw.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var n=[Fe.QR_CODE,Fe.AZTEC,Fe.CODABAR,Fe.CODE_39,Fe.CODE_93,Fe.CODE_128,Fe.DATA_MATRIX,Fe.MAXICODE,Fe.ITF,Fe.EAN_13,Fe.EAN_8,Fe.PDF_417,Fe.RSS_14,Fe.RSS_EXPANDED,Fe.UPC_A,Fe.UPC_E,Fe.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return n;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],l=0,f=e.formatsToSupport;l<f.length;l++){var p=f[l];U9(p)?r.push(p):this.logger.warn("Invalid format: ".concat(p," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Vr(e))return!0;if(!Vr(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Vr(e.experimentalFeatures))return!0;var n=e.experimentalFeatures;return Vr(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,n,r){var l=this,f=r.qrbox;this.validateQrboxConfig(f);var p=this.toQrdimensions(e,n,f),v=function(y){if(y<Vi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Vi.MIN_QR_BOX_SIZE,"px.")},w=function(y){return y>e&&(l.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),y=e),y};v(p.width),v(p.height),p.width=w(p.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(e,n)}catch(l){throw new Error("qrbox config was passed as a function but it failed with unknown error"+l)}return r},t.prototype.setupUi=function(e,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,n,r);var l=Vr(r.qrbox)?{width:e,height:n}:r.qrbox;this.validateQrboxConfig(l);var f=this.toQrdimensions(e,n,l);f.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var p=r.isShadedBoxEnabled()&&f.height<=n,v={x:0,y:0,width:e,height:n},w=p?this.getShadedRegionBounds(e,n,f):v,y=this.createCanvasElement(w.width,w.height),T={willReadFrequently:!0},_=y.getContext("2d",T);_.canvas.width=w.width,_.canvas.height=w.height,this.element.append(y),p&&this.possiblyInsertShadingElement(this.element,e,n,f),this.createScannerPausedUiElement(this.element),this.qrRegion=w,this.context=_,this.canvasElement=y},t.prototype.createScannerPausedUiElement=function(e){var n=document.createElement("div");n.innerText=Wa.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",e.appendChild(n),this.scannerPausedUiElement=n},t.prototype.scanContext=function(e,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(l){return e(l.text,A2.createFromQrcodeResult(l)),r.possiblyUpdateShaders(!0),!0}).catch(function(l){r.possiblyUpdateShaders(!1);var f=Wa.codeParseError(l);return n(f,fw.createFrom(f)),!1})},t.prototype.foreverScan=function(e,n,r){var l=this;if(this.shouldScan&&this.renderedCamera){var f=this.renderedCamera.getSurface(),p=f.videoWidth/f.clientWidth,v=f.videoHeight/f.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var w=this.qrRegion.width*p,y=this.qrRegion.height*v,T=this.qrRegion.x*p,_=this.qrRegion.y*v;this.context.drawImage(f,T,_,w,y,0,0,this.qrRegion.width,this.qrRegion.height);var I=function(){l.foreverScanTimeout=setTimeout(function(){l.foreverScan(e,n,r)},l.getTimeoutFps(e.fps))};this.scanContext(n,r).then(function(O){!O&&e.disableFlip!==!0?(l.context.translate(l.context.canvas.width,0),l.context.scale(-1,1),l.scanContext(n,r).finally(function(){I()})):I()}).catch(function(O){l.logger.logError("Error happend while scanning context",O),I()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var n="facingMode",r="deviceId",l={user:!0,environment:!0},f="exact",p=function(P){if(P in l)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(P,"'")},v=Object.keys(e);if(v.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(v.length," keys");var w=Object.keys(e)[0];if(w!==n&&w!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(w===n){var y=e.facingMode;if(typeof y=="string"){if(p(y))return{facingMode:y}}else if(typeof y=="object")if(f in y){if(p(y["".concat(f)]))return{facingMode:{exact:y["".concat(f)]}}}else throw"'facingMode' should be string or object with"+" ".concat(f," as key.");else{var T=typeof y;throw"Invalid type of 'facingMode' = ".concat(T)}}else{var _=e.deviceId;if(typeof _=="string")return{deviceId:_};if(typeof _=="object"){if(f in _)return{deviceId:{exact:_["".concat(f)]}};throw"'deviceId' should be string or object with"+" ".concat(f," as key.")}else{var I=typeof _;throw"Invalid type of 'deviceId' = ".concat(I)}}}var O=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(O)},t.prototype.computeCanvasDrawConfig=function(e,n,r,l){if(e<=r&&n<=l){var f=(r-e)/2,p=(l-n)/2;return{x:f,y:p,width:e,height:n}}else{var v=e,w=n;return e>r&&(n=r/e*n,e=r),n>l&&(e=l/n*e,n=l),this.logger.log("Image downsampled from "+"".concat(v,"X").concat(w)+" to ".concat(e,"X").concat(n,".")),this.computeCanvasDrawConfig(e,n,r,l)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=e?Vi.BORDER_SHADER_MATCH_COLOR:Vi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,n,r){var l=e,f=n,p=document.createElement("canvas");return p.style.width="".concat(l,"px"),p.style.height="".concat(f,"px"),p.style.display="none",p.id=Vr(r)?"qr-canvas":r,p},t.prototype.getShadedRegionBounds=function(e,n,r){if(r.width>e||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},t.prototype.possiblyInsertShadingElement=function(e,n,r,l){if(!(n-l.width<1||r-l.height<1)){var f=document.createElement("div");f.style.position="absolute";var p=(n-l.width)/2,v=(r-l.height)/2;if(f.style.borderLeft="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderRight="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderTop="".concat(v,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderBottom="".concat(v,"px solid rgba(0, 0, 0, 0.48)"),f.style.boxSizing="border-box",f.style.top="0px",f.style.bottom="0px",f.style.left="0px",f.style.right="0px",f.id="".concat(Vi.SHADED_REGION_ELEMENT_ID),n-l.width<11||r-l.height<11)this.hasBorderShaders=!1;else{var w=5,y=40;this.insertShaderBorders(f,y,w,-w,null,0,!0),this.insertShaderBorders(f,y,w,-w,null,0,!1),this.insertShaderBorders(f,y,w,null,-w,0,!0),this.insertShaderBorders(f,y,w,null,-w,0,!1),this.insertShaderBorders(f,w,y+w,-w,null,-w,!0),this.insertShaderBorders(f,w,y+w,null,-w,-w,!0),this.insertShaderBorders(f,w,y+w,-w,null,-w,!1),this.insertShaderBorders(f,w,y+w,null,-w,-w,!1),this.hasBorderShaders=!0}e.append(f)}},t.prototype.insertShaderBorders=function(e,n,r,l,f,p,v){var w=document.createElement("div");w.style.position="absolute",w.style.backgroundColor=Vi.BORDER_SHADER_DEFAULT_COLOR,w.style.width="".concat(n,"px"),w.style.height="".concat(r,"px"),l!==null&&(w.style.top="".concat(l,"px")),f!==null&&(w.style.bottom="".concat(f,"px")),v?w.style.left="".concat(p,"px"):w.style.right="".concat(p,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(w),e.appendChild(w)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t}(),tg="data:image/svg+xml;base64,",lP=tg+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",cP=tg+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",O2=tg+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",uP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",L2=function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t}(),fP=function(){function t(){this.data=L2.createDefault();var e=localStorage.getItem(t.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},t.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=L2.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t}(),dP=function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=T2.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),l=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(l);var f=document.createElement("a");f.innerText=T2.reportIssues(),f.href="https://github.com/mebjas/html5-qrcode/issues",f.target="new",f.style.color="white",this.infoDiv.appendChild(f),e.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t}(),hP=function(){function t(e,n){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=n,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(e){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=O2,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},e.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=uP,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=O2,this.infoIcon.style.opacity="0.6")},t}(),gP=function(){function t(){var e=this;this.infoDiv=new dP,this.infoIcon=new hP(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return t.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},t}(),mP=function(t,e,n,r){function l(f){return f instanceof n?f:new n(function(p){p(f)})}return new(n||(n=Promise))(function(f,p){function v(T){try{y(r.next(T))}catch(_){p(_)}}function w(T){try{y(r.throw(T))}catch(_){p(_)}}function y(T){T.done?f(T.value):l(T.value).then(v,w)}y((r=r.apply(t,e||[])).next())})},pP=function(t,e){var n={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},r,l,f,p;return p={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function v(y){return function(T){return w([y,T])}}function w(y){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(n=0)),n;)try{if(r=1,l&&(f=y[0]&2?l.return:y[0]?l.throw||((f=l.return)&&f.call(l),0):l.next)&&!(f=f.call(l,y[1])).done)return f;switch(l=0,f&&(y=[y[0]&2,f.value]),y[0]){case 0:case 1:f=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,l=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(f=n.trys,!(f=f.length>0&&f[f.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!f||y[1]>f[0]&&y[1]<f[3])){n.label=y[1];break}if(y[0]===6&&n.label<f[1]){n.label=f[1],f=y;break}if(f&&n.label<f[2]){n.label=f[2],n.ops.push(y);break}f[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(t,n)}catch(T){y=[6,T],l=0}finally{r=f=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},P2=function(){function t(){}return t.hasPermissions=function(){return mP(this,void 0,void 0,function(){var e,n,r,l;return pP(this,function(f){switch(f.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=f.sent(),n=0,r=e;n<r.length;n++)if(l=r[n],l.kind==="videoinput"&&l.label)return[2,!0];return[2,!1]}})})},t}(),ts=function(){function t(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var e=0,n=this.supportedScanTypes;e<n.length;e++){var r=n[e];if(t.isCameraScanType(r))return!0}return!1},t.isCameraScanType=function(e){return e===cs.SCAN_TYPE_CAMERA},t.isFileScanType=function(e){return e===cs.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return hr.DEFAULT_SUPPORTED_SCAN_TYPE;var n=hr.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,l=e;r<l.length;r++){var f=l[r];if(!hr.DEFAULT_SUPPORTED_SCAN_TYPE.includes(f))throw"Unsupported scan type ".concat(f)}return e},t}(),Gi=function(){function t(){}return t.ALL_ELEMENT_CLASS="html5-qrcode-element",t.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",t.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",t.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",t.TORCH_BUTTON_ID="html5-qrcode-button-torch",t.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",t.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",t.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",t.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",t.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",t.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",t}(),go=function(){function t(){}return t.createElement=function(e,n){var r=document.createElement(e);return r.id=n,r.classList.add(Gi.ALL_ELEMENT_CLASS),e==="button"&&r.setAttribute("type","button"),r},t}(),mw=function(t,e,n,r){function l(f){return f instanceof n?f:new n(function(p){p(f)})}return new(n||(n=Promise))(function(f,p){function v(T){try{y(r.next(T))}catch(_){p(_)}}function w(T){try{y(r.throw(T))}catch(_){p(_)}}function y(T){T.done?f(T.value):l(T.value).then(v,w)}y((r=r.apply(t,e||[])).next())})},pw=function(t,e){var n={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},r,l,f,p;return p={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function v(y){return function(T){return w([y,T])}}function w(y){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,y[0]&&(n=0)),n;)try{if(r=1,l&&(f=y[0]&2?l.return:y[0]?l.throw||((f=l.return)&&f.call(l),0):l.next)&&!(f=f.call(l,y[1])).done)return f;switch(l=0,f&&(y=[y[0]&2,f.value]),y[0]){case 0:case 1:f=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,l=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(f=n.trys,!(f=f.length>0&&f[f.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!f||y[1]>f[0]&&y[1]<f[3])){n.label=y[1];break}if(y[0]===6&&n.label<f[1]){n.label=f[1],f=y;break}if(f&&n.label<f[2]){n.label=f[2],n.ops.push(y);break}f[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(t,n)}catch(T){y=[6,T],l=0}finally{r=f=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},B2=function(){function t(e,n,r){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=n,this.onTorchActionFailureCallback=r}return t.prototype.isTorchEnabled=function(){return this.isTorchOn},t.prototype.flipState=function(){return mw(this,void 0,void 0,function(){var e,n;return pw(this,function(r){switch(r.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return n=r.sent(),this.propagateFailure(e,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},t.prototype.updateUiBasedOnLatestSettings=function(e,n){e===n?(this.buttonController.setText(n?zt.torchOffButton():zt.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},t.prototype.propagateFailure=function(e,n){var r=e?zt.torchOnFailedMessage():zt.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},t.prototype.reset=function(){this.isTorchOn=!1},t}(),xP=function(){function t(e,n){this.onTorchActionFailureCallback=n,this.torchButton=go.createElement("button",Gi.TORCH_BUTTON_ID),this.torchController=new B2(e,this,n)}return t.prototype.render=function(e,n){var r=this;this.torchButton.innerText=zt.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var l=this;this.torchButton.addEventListener("click",function(f){return mw(r,void 0,void 0,function(){return pw(this,function(p){switch(p.label){case 0:return[4,l.torchController.flipState()];case 1:return p.sent(),l.torchController.isTorchEnabled()?(l.torchButton.classList.remove(Gi.TORCH_BUTTON_CLASS_TORCH_OFF),l.torchButton.classList.add(Gi.TORCH_BUTTON_CLASS_TORCH_ON)):(l.torchButton.classList.remove(Gi.TORCH_BUTTON_CLASS_TORCH_ON),l.torchButton.classList.add(Gi.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},t.prototype.updateTorchCapability=function(e){this.torchController=new B2(e,this,this.onTorchActionFailureCallback)},t.prototype.getTorchButton=function(){return this.torchButton},t.prototype.hide=function(){this.torchButton.style.display="none"},t.prototype.show=function(){this.torchButton.style.display="inline-block"},t.prototype.disable=function(){this.torchButton.disabled=!0},t.prototype.enable=function(){this.torchButton.disabled=!1},t.prototype.setText=function(e){this.torchButton.innerText=e},t.prototype.reset=function(){this.torchButton.innerText=zt.torchOnButton(),this.torchController.reset()},t.create=function(e,n,r,l){var f=new t(n,l);return f.render(e,r),f},t}(),yP=function(){function t(e,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",e.appendChild(this.fileBasedScanRegion);var l=document.createElement("label");l.setAttribute("for",this.getFileScanInputId()),l.style.display="inline-block",this.fileBasedScanRegion.appendChild(l),this.fileSelectionButton=go.createElement("button",Gi.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(v){l.click()}),l.append(this.fileSelectionButton),this.fileScanInput=go.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",l.appendChild(this.fileScanInput);var f=this;this.fileScanInput.addEventListener("change",function(v){if(!(v==null||v.target==null)){var w=v.target;if(!(w.files&&w.files.length===0)){var y=w.files,T=y[0],_=T.name;f.setImageNameToButton(_),r(T)}}});var p=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(p),this.fileBasedScanRegion.addEventListener("dragenter",function(v){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionActiveBorder(),v.stopPropagation(),v.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(v){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionDefaultBorder(),v.stopPropagation(),v.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(v){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionActiveBorder(),v.stopPropagation(),v.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(v){v.stopPropagation(),v.preventDefault(),f.fileBasedScanRegion.style.border=f.fileBasedScanRegionDefaultBorder();var w=v.dataTransfer;if(w){var y=w.files;if(!y||y.length===0)return;for(var T=!1,_=0;_<y.length;++_){var I=y.item(_);if(I){var O=/image.*/;if(I.type.match(O)){T=!0;var P=I.name;f.setImageNameToButton(P),r(I),p.innerText=zt.dragAndDropMessage();break}}}T||(p.innerText=zt.dragAndDropMessageOnlyImages())}})}return t.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},t.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},t.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},t.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},t.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},t.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},t.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},t.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=zt.dragAndDropMessage(),e.style.fontWeight="400",e},t.prototype.setImageNameToButton=function(e){var n=20;if(e.length>n){var r=e.substring(0,8),l=e.length,f=e.substring(l-8,l);e="".concat(r,"....").concat(f)}var p=zt.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=p},t.prototype.setInitialValueToButton=function(){var e=zt.fileSelectionChooseImage()+" - "+zt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},t.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},t.create=function(e,n,r){var l=new t(e,n,r);return l},t}(),CP=function(){function t(e){this.selectElement=go.createElement("select",Gi.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return t.prototype.render=function(e){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var l=zt.selectCamera();n.innerText="".concat(l," (").concat(this.cameras.length,")  ")}for(var f=1,p=0,v=this.cameras;p<v.length;p++){var w=v[p],y=w.id,T=w.label==null?y:w.label;(!T||T==="")&&(T=[zt.anonymousCameraPrefix(),f++].join(" "));var _=document.createElement("option");_.value=y,_.innerText=T,this.options.push(_),this.selectElement.appendChild(_)}n.appendChild(this.selectElement),e.appendChild(n)},t.prototype.disable=function(){this.selectElement.disabled=!0},t.prototype.isDisabled=function(){return this.selectElement.disabled===!0},t.prototype.enable=function(){this.selectElement.disabled=!1},t.prototype.getValue=function(){return this.selectElement.value},t.prototype.hasValue=function(e){for(var n=0,r=this.options;n<r.length;n++){var l=r[n];if(l.value===e)return!0}return!1},t.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},t.prototype.hasSingleItem=function(){return this.cameras.length===1},t.prototype.numCameras=function(){return this.cameras.length},t.create=function(e,n){var r=new t(n);return r.render(e),r},t}(),vP=function(){function t(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=go.createElement("input",Gi.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return t.prototype.render=function(e,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=zt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var l=this;this.rangeInput.addEventListener("input",function(){return l.onValueChange()}),this.rangeInput.addEventListener("change",function(){return l.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},t.prototype.onValueChange=function(){var e=zt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},t.prototype.setValues=function(e,n,r,l){this.rangeInput.min=e.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=l.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},t.prototype.show=function(){this.zoomElementContainer.style.display="block"},t.prototype.hide=function(){this.zoomElementContainer.style.display="none"},t.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},t.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},t.create=function(e,n){var r=new t;return r.render(e,n),r},t}(),zi;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(zi||(zi={}));function EP(t){return{fps:t.fps,qrbox:t.qrbox,aspectRatio:t.aspectRatio,disableFlip:t.disableFlip,videoConstraints:t.videoConstraints}}function wP(t,e){return{formatsToSupport:t.formatsToSupport,useBarCodeDetectorIfSupported:t.useBarCodeDetectorIfSupported,experimentalFeatures:t.experimentalFeatures,verbose:e}}var AP=function(){function t(e,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new ts(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new dw(this.verbose),this.persistedDataManager=new fP,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return t.prototype.render=function(e,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(f,p){if(e)e(f,p);else{if(r.lastMatchFound===f)return;r.lastMatchFound=f,r.setHeaderMessage(zt.lastMatch(f),zi.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(f,p){n&&n(f,p)};var l=document.getElementById(this.elementId);if(!l)throw"HTML Element with id=".concat(this.elementId," not found");l.innerHTML="",this.createBasicLayout(l),this.html5Qrcode=new D2(this.getScanRegionId(),wP(this.config,this.verbose))},t.prototype.pause=function(e){(Vr(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},t.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},t.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},t.prototype.clear=function(){var e=this,n=function(){var r=document.getElementById(e.elementId);r&&(r.innerHTML="",e.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,l){if(!e.html5Qrcode){r();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(f){if(!e.html5Qrcode){r();return}e.html5Qrcode.clear(),n(),r()}).catch(function(f){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",f),l(f)}):(e.html5Qrcode.clear(),n(),r())}):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},t.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},t.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},t.prototype.createConfig=function(e){return e?(e.fps||(e.fps=hr.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!hr.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=hr.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=hr.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:hr.SCAN_DEFAULT_FPS,rememberLastUsedCamera:hr.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:hr.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",e.appendChild(n),ts.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var l=document.createElement("div"),f=this.getDashboardId();l.id=f,l.style.width="100%",e.appendChild(l),this.setupInitialDashboard(l)},t.prototype.resetBasicLayout=function(e){e.style.border="none"},t.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(e){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",e.appendChild(n);var r=new gP;r.renderInto(n);var l=document.createElement("div");l.id=this.getHeaderMessageContainerId(),l.style.display="none",l.style.textAlign="center",l.style.fontSize="14px",l.style.padding="2px 10px",l.style.margin="4px",l.style.borderTop="1px solid #f6f6f6",n.appendChild(l)},t.prototype.createSection=function(e){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",e.appendChild(n)},t.prototype.createCameraListUi=function(e,n,r){var l=this;l.showHideScanTypeSwapLink(!1),l.setHeaderMessage(zt.cameraPermissionRequesting());var f=function(){r||l.createPermissionButton(e,n)};D2.getCameras().then(function(p){l.persistedDataManager.setHasPermission(!0),l.showHideScanTypeSwapLink(!0),l.resetHeaderMessage(),p&&p.length>0?(e.removeChild(n),l.renderCameraSelection(p)):(l.setHeaderMessage(zt.noCameraFound(),zi.STATUS_WARNING),f())}).catch(function(p){l.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:f(),l.setHeaderMessage(p,zi.STATUS_WARNING),l.showHideScanTypeSwapLink(!0)})},t.prototype.createPermissionButton=function(e,n){var r=this,l=go.createElement("button",this.getCameraPermissionButtonId());l.innerText=zt.cameraPermissionTitle(),l.addEventListener("click",function(){l.disabled=!0,r.createCameraListUi(e,n,l)}),n.appendChild(l)},t.prototype.createPermissionsUi=function(e,n){var r=this;if(ts.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){P2.hasPermissions().then(function(l){l?r.createCameraListUi(e,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,n))}).catch(function(l){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,n)});return}this.createPermissionButton(e,n)},t.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");e.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=ts.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var l=document.createElement("div");l.style.textAlign="center",r.appendChild(l),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,l),this.renderFileScanUi(n)},t.prototype.renderFileScanUi=function(e){var n=ts.isFileScanType(this.currentScanType),r=this,l=function(f){if(!r.html5Qrcode)throw"html5Qrcode not defined";ts.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(zt.loadingImage()),r.html5Qrcode.scanFileV2(f,!0).then(function(p){r.resetHeaderMessage(),r.qrCodeSuccessCallback(p.decodedText,p)}).catch(function(p){r.setHeaderMessage(p,zi.STATUS_WARNING),r.qrCodeErrorCallback(p,fw.createFrom(p))}))};this.fileSelectionUi=yP.create(e,n,l)},t.prototype.renderCameraSelection=function(e){var n=this,r=this,l=document.getElementById(this.getDashboardSectionCameraScanRegionId());l.style.textAlign="center";var f=vP.create(l,!1),p=function(D){var F=D.zoomFeature();if(F.isSupported()){f.setOnCameraZoomValueChangeCallback(function(q){F.apply(q)});var G=1;n.config.defaultZoomValueIfSupported&&(G=n.config.defaultZoomValueIfSupported),G=F9(G,F.min(),F.max()),f.setValues(F.min(),F.max(),G,F.step()),f.show()}},v=CP.create(l,e),w=document.createElement("span"),y=go.createElement("button",Gi.CAMERA_START_BUTTON_ID);y.innerText=zt.scanButtonStartScanningText(),w.appendChild(y);var T=go.createElement("button",Gi.CAMERA_STOP_BUTTON_ID);T.innerText=zt.scanButtonStopScanningText(),T.style.display="none",T.disabled=!0,w.appendChild(T);var _,I=function(D){if(!D.torchFeature().isSupported()){_&&_.hide();return}_?_.updateTorchCapability(D.torchFeature()):_=xP.create(w,D.torchFeature(),{display:"none",marginLeft:"5px"},function(F){r.setHeaderMessage(F,zi.STATUS_WARNING)}),_.show()};l.appendChild(w);var O=function(D){D||(y.style.display="none"),y.innerText=zt.scanButtonStartScanningText(),y.style.opacity="1",y.disabled=!1,D&&(y.style.display="inline-block")};if(y.addEventListener("click",function(D){y.innerText=zt.scanButtonScanningStarting(),v.disable(),y.disabled=!0,y.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var F=v.getValue();r.persistedDataManager.setLastUsedCameraId(F),r.html5Qrcode.start(F,EP(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(G){T.disabled=!1,T.style.display="inline-block",O(!1);var q=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&I(q),n.config.showZoomSliderIfSupported===!0&&p(q)}).catch(function(G){r.showHideScanTypeSwapLink(!0),v.enable(),O(!0),r.setHeaderMessage(G,zi.STATUS_WARNING)})}),v.hasSingleItem()&&y.click(),T.addEventListener("click",function(D){if(!r.html5Qrcode)throw"html5Qrcode not defined";T.disabled=!0,r.html5Qrcode.stop().then(function(F){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),v.enable(),y.disabled=!1,T.style.display="none",y.style.display="inline-block",_&&(_.reset(),_.hide()),f.removeOnCameraZoomValueChangeCallback(),f.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(F){T.disabled=!1,r.setHeaderMessage(F,zi.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var P=r.persistedDataManager.getLastUsedCameraId();v.hasValue(P)?(v.setValue(P),y.click()):r.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var e=this,n=zt.textIfCameraScanSelected(),r=zt.textIfFileScanSelected(),l=document.getElementById(this.getDashboardSectionId()),f=document.createElement("div");f.style.textAlign="center";var p=go.createElement("span",this.getDashboardSectionSwapLinkId());p.style.textDecoration="underline",p.style.cursor="pointer",p.innerText=ts.isCameraScanType(this.currentScanType)?n:r,p.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,ts.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),p.innerText=r,e.currentScanType=cs.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),p.innerText=n,e.currentScanType=cs.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),f.appendChild(p),l.appendChild(f)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){P2.hasPermissions().then(function(r){if(r){var l=document.getElementById(n.getCameraPermissionButtonId());if(!l)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";l.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},t.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},t.prototype.setHeaderMessage=function(e,n){n||(n=zi.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=e,r.style.display="block",n){case zi.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case zi.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case zi.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},t.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},t.prototype.insertCameraScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=lP,this.cameraScanImage.alt=zt.cameraScanAltText()},t.prototype.insertFileScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=cP,this.fileScanImage.alt=zt.fileScanAltText()},t.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},t.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},t.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},t.prototype.getDashboardSectionSwapLinkId=function(){return Gi.SCAN_TYPE_CHANGE_ANCHOR_ID},t.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},t.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},t.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},t.prototype.getCameraPermissionButtonId=function(){return Gi.CAMERA_PERMISSION_BUTTON_ID},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},t}();const TP=()=>{const[t,e]=B.useState(!1),[n,r]=B.useState(""),[l,f]=B.useState(""),p=fs(),v=B.useRef(null),w=B.useRef(null);B.useEffect(()=>()=>{w.current&&w.current.clear().catch(console.error)},[]),B.useEffect(()=>{t&&v.current&&(w.current=new AP("qr-reader",{fps:10,qrbox:{width:250,height:250},aspectRatio:1},!1),w.current.render(_,I))},[t]);const y=()=>{r(""),f(""),e(!0)},T=()=>{w.current&&(w.current.clear().catch(console.error),w.current=null),e(!1)},_=async O=>{var P,D;console.log("Scanned:",O),T();try{const F=await X0.scanQR(O),{machine:G}=F.data;f("QR code scanned successfully!"),setTimeout(()=>{p(`/machine/${G.id}`)},1e3)}catch(F){r(((D=(P=F.response)==null?void 0:P.data)==null?void 0:D.message)||"Invalid QR code")}},I=O=>{console.warn("Scan failed:",O)};return M.jsxs("div",{className:"min-h-screen bg-gray-50",children:[M.jsx("header",{className:"bg-white shadow-sm border-b",children:M.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:M.jsxs("div",{className:"flex items-center h-16",children:[M.jsxs(Lt,{variant:"ghost",size:"sm",onClick:()=>p("/client/dashboard"),className:"mr-4",children:[M.jsx(DC,{className:"h-4 w-4 mr-2"}),"Back"]}),M.jsx(Gs,{className:"h-8 w-8 text-blue-600 mr-3"}),M.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"QR Scanner"})]})})}),M.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n&&M.jsx(Yi,{className:"mb-6 border-red-200 bg-red-50",children:M.jsx(Xi,{className:"text-red-800",children:n})}),l&&M.jsx(Yi,{className:"mb-6 border-green-200 bg-green-50",children:M.jsx(Xi,{className:"text-green-800",children:l})}),M.jsxs(tn,{children:[M.jsxs(Si,{className:"text-center",children:[M.jsx(bi,{children:"Scan Machine QR Code"}),M.jsx(qi,{children:"Point your camera at a FitCode QR code to view machine information"})]}),M.jsx(an,{children:t?M.jsxs("div",{className:"space-y-4",children:[M.jsx("div",{className:"text-center",children:M.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Position the QR code within the scanning area"})}),M.jsx("div",{id:"qr-reader",ref:v,className:"w-full min-h-[300px]"}),M.jsx("div",{className:"text-center",children:M.jsx(Lt,{variant:"outline",onClick:T,children:"Stop Scanning"})})]}):M.jsxs("div",{className:"text-center py-8",children:[M.jsx(Wb,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),M.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Ready to Scan"}),M.jsx("p",{className:"text-gray-600 mb-6",children:"Make sure you have a FitCode QR code ready to scan"}),M.jsxs(Lt,{onClick:y,size:"lg",children:[M.jsx(Gs,{className:"h-5 w-5 mr-2"}),"Start Scanning"]})]})})]}),M.jsxs(tn,{className:"mt-6",children:[M.jsx(Si,{children:M.jsx(bi,{className:"text-lg",children:"Scanning Tips"})}),M.jsx(an,{children:M.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[M.jsx("li",{children:"• Make sure the QR code is well-lit and clearly visible"}),M.jsx("li",{children:"• Hold your device steady and at a comfortable distance"}),M.jsx("li",{children:"• Only FitCode QR codes will work with this scanner"}),M.jsx("li",{children:"• If scanning fails, try adjusting the angle or distance"})]})})]})]})]})},SP=()=>{var K;const{machineId:t}=xT(),[e,n]=B.useState(null),[r,l]=B.useState(!0),[f,p]=B.useState(""),[v,w]=B.useState(""),[y,T]=B.useState("en"),_=fs();B.useEffect(()=>{I()},[t]);const I=async()=>{var W,oe;try{l(!0);const Z=await ja.getMachineDetails(t);n(Z.data.machine)}catch(Z){p(((oe=(W=Z.response)==null?void 0:W.data)==null?void 0:oe.message)||"Failed to load machine information")}finally{l(!1)}},O=async()=>{var W,oe;try{e.is_bookmarked?(await ja.removeBookmark(t),w("Bookmark removed"),n({...e,is_bookmarked:!1})):(await ja.bookmarkMachine(t),w("Machine bookmarked"),n({...e,is_bookmarked:!0}))}catch(Z){p(((oe=(W=Z.response)==null?void 0:W.data)==null?void 0:oe.message)||"Failed to update bookmark")}},P=W=>{const oe=e.multilingual_content.find(Z=>Z.language_code===y);return oe&&oe[W]||e[W]},D=()=>{const W=e.multilingual_content.map(oe=>oe.language_code);return[...new Set(["en",...W])]},F=W=>({en:"English",es:"Español",fr:"Français",de:"Deutsch",it:"Italiano",pt:"Português",zh:"中文",ja:"日本語",ko:"한국어",ar:"العربية"})[W]||W.toUpperCase(),G=W=>W?W.includes("youtube.com")||W.includes("youtu.be"):!1,q=W=>W?W.includes("youtube.com/watch?v=")?`https://www.youtube.com/embed/${W.split("v=")[1].split("&")[0]}`:W.includes("youtu.be/")?`https://www.youtube.com/embed/${W.split("youtu.be/")[1].split("?")[0]}`:(W.includes("youtube.com/embed/"),W):"",H=W=>W?W.startsWith("http")?W:`http://localhost:5000/api/${W}`:"";return r?M.jsx("div",{className:"min-h-screen flex items-center justify-center",children:M.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):f&&!e?M.jsx("div",{className:"min-h-screen flex items-center justify-center",children:M.jsx(tn,{className:"w-full max-w-md",children:M.jsxs(an,{className:"p-6 text-center",children:[M.jsx(Yi,{className:"border-red-200 bg-red-50",children:M.jsx(Xi,{className:"text-red-800",children:f})}),M.jsx(Lt,{className:"mt-4",onClick:()=>_("/client/dashboard"),children:"Back to Dashboard"})]})})}):M.jsxs("div",{className:"min-h-screen bg-gray-50",children:[M.jsx("header",{className:"bg-white shadow-sm border-b",children:M.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:M.jsxs("div",{className:"flex justify-between items-center h-16",children:[M.jsxs("div",{className:"flex items-center",children:[M.jsxs(Lt,{variant:"ghost",size:"sm",onClick:()=>_("/client/dashboard"),className:"mr-4",children:[M.jsx(DC,{className:"h-4 w-4 mr-2"})," Back"]}),M.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:e==null?void 0:e.name})]}),M.jsxs(Lt,{variant:e!=null&&e.is_bookmarked?"default":"outline",size:"sm",onClick:O,children:[e!=null&&e.is_bookmarked?M.jsx(zb,{className:"h-4 w-4 mr-2"}):M.jsx(gf,{className:"h-4 w-4 mr-2"}),e!=null&&e.is_bookmarked?"Bookmarked":"Bookmark"]})]})})}),M.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[f&&M.jsx(Yi,{className:"mb-6 border-red-200 bg-red-50",children:M.jsx(Xi,{className:"text-red-800",children:f})}),v&&M.jsx(Yi,{className:"mb-6 border-green-200 bg-green-50",children:M.jsx(Xi,{className:"text-green-800",children:v})}),(e==null?void 0:e.gym)&&M.jsx(tn,{className:"mb-6",children:M.jsx(an,{className:"p-6",children:M.jsxs("div",{className:"flex items-center space-x-4",children:[e.gym.logo_url&&M.jsx("img",{src:e.gym.logo_url,alt:e.gym.name,className:"h-12 w-12 object-cover rounded"}),M.jsxs("div",{children:[M.jsx("h2",{className:"text-lg font-semibold",children:e.gym.name}),e.gym.contact_info&&M.jsx("p",{className:"text-sm text-gray-600",children:e.gym.contact_info})]})]})})}),((K=e==null?void 0:e.multilingual_content)==null?void 0:K.length)>0&&M.jsx(tn,{className:"mb-6",children:M.jsx(an,{className:"p-4",children:M.jsxs("div",{className:"flex items-center space-x-4",children:[M.jsx(s3,{className:"h-5 w-5 text-gray-600"}),M.jsx("span",{className:"text-sm font-medium",children:"Language:"}),M.jsx("div",{className:"flex flex-wrap gap-2",children:D().map(W=>M.jsx(Lt,{size:"sm",variant:y===W?"default":"outline",onClick:()=>T(W),children:F(W)},W))})]})})}),M.jsx(tn,{className:"mb-6",children:M.jsxs(Si,{children:[M.jsx(bi,{className:"text-2xl",children:e==null?void 0:e.name}),M.jsx(qi,{children:"Complete guide for using this machine safely and effectively"})]})}),M.jsxs(ll,{defaultValue:"video",className:"space-y-6",children:[M.jsxs(cl,{className:"grid w-full grid-cols-3",children:[M.jsxs(pi,{value:"video",className:"flex items-center gap-2",children:[M.jsx(Ex,{className:"h-4 w-4"})," Video Guide"]}),M.jsxs(pi,{value:"instructions",className:"flex items-center gap-2",children:[M.jsx(Cx,{className:"h-4 w-4"})," Instructions"]}),M.jsxs(pi,{value:"safety",className:"flex items-center gap-2",children:[M.jsx(x0,{className:"h-4 w-4"})," Safety"]})]}),M.jsx(xi,{value:"video",children:M.jsxs(tn,{children:[M.jsxs(Si,{children:[M.jsx(bi,{children:"How to Use Video"}),M.jsx(qi,{children:"Watch this video to learn proper technique"})]}),M.jsx(an,{children:e!=null&&e.local_video_path?M.jsx("div",{className:"aspect-video",children:M.jsx("video",{src:H(e.local_video_path),className:"w-full h-full rounded-lg",controls:!0,title:`${e.name} - How to Use`})}):e!=null&&e.how_to_use_video_url?M.jsx("div",{className:"aspect-video",children:G(e.how_to_use_video_url)?M.jsx("iframe",{src:q(e.how_to_use_video_url),className:"w-full h-full rounded-lg",allowFullScreen:!0,title:`${e.name} - How to Use`}):M.jsx("video",{src:e.how_to_use_video_url,className:"w-full h-full rounded-lg",controls:!0,title:`${e.name} - How to Use`})}):M.jsxs("div",{className:"text-center py-8",children:[M.jsx(Ex,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),M.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No video available"}),M.jsx("p",{className:"text-gray-600",children:"Check the instructions tab for written guidance"})]})})]})}),M.jsx(xi,{value:"instructions",children:M.jsxs(tn,{children:[M.jsxs(Si,{children:[M.jsx(bi,{children:"Usage Instructions"}),M.jsx(qi,{children:"Step-by-step guide for proper use"})]}),M.jsx(an,{children:e!=null&&e.usage_guide||P("instruction_text")?M.jsx("div",{className:"prose max-w-none whitespace-pre-wrap text-gray-700",children:P("instruction_text")||e.usage_guide}):M.jsxs("div",{className:"text-center py-8",children:[M.jsx(Cx,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),M.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No instructions available"}),M.jsx("p",{className:"text-gray-600",children:"Check the video tab for visual guidance"})]})})]})}),M.jsx(xi,{value:"safety",children:M.jsxs(tn,{children:[M.jsxs(Si,{children:[M.jsx(bi,{children:"Safety Information"}),M.jsx(qi,{children:"Important safety tips and precautions"})]}),M.jsx(an,{children:e!=null&&e.safety_tips||P("safety_text")?M.jsxs("div",{className:"space-y-4",children:[M.jsxs(Yi,{className:"border-yellow-200 bg-yellow-50",children:[M.jsx(x0,{className:"h-4 w-4 text-yellow-600"}),M.jsx(Xi,{className:"text-yellow-800",children:"Please read all safety information before using this machine"})]}),M.jsx("div",{className:"prose max-w-none whitespace-pre-wrap text-gray-700",children:P("safety_text")||e.safety_tips})]}):M.jsxs("div",{className:"text-center py-8",children:[M.jsx(x0,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),M.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No safety information available"}),M.jsx("p",{className:"text-gray-600",children:"Always exercise caution when using gym equipment"})]})})]})})]}),M.jsx("div",{className:"mt-8 text-center",children:M.jsxs("p",{className:"text-sm text-gray-500",children:["Powered by ",M.jsx("span",{className:"font-semibold text-blue-600",children:"FitCode"})]})})]})]})},ff=({children:t,userType:e})=>uv()?e&&lv()!==e?M.jsx(Hs,{to:"/",replace:!0}):t:M.jsx(Hs,{to:"/login",replace:!0});function bP(){const[t,e]=B.useState(!0),[n,r]=B.useState(!1),[l,f]=B.useState(null);return B.useEffect(()=>{(async()=>{if(uv())try{await Mc.verifyToken(),r(!0),f(rN()?"owner":"client")}catch(v){console.error("Token verification failed:",v),localStorage.clear()}e(!1)})()},[]),t?M.jsx("div",{className:"min-h-screen flex items-center justify-center",children:M.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):M.jsx(nS,{children:M.jsx("div",{className:"min-h-screen bg-gray-50",children:M.jsxs(DT,{children:[M.jsx(ho,{path:"/login",element:n?M.jsx(Hs,{to:l==="owner"?"/owner/dashboard":"/client/dashboard",replace:!0}):M.jsx(oN,{setAuthenticated:r,setUserType:f})}),M.jsx(ho,{path:"/register",element:n?M.jsx(Hs,{to:l==="owner"?"/owner/dashboard":"/client/dashboard",replace:!0}):M.jsx(sN,{})}),M.jsx(ho,{path:"/owner/dashboard",element:M.jsx(ff,{userType:"owner",children:M.jsx(MM,{})})}),M.jsx(ho,{path:"/client/dashboard",element:M.jsx(ff,{userType:"client",children:M.jsx(k9,{})})}),M.jsx(ho,{path:"/client/scanner",element:M.jsx(ff,{userType:"client",children:M.jsx(TP,{})})}),M.jsx(ho,{path:"/machine/:machineId",element:M.jsx(ff,{userType:"client",children:M.jsx(SP,{})})}),M.jsx(ho,{path:"/",element:n?M.jsx(Hs,{to:l==="owner"?"/owner/dashboard":"/client/dashboard",replace:!0}):M.jsx(Hs,{to:"/login",replace:!0})}),M.jsx(ho,{path:"*",element:M.jsx(Hs,{to:"/",replace:!0})})]})})})}VA.createRoot(document.getElementById("root")).render(M.jsx(B.StrictMode,{children:M.jsx(bP,{})}));
